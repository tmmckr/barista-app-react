(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function iA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xd={exports:{}},Ao={};var Ib;function sA(){if(Ib)return Ao;Ib=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Ao.Fragment=e,Ao.jsx=t,Ao.jsxs=t,Ao}var Lb;function aA(){return Lb||(Lb=1,Xd.exports=sA()),Xd.exports}var b=aA(),$d={exports:{}},he={};var zb;function rA(){if(zb)return he;zb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),y=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function M(R,H,Q){this.props=R,this.context=H,this.refs=w,this.updater=Q||E}M.prototype.isReactComponent={},M.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},M.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function L(){}L.prototype=M.prototype;function B(R,H,Q){this.props=R,this.context=H,this.refs=w,this.updater=Q||E}var K=B.prototype=new L;K.constructor=B,T(K,M.prototype),K.isPureReactComponent=!0;var q=Array.isArray;function X(){}var V={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function G(R,H,Q){var Z=Q.ref;return{$$typeof:n,type:R,key:H,ref:Z!==void 0?Z:null,props:Q}}function ce(R,H){return G(R.type,H,R.props)}function le(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function ee(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return H[Q]})}var be=/\/+/g;function He(R,H){return typeof R=="object"&&R!==null&&R.key!=null?ee(""+R.key):H.toString(36)}function _e(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(X,X):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function z(R,H,Q,Z,oe){var ue=typeof R;(ue==="undefined"||ue==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(ue){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case n:case e:ke=!0;break;case g:return ke=R._init,z(ke(R._payload),H,Q,Z,oe)}}if(ke)return oe=oe(R),ke=Z===""?"."+He(R,0):Z,q(oe)?(Q="",ke!=null&&(Q=ke.replace(be,"$&/")+"/"),z(oe,H,Q,"",function(Dr){return Dr})):oe!=null&&(le(oe)&&(oe=ce(oe,Q+(oe.key==null||R&&R.key===oe.key?"":(""+oe.key).replace(be,"$&/")+"/")+ke)),H.push(oe)),1;ke=0;var Mt=Z===""?".":Z+":";if(q(R))for(var tt=0;tt<R.length;tt++)Z=R[tt],ue=Mt+He(Z,tt),ke+=z(Z,H,Q,ue,oe);else if(tt=x(R),typeof tt=="function")for(R=tt.call(R),tt=0;!(Z=R.next()).done;)Z=Z.value,ue=Mt+He(Z,tt++),ke+=z(Z,H,Q,ue,oe);else if(ue==="object"){if(typeof R.then=="function")return z(_e(R),H,Q,Z,oe);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ke}function W(R,H,Q){if(R==null)return R;var Z=[],oe=0;return z(R,Z,"","",function(ue){return H.call(Q,ue,oe++)}),Z}function ie(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var Ce=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Te={map:W,forEach:function(R,H,Q){W(R,function(){H.apply(this,arguments)},Q)},count:function(R){var H=0;return W(R,function(){H++}),H},toArray:function(R){return W(R,function(H){return H})||[]},only:function(R){if(!le(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return he.Activity=_,he.Children=Te,he.Component=M,he.Fragment=t,he.Profiler=r,he.PureComponent=B,he.StrictMode=i,he.Suspense=f,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,he.__COMPILER_RUNTIME={__proto__:null,c:function(R){return V.H.useMemoCache(R)}},he.cache=function(R){return function(){return R.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(R,H,Q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=T({},R.props),oe=R.key;if(H!=null)for(ue in H.key!==void 0&&(oe=""+H.key),H)!$.call(H,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&H.ref===void 0||(Z[ue]=H[ue]);var ue=arguments.length-2;if(ue===1)Z.children=Q;else if(1<ue){for(var ke=Array(ue),Mt=0;Mt<ue;Mt++)ke[Mt]=arguments[Mt+2];Z.children=ke}return G(R.type,oe,Z)},he.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},he.createElement=function(R,H,Q){var Z,oe={},ue=null;if(H!=null)for(Z in H.key!==void 0&&(ue=""+H.key),H)$.call(H,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(oe[Z]=H[Z]);var ke=arguments.length-2;if(ke===1)oe.children=Q;else if(1<ke){for(var Mt=Array(ke),tt=0;tt<ke;tt++)Mt[tt]=arguments[tt+2];oe.children=Mt}if(R&&R.defaultProps)for(Z in ke=R.defaultProps,ke)oe[Z]===void 0&&(oe[Z]=ke[Z]);return G(R,ue,oe)},he.createRef=function(){return{current:null}},he.forwardRef=function(R){return{$$typeof:h,render:R}},he.isValidElement=le,he.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:ie}},he.memo=function(R,H){return{$$typeof:p,type:R,compare:H===void 0?null:H}},he.startTransition=function(R){var H=V.T,Q={};V.T=Q;try{var Z=R(),oe=V.S;oe!==null&&oe(Q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(X,Ce)}catch(ue){Ce(ue)}finally{H!==null&&Q.types!==null&&(H.types=Q.types),V.T=H}},he.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},he.use=function(R){return V.H.use(R)},he.useActionState=function(R,H,Q){return V.H.useActionState(R,H,Q)},he.useCallback=function(R,H){return V.H.useCallback(R,H)},he.useContext=function(R){return V.H.useContext(R)},he.useDebugValue=function(){},he.useDeferredValue=function(R,H){return V.H.useDeferredValue(R,H)},he.useEffect=function(R,H){return V.H.useEffect(R,H)},he.useEffectEvent=function(R){return V.H.useEffectEvent(R)},he.useId=function(){return V.H.useId()},he.useImperativeHandle=function(R,H,Q){return V.H.useImperativeHandle(R,H,Q)},he.useInsertionEffect=function(R,H){return V.H.useInsertionEffect(R,H)},he.useLayoutEffect=function(R,H){return V.H.useLayoutEffect(R,H)},he.useMemo=function(R,H){return V.H.useMemo(R,H)},he.useOptimistic=function(R,H){return V.H.useOptimistic(R,H)},he.useReducer=function(R,H,Q){return V.H.useReducer(R,H,Q)},he.useRef=function(R){return V.H.useRef(R)},he.useState=function(R){return V.H.useState(R)},he.useSyncExternalStore=function(R,H,Q){return V.H.useSyncExternalStore(R,H,Q)},he.useTransition=function(){return V.H.useTransition()},he.version="19.2.3",he}var Pb;function um(){return Pb||(Pb=1,$d.exports=rA()),$d.exports}var N=um();const Ru=iA(N);var Zd={exports:{}},Ro={},Jd={exports:{}},ep={};var jb;function oA(){return jb||(jb=1,(function(n){function e(z,W){var ie=z.length;z.push(W);e:for(;0<ie;){var Ce=ie-1>>>1,Te=z[Ce];if(0<r(Te,W))z[Ce]=W,z[ie]=Te,ie=Ce;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var W=z[0],ie=z.pop();if(ie!==W){z[0]=ie;e:for(var Ce=0,Te=z.length,R=Te>>>1;Ce<R;){var H=2*(Ce+1)-1,Q=z[H],Z=H+1,oe=z[Z];if(0>r(Q,ie))Z<Te&&0>r(oe,Q)?(z[Ce]=oe,z[Z]=ie,Ce=Z):(z[Ce]=Q,z[H]=ie,Ce=H);else if(Z<Te&&0>r(oe,ie))z[Ce]=oe,z[Z]=ie,Ce=Z;else break e}}return W}function r(z,W){var ie=z.sortIndex-W.sortIndex;return ie!==0?ie:z.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],p=[],g=1,_=null,y=3,x=!1,E=!1,T=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function K(z){for(var W=t(p);W!==null;){if(W.callback===null)i(p);else if(W.startTime<=z)i(p),W.sortIndex=W.expirationTime,e(f,W);else break;W=t(p)}}function q(z){if(T=!1,K(z),!E)if(t(f)!==null)E=!0,X||(X=!0,ee());else{var W=t(p);W!==null&&_e(q,W.startTime-z)}}var X=!1,V=-1,$=5,G=-1;function ce(){return w?!0:!(n.unstable_now()-G<$)}function le(){if(w=!1,X){var z=n.unstable_now();G=z;var W=!0;try{e:{E=!1,T&&(T=!1,L(V),V=-1),x=!0;var ie=y;try{t:{for(K(z),_=t(f);_!==null&&!(_.expirationTime>z&&ce());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,y=_.priorityLevel;var Te=Ce(_.expirationTime<=z);if(z=n.unstable_now(),typeof Te=="function"){_.callback=Te,K(z),W=!0;break t}_===t(f)&&i(f),K(z)}else i(f);_=t(f)}if(_!==null)W=!0;else{var R=t(p);R!==null&&_e(q,R.startTime-z),W=!1}}break e}finally{_=null,y=ie,x=!1}W=void 0}}finally{W?ee():X=!1}}}var ee;if(typeof B=="function")ee=function(){B(le)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,He=be.port2;be.port1.onmessage=le,ee=function(){He.postMessage(null)}}else ee=function(){M(le,0)};function _e(z,W){V=M(function(){z(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var ie=y;y=W;try{return z()}finally{y=ie}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=y;y=z;try{return W()}finally{y=ie}},n.unstable_scheduleCallback=function(z,W,ie){var Ce=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ce+ie:Ce):ie=Ce,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ie+Te,z={id:g++,callback:W,priorityLevel:z,startTime:ie,expirationTime:Te,sortIndex:-1},ie>Ce?(z.sortIndex=ie,e(p,z),t(f)===null&&z===t(p)&&(T?(L(V),V=-1):T=!0,_e(q,ie-Ce))):(z.sortIndex=Te,e(f,z),E||x||(E=!0,X||(X=!0,ee()))),z},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(z){var W=y;return function(){var ie=y;y=W;try{return z.apply(this,arguments)}finally{y=ie}}}})(ep)),ep}var Bb;function lA(){return Bb||(Bb=1,Jd.exports=oA()),Jd.exports}var tp={exports:{}},Ct={};var Ub;function cA(){if(Ub)return Ct;Ub=1;var n=um();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:p,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ct.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,g)},Ct.flushSync=function(f){var p=c.T,g=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=g,i.d.f()}},Ct.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Ct.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ct.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,_=h(g,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:x}):g==="script"&&i.d.X(f,{crossOrigin:_,integrity:y,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ct.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Ct.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=h(g,p.crossOrigin);i.d.L(f,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ct.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Ct.requestFormReset=function(f){i.d.r(f)},Ct.unstable_batchedUpdates=function(f,p){return f(p)},Ct.useFormState=function(f,p,g){return c.H.useFormState(f,p,g)},Ct.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ct.version="19.2.3",Ct}var Hb;function uA(){if(Hb)return tp.exports;Hb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tp.exports=cA(),tp.exports}var Fb;function hA(){if(Fb)return Ro;Fb=1;var n=lA(),e=um(),t=uA();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function p(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return f(d),s;if(m===u)return f(d),a;m=m.sibling}throw Error(i(188))}if(l.return!==u.return)l=d,u=m;else{for(var v=!1,S=d.child;S;){if(S===l){v=!0,l=d,u=m;break}if(S===u){v=!0,u=d,l=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===l){v=!0,l=m,u=d;break}if(S===u){v=!0,u=m,l=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),B=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var be=Symbol.for("react.client.reference");function He(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===be?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case B:return s.displayName||"Context";case L:return(s._context.displayName||"Context")+".Consumer";case K:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return a=s.displayName||null,a!==null?a:He(s.type)||"Memo";case $:a=s._payload,s=s._init;try{return He(s(a))}catch{}}return null}var _e=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ce=[],Te=-1;function R(s){return{current:s}}function H(s){0>Te||(s.current=Ce[Te],Ce[Te]=null,Te--)}function Q(s,a){Te++,Ce[Te]=s.current,s.current=a}var Z=R(null),oe=R(null),ue=R(null),ke=R(null);function Mt(s,a){switch(Q(ue,a),Q(oe,s),Q(Z,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?ib(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=ib(a),s=sb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(Z),Q(Z,s)}function tt(){H(Z),H(oe),H(ue)}function Dr(s){s.memoizedState!==null&&Q(ke,s);var a=Z.current,l=sb(a,s.type);a!==l&&(Q(oe,s),Q(Z,l))}function zl(s){oe.current===s&&(H(Z),H(oe)),ke.current===s&&(H(ke),Eo._currentValue=ie)}var Nh,Dg;function bs(s){if(Nh===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Nh=a&&a[1]||"",Dg=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nh+s+Dg}var kh=!1;function Dh(s,a){if(!s||kh)return"";kh=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(P){var I=P}Reflect.construct(s,[],F)}else{try{F.call()}catch(P){I=P}s.call(F.prototype)}}else{try{throw Error()}catch(P){I=P}(F=s())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(P){if(P&&I&&typeof P.stack=="string")return[P.stack,I.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),v=m[0],S=m[1];if(v&&S){var C=v.split(`
`),D=S.split(`
`);for(d=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(u===C.length||d===D.length)for(u=C.length-1,d=D.length-1;1<=u&&0<=d&&C[u]!==D[d];)d--;for(;1<=u&&0<=d;u--,d--)if(C[u]!==D[d]){if(u!==1||d!==1)do if(u--,d--,0>d||C[u]!==D[d]){var j=`
`+C[u].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=u&&0<=d);break}}}finally{kh=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bs(l):""}function IT(s,a){switch(s.tag){case 26:case 27:case 5:return bs(s.type);case 16:return bs("Lazy");case 13:return s.child!==a&&a!==null?bs("Suspense Fallback"):bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return Dh(s.type,!1);case 11:return Dh(s.type.render,!1);case 1:return Dh(s.type,!0);case 31:return bs("Activity");default:return""}}function Ig(s){try{var a="",l=null;do a+=IT(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ih=Object.prototype.hasOwnProperty,Lh=n.unstable_scheduleCallback,zh=n.unstable_cancelCallback,LT=n.unstable_shouldYield,zT=n.unstable_requestPaint,qt=n.unstable_now,PT=n.unstable_getCurrentPriorityLevel,Lg=n.unstable_ImmediatePriority,zg=n.unstable_UserBlockingPriority,Pl=n.unstable_NormalPriority,jT=n.unstable_LowPriority,Pg=n.unstable_IdlePriority,BT=n.log,UT=n.unstable_setDisableYieldValue,Ir=null,Gt=null;function Ci(s){if(typeof BT=="function"&&UT(s),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Ir,s)}catch{}}var Wt=Math.clz32?Math.clz32:VT,HT=Math.log,FT=Math.LN2;function VT(s){return s>>>=0,s===0?32:31-(HT(s)/FT|0)|0}var jl=256,Bl=262144,Ul=4194304;function xs(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Hl(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,v=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?d=xs(u):(v&=S,v!==0?d=xs(v):l||(l=S&~s,l!==0&&(d=xs(l))))):(S=u&~m,S!==0?d=xs(S):v!==0?d=xs(v):l||(l=u&~s,l!==0&&(d=xs(l)))),d===0?0:a!==0&&a!==d&&(a&m)===0&&(m=d&-d,l=a&-a,m>=l||m===32&&(l&4194048)!==0)?a:d}function Lr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function qT(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jg(){var s=Ul;return Ul<<=1,(Ul&62914560)===0&&(Ul=4194304),s}function Ph(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function zr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function GT(s,a,l,u,d,m){var v=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,C=s.expirationTimes,D=s.hiddenUpdates;for(l=v&~l;0<l;){var j=31-Wt(l),F=1<<j;S[j]=0,C[j]=-1;var I=D[j];if(I!==null)for(D[j]=null,j=0;j<I.length;j++){var P=I[j];P!==null&&(P.lane&=-536870913)}l&=~F}u!==0&&Bg(s,u,0),m!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=m&~(v&~a))}function Bg(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Wt(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Ug(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Wt(l),d=1<<u;d&a|s[u]&a&&(s[u]|=a),l&=~d}}function Hg(s,a){var l=a&-a;return l=(l&42)!==0?1:jh(l),(l&(s.suspendedLanes|a))!==0?0:l}function jh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Bh(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Fg(){var s=W.p;return s!==0?s:(s=window.event,s===void 0?32:Ab(s.type))}function Vg(s,a){var l=W.p;try{return W.p=s,a()}finally{W.p=l}}var wi=Math.random().toString(36).slice(2),yt="__reactFiber$"+wi,Dt="__reactProps$"+wi,ha="__reactContainer$"+wi,Uh="__reactEvents$"+wi,WT="__reactListeners$"+wi,YT="__reactHandles$"+wi,qg="__reactResources$"+wi,Pr="__reactMarker$"+wi;function Hh(s){delete s[yt],delete s[Dt],delete s[Uh],delete s[WT],delete s[YT]}function fa(s){var a=s[yt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[ha]||l[yt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=hb(s);s!==null;){if(l=s[yt])return l;s=hb(s)}return a}s=l,l=s.parentNode}return null}function da(s){if(s=s[yt]||s[ha]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function jr(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function pa(s){var a=s[qg];return a||(a=s[qg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ft(s){s[Pr]=!0}var Gg=new Set,Wg={};function Ss(s,a){ma(s,a),ma(s+"Capture",a)}function ma(s,a){for(Wg[s]=a,s=0;s<a.length;s++)Gg.add(a[s])}var KT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yg={},Kg={};function QT(s){return Ih.call(Kg,s)?!0:Ih.call(Yg,s)?!1:KT.test(s)?Kg[s]=!0:(Yg[s]=!0,!1)}function Fl(s,a,l){if(QT(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Vl(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function qn(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qg(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function XT(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,m=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Fh(s){if(!s._valueTracker){var a=Qg(s)?"checked":"value";s._valueTracker=XT(s,a,""+s[a])}}function Xg(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Qg(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function ql(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var $T=/[\n"\\]/g;function sn(s){return s.replace($T,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vh(s,a,l,u,d,m,v,S){s.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?s.type=v:s.removeAttribute("type"),a!=null?v==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+nn(a)):s.value!==""+nn(a)&&(s.value=""+nn(a)):v!=="submit"&&v!=="reset"||s.removeAttribute("value"),a!=null?qh(s,v,nn(a)):l!=null?qh(s,v,nn(l)):u!=null&&s.removeAttribute("value"),d==null&&m!=null&&(s.defaultChecked=!!m),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+nn(S):s.removeAttribute("name")}function $g(s,a,l,u,d,m,v,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),a!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){Fh(s);return}l=l!=null?""+nn(l):"",a=a!=null?""+nn(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.name=v),Fh(s)}function qh(s,a,l){a==="number"&&ql(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ga(s,a,l,u){if(s=s.options,a){a={};for(var d=0;d<l.length;d++)a["$"+l[d]]=!0;for(l=0;l<s.length;l++)d=a.hasOwnProperty("$"+s[l].value),s[l].selected!==d&&(s[l].selected=d),d&&u&&(s[l].defaultSelected=!0)}else{for(l=""+nn(l),a=null,d=0;d<s.length;d++){if(s[d].value===l){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}a!==null||s[d].disabled||(a=s[d])}a!==null&&(a.selected=!0)}}function Zg(s,a,l){if(a!=null&&(a=""+nn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+nn(l):""}function Jg(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(_e(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=nn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Fh(s)}function _a(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var ZT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function e_(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||ZT.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function t_(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&l[d]!==u&&e_(s,d,u)}else for(var m in a)a.hasOwnProperty(m)&&e_(s,m,a[m])}function Gh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gl(s){return eC.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Gn(){}var Wh=null;function Yh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ya=null,va=null;function n_(s){var a=da(s);if(a&&(s=a.stateNode)){var l=s[Dt]||null;e:switch(s=a.stateNode,a.type){case"input":if(Vh(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+sn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var d=u[Dt]||null;if(!d)throw Error(i(90));Vh(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Xg(u)}break e;case"textarea":Zg(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ga(s,!!l.multiple,a,!1)}}}var Kh=!1;function i_(s,a,l){if(Kh)return s(a,l);Kh=!0;try{var u=s(a);return u}finally{if(Kh=!1,(ya!==null||va!==null)&&(kc(),ya&&(a=ya,s=va,va=ya=null,n_(a),s)))for(a=0;a<s.length;a++)n_(s[a])}}function Br(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Dt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=!1;if(Wn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Qh=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Qh=!1}var Ai=null,Xh=null,Wl=null;function s_(){if(Wl)return Wl;var s,a=Xh,l=a.length,u,d="value"in Ai?Ai.value:Ai.textContent,m=d.length;for(s=0;s<l&&a[s]===d[s];s++);var v=l-s;for(u=1;u<=v&&a[l-u]===d[m-u];u++);return Wl=d.slice(s,1<u?1-u:void 0)}function Yl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Kl(){return!0}function a_(){return!1}function It(s){function a(l,u,d,m,v){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Kl:a_,this.isPropagationStopped=a_,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),a}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=It(Es),Hr=_({},Es,{view:0,detail:0}),tC=It(Hr),$h,Zh,Fr,Xl=_({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fr&&(Fr&&s.type==="mousemove"?($h=s.screenX-Fr.screenX,Zh=s.screenY-Fr.screenY):Zh=$h=0,Fr=s),$h)},movementY:function(s){return"movementY"in s?s.movementY:Zh}}),r_=It(Xl),nC=_({},Xl,{dataTransfer:0}),iC=It(nC),sC=_({},Hr,{relatedTarget:0}),Jh=It(sC),aC=_({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),rC=It(aC),oC=_({},Es,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),lC=It(oC),cC=_({},Es,{data:0}),o_=It(cC),uC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dC(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=fC[s])?!!a[s]:!1}function ef(){return dC}var pC=_({},Hr,{key:function(s){if(s.key){var a=uC[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Yl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(s){return s.type==="keypress"?Yl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Yl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),mC=It(pC),gC=_({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l_=It(gC),_C=_({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),yC=It(_C),vC=_({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),bC=It(vC),xC=_({},Xl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),SC=It(xC),EC=_({},Es,{newState:0,oldState:0}),TC=It(EC),CC=[9,13,27,32],tf=Wn&&"CompositionEvent"in window,Vr=null;Wn&&"documentMode"in document&&(Vr=document.documentMode);var wC=Wn&&"TextEvent"in window&&!Vr,c_=Wn&&(!tf||Vr&&8<Vr&&11>=Vr),u_=" ",h_=!1;function f_(s,a){switch(s){case"keyup":return CC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ba=!1;function AC(s,a){switch(s){case"compositionend":return d_(a);case"keypress":return a.which!==32?null:(h_=!0,u_);case"textInput":return s=a.data,s===u_&&h_?null:s;default:return null}}function RC(s,a){if(ba)return s==="compositionend"||!tf&&f_(s,a)?(s=s_(),Wl=Xh=Ai=null,ba=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return c_&&a.locale!=="ko"?null:a.data;default:return null}}var MC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!MC[s.type]:a==="textarea"}function m_(s,a,l,u){ya?va?va.push(u):va=[u]:ya=u,a=Bc(a,"onChange"),0<a.length&&(l=new Ql("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var qr=null,Gr=null;function OC(s){$v(s,0)}function $l(s){var a=jr(s);if(Xg(a))return s}function g_(s,a){if(s==="change")return a}var __=!1;if(Wn){var nf;if(Wn){var sf="oninput"in document;if(!sf){var y_=document.createElement("div");y_.setAttribute("oninput","return;"),sf=typeof y_.oninput=="function"}nf=sf}else nf=!1;__=nf&&(!document.documentMode||9<document.documentMode)}function v_(){qr&&(qr.detachEvent("onpropertychange",b_),Gr=qr=null)}function b_(s){if(s.propertyName==="value"&&$l(Gr)){var a=[];m_(a,Gr,s,Yh(s)),i_(OC,a)}}function NC(s,a,l){s==="focusin"?(v_(),qr=a,Gr=l,qr.attachEvent("onpropertychange",b_)):s==="focusout"&&v_()}function kC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $l(Gr)}function DC(s,a){if(s==="click")return $l(a)}function IC(s,a){if(s==="input"||s==="change")return $l(a)}function LC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Yt=typeof Object.is=="function"?Object.is:LC;function Wr(s,a){if(Yt(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!Ih.call(a,d)||!Yt(s[d],a[d]))return!1}return!0}function x_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function S_(s,a){var l=x_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=x_(l)}}function E_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?E_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function T_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ql(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=ql(s.document)}return a}function af(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var zC=Wn&&"documentMode"in document&&11>=document.documentMode,xa=null,rf=null,Yr=null,of=!1;function C_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;of||xa==null||xa!==ql(u)||(u=xa,"selectionStart"in u&&af(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yr&&Wr(Yr,u)||(Yr=u,u=Bc(rf,"onSelect"),0<u.length&&(a=new Ql("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=xa)))}function Ts(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Sa={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},lf={},w_={};Wn&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Cs(s){if(lf[s])return lf[s];if(!Sa[s])return s;var a=Sa[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in w_)return lf[s]=a[l];return s}var A_=Cs("animationend"),R_=Cs("animationiteration"),M_=Cs("animationstart"),PC=Cs("transitionrun"),jC=Cs("transitionstart"),BC=Cs("transitioncancel"),O_=Cs("transitionend"),N_=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function xn(s,a){N_.set(s,a),Ss(a,[s])}var Zl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},an=[],Ea=0,uf=0;function Jl(){for(var s=Ea,a=uf=Ea=0;a<s;){var l=an[a];an[a++]=null;var u=an[a];an[a++]=null;var d=an[a];an[a++]=null;var m=an[a];if(an[a++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}m!==0&&k_(l,d,m)}}function ec(s,a,l,u){an[Ea++]=s,an[Ea++]=a,an[Ea++]=l,an[Ea++]=u,uf|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function hf(s,a,l,u){return ec(s,a,l,u),tc(s)}function ws(s,a){return ec(s,null,null,a),tc(s)}function k_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var d=!1,m=s.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(d=!0)),s=m,m=m.return;return s.tag===3?(m=s.stateNode,d&&a!==null&&(d=31-Wt(l),s=m.hiddenUpdates,u=s[d],u===null?s[d]=[a]:u.push(a),a.lane=l|536870912),m):null}function tc(s){if(50<go)throw go=0,bd=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ta={};function UC(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(s,a,l,u){return new UC(s,a,l,u)}function ff(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Yn(s,a){var l=s.alternate;return l===null?(l=Kt(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function D_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function nc(s,a,l,u,d,m){var v=0;if(u=s,typeof s=="function")ff(s)&&(v=1);else if(typeof s=="string")v=Gw(s,l,Z.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=Kt(31,l,a,d),s.elementType=G,s.lanes=m,s;case T:return As(l.children,d,m,a);case w:v=8,d|=24;break;case M:return s=Kt(12,l,a,d|2),s.elementType=M,s.lanes=m,s;case q:return s=Kt(13,l,a,d),s.elementType=q,s.lanes=m,s;case X:return s=Kt(19,l,a,d),s.elementType=X,s.lanes=m,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:v=10;break e;case L:v=9;break e;case K:v=11;break e;case V:v=14;break e;case $:v=16,u=null;break e}v=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Kt(v,l,a,d),a.elementType=s,a.type=u,a.lanes=m,a}function As(s,a,l,u){return s=Kt(7,s,u,a),s.lanes=l,s}function df(s,a,l){return s=Kt(6,s,null,a),s.lanes=l,s}function I_(s){var a=Kt(18,null,null,0);return a.stateNode=s,a}function pf(s,a,l){return a=Kt(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var L_=new WeakMap;function rn(s,a){if(typeof s=="object"&&s!==null){var l=L_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ig(a)},L_.set(s,a),a)}return{value:s,source:a,stack:Ig(a)}}var Ca=[],wa=0,ic=null,Kr=0,on=[],ln=0,Ri=null,kn=1,Dn="";function Kn(s,a){Ca[wa++]=Kr,Ca[wa++]=ic,ic=s,Kr=a}function z_(s,a,l){on[ln++]=kn,on[ln++]=Dn,on[ln++]=Ri,Ri=s;var u=kn;s=Dn;var d=32-Wt(u)-1;u&=~(1<<d),l+=1;var m=32-Wt(a)+d;if(30<m){var v=d-d%5;m=(u&(1<<v)-1).toString(32),u>>=v,d-=v,kn=1<<32-Wt(a)+d|l<<d|u,Dn=m+s}else kn=1<<m|l<<d|u,Dn=s}function mf(s){s.return!==null&&(Kn(s,1),z_(s,1,0))}function gf(s){for(;s===ic;)ic=Ca[--wa],Ca[wa]=null,Kr=Ca[--wa],Ca[wa]=null;for(;s===Ri;)Ri=on[--ln],on[ln]=null,Dn=on[--ln],on[ln]=null,kn=on[--ln],on[ln]=null}function P_(s,a){on[ln++]=kn,on[ln++]=Dn,on[ln++]=Ri,kn=a.id,Dn=a.overflow,Ri=s}var vt=null,We=null,Ee=!1,Mi=null,cn=!1,_f=Error(i(519));function Oi(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qr(rn(a,s)),_f}function j_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[yt]=s,a[Dt]=u,l){case"dialog":ve("cancel",a),ve("close",a);break;case"iframe":case"object":case"embed":ve("load",a);break;case"video":case"audio":for(l=0;l<yo.length;l++)ve(yo[l],a);break;case"source":ve("error",a);break;case"img":case"image":case"link":ve("error",a),ve("load",a);break;case"details":ve("toggle",a);break;case"input":ve("invalid",a),$g(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ve("invalid",a);break;case"textarea":ve("invalid",a),Jg(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||tb(a.textContent,l)?(u.popover!=null&&(ve("beforetoggle",a),ve("toggle",a)),u.onScroll!=null&&ve("scroll",a),u.onScrollEnd!=null&&ve("scrollend",a),u.onClick!=null&&(a.onclick=Gn),a=!0):a=!1,a||Oi(s,!0)}function B_(s){for(vt=s.return;vt;)switch(vt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:vt=vt.return}}function Aa(s){if(s!==vt)return!1;if(!Ee)return B_(s),Ee=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ld(s.type,s.memoizedProps)),l=!l),l&&We&&Oi(s),B_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));We=ub(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));We=ub(s)}else a===27?(a=We,qi(s.type)?(s=Ud,Ud=null,We=s):We=a):We=vt?hn(s.stateNode.nextSibling):null;return!0}function Rs(){We=vt=null,Ee=!1}function yf(){var s=Mi;return s!==null&&(jt===null?jt=s:jt.push.apply(jt,s),Mi=null),s}function Qr(s){Mi===null?Mi=[s]:Mi.push(s)}var vf=R(null),Ms=null,Qn=null;function Ni(s,a,l){Q(vf,a._currentValue),a._currentValue=l}function Xn(s){s._currentValue=vf.current,H(vf)}function bf(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function xf(s,a,l,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=d;for(var C=0;C<a.length;C++)if(S.context===a[C]){m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),bf(m.return,l,s),u||(v=null);break e}m=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=l,m=v.alternate,m!==null&&(m.lanes|=l),bf(v,l,s),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===s){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Ra(s,a,l,u){s=null;for(var d=a,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;Yt(d.pendingProps.value,v.value)||(s!==null?s.push(S):s=[S])}}else if(d===ke.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(Eo):s=[Eo])}d=d.return}s!==null&&xf(a,s,l,u),a.flags|=262144}function sc(s){for(s=s.firstContext;s!==null;){if(!Yt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Os(s){Ms=s,Qn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function bt(s){return U_(Ms,s)}function ac(s,a){return Ms===null&&Os(s),U_(s,a)}function U_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Qn===null){if(s===null)throw Error(i(308));Qn=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Qn=Qn.next=a;return l}var HC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},FC=n.unstable_scheduleCallback,VC=n.unstable_NormalPriority,at={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new HC,data:new Map,refCount:0}}function Xr(s){s.refCount--,s.refCount===0&&FC(VC,function(){s.controller.abort()})}var $r=null,Ef=0,Ma=0,Oa=null;function qC(s,a){if($r===null){var l=$r=[];Ef=0,Ma=wd(),Oa={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ef++,a.then(H_,H_),a}function H_(){if(--Ef===0&&$r!==null){Oa!==null&&(Oa.status="fulfilled");var s=$r;$r=null,Ma=0,Oa=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function GC(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<l.length;d++)(0,l[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var F_=z.S;z.S=function(s,a){Cv=qt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&qC(s,a),F_!==null&&F_(s,a)};var Ns=R(null);function Tf(){var s=Ns.current;return s!==null?s:Fe.pooledCache}function rc(s,a){a===null?Q(Ns,Ns.current):Q(Ns,a.pool)}function V_(){var s=Tf();return s===null?null:{parent:at._currentValue,pool:s}}var Na=Error(i(460)),Cf=Error(i(474)),oc=Error(i(542)),lc={then:function(){}};function q_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function G_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Gn,Gn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Y_(s),s;default:if(typeof a.status=="string")a.then(Gn,Gn);else{if(s=Fe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Y_(s),s}throw Ds=a,Na}}function ks(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ds=l,Na):l}}var Ds=null;function W_(){if(Ds===null)throw Error(i(459));var s=Ds;return Ds=null,s}function Y_(s){if(s===Na||s===oc)throw Error(i(483))}var ka=null,Zr=0;function cc(s){var a=Zr;return Zr+=1,ka===null&&(ka=[]),G_(ka,s,a)}function Jr(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function uc(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function K_(s){function a(O,A){if(s){var k=O.deletions;k===null?(O.deletions=[A],O.flags|=16):k.push(A)}}function l(O,A){if(!s)return null;for(;A!==null;)a(O,A),A=A.sibling;return null}function u(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function d(O,A){return O=Yn(O,A),O.index=0,O.sibling=null,O}function m(O,A,k){return O.index=k,s?(k=O.alternate,k!==null?(k=k.index,k<A?(O.flags|=67108866,A):k):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function v(O){return s&&O.alternate===null&&(O.flags|=67108866),O}function S(O,A,k,U){return A===null||A.tag!==6?(A=df(k,O.mode,U),A.return=O,A):(A=d(A,k),A.return=O,A)}function C(O,A,k,U){var ne=k.type;return ne===T?j(O,A,k.props.children,U,k.key):A!==null&&(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===$&&ks(ne)===A.type)?(A=d(A,k.props),Jr(A,k),A.return=O,A):(A=nc(k.type,k.key,k.props,null,O.mode,U),Jr(A,k),A.return=O,A)}function D(O,A,k,U){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=pf(k,O.mode,U),A.return=O,A):(A=d(A,k.children||[]),A.return=O,A)}function j(O,A,k,U,ne){return A===null||A.tag!==7?(A=As(k,O.mode,U,ne),A.return=O,A):(A=d(A,k),A.return=O,A)}function F(O,A,k){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=df(""+A,O.mode,k),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case x:return k=nc(A.type,A.key,A.props,null,O.mode,k),Jr(k,A),k.return=O,k;case E:return A=pf(A,O.mode,k),A.return=O,A;case $:return A=ks(A),F(O,A,k)}if(_e(A)||ee(A))return A=As(A,O.mode,k,null),A.return=O,A;if(typeof A.then=="function")return F(O,cc(A),k);if(A.$$typeof===B)return F(O,ac(O,A),k);uc(O,A)}return null}function I(O,A,k,U){var ne=A!==null?A.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ne!==null?null:S(O,A,""+k,U);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===ne?C(O,A,k,U):null;case E:return k.key===ne?D(O,A,k,U):null;case $:return k=ks(k),I(O,A,k,U)}if(_e(k)||ee(k))return ne!==null?null:j(O,A,k,U,null);if(typeof k.then=="function")return I(O,A,cc(k),U);if(k.$$typeof===B)return I(O,A,ac(O,k),U);uc(O,k)}return null}function P(O,A,k,U,ne){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return O=O.get(k)||null,S(A,O,""+U,ne);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return O=O.get(U.key===null?k:U.key)||null,C(A,O,U,ne);case E:return O=O.get(U.key===null?k:U.key)||null,D(A,O,U,ne);case $:return U=ks(U),P(O,A,k,U,ne)}if(_e(U)||ee(U))return O=O.get(k)||null,j(A,O,U,ne,null);if(typeof U.then=="function")return P(O,A,k,cc(U),ne);if(U.$$typeof===B)return P(O,A,k,ac(A,U),ne);uc(A,U)}return null}function J(O,A,k,U){for(var ne=null,we=null,te=A,de=A=0,Se=null;te!==null&&de<k.length;de++){te.index>de?(Se=te,te=null):Se=te.sibling;var Ae=I(O,te,k[de],U);if(Ae===null){te===null&&(te=Se);break}s&&te&&Ae.alternate===null&&a(O,te),A=m(Ae,A,de),we===null?ne=Ae:we.sibling=Ae,we=Ae,te=Se}if(de===k.length)return l(O,te),Ee&&Kn(O,de),ne;if(te===null){for(;de<k.length;de++)te=F(O,k[de],U),te!==null&&(A=m(te,A,de),we===null?ne=te:we.sibling=te,we=te);return Ee&&Kn(O,de),ne}for(te=u(te);de<k.length;de++)Se=P(te,O,de,k[de],U),Se!==null&&(s&&Se.alternate!==null&&te.delete(Se.key===null?de:Se.key),A=m(Se,A,de),we===null?ne=Se:we.sibling=Se,we=Se);return s&&te.forEach(function(Qi){return a(O,Qi)}),Ee&&Kn(O,de),ne}function se(O,A,k,U){if(k==null)throw Error(i(151));for(var ne=null,we=null,te=A,de=A=0,Se=null,Ae=k.next();te!==null&&!Ae.done;de++,Ae=k.next()){te.index>de?(Se=te,te=null):Se=te.sibling;var Qi=I(O,te,Ae.value,U);if(Qi===null){te===null&&(te=Se);break}s&&te&&Qi.alternate===null&&a(O,te),A=m(Qi,A,de),we===null?ne=Qi:we.sibling=Qi,we=Qi,te=Se}if(Ae.done)return l(O,te),Ee&&Kn(O,de),ne;if(te===null){for(;!Ae.done;de++,Ae=k.next())Ae=F(O,Ae.value,U),Ae!==null&&(A=m(Ae,A,de),we===null?ne=Ae:we.sibling=Ae,we=Ae);return Ee&&Kn(O,de),ne}for(te=u(te);!Ae.done;de++,Ae=k.next())Ae=P(te,O,de,Ae.value,U),Ae!==null&&(s&&Ae.alternate!==null&&te.delete(Ae.key===null?de:Ae.key),A=m(Ae,A,de),we===null?ne=Ae:we.sibling=Ae,we=Ae);return s&&te.forEach(function(nA){return a(O,nA)}),Ee&&Kn(O,de),ne}function Be(O,A,k,U){if(typeof k=="object"&&k!==null&&k.type===T&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:e:{for(var ne=k.key;A!==null;){if(A.key===ne){if(ne=k.type,ne===T){if(A.tag===7){l(O,A.sibling),U=d(A,k.props.children),U.return=O,O=U;break e}}else if(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===$&&ks(ne)===A.type){l(O,A.sibling),U=d(A,k.props),Jr(U,k),U.return=O,O=U;break e}l(O,A);break}else a(O,A);A=A.sibling}k.type===T?(U=As(k.props.children,O.mode,U,k.key),U.return=O,O=U):(U=nc(k.type,k.key,k.props,null,O.mode,U),Jr(U,k),U.return=O,O=U)}return v(O);case E:e:{for(ne=k.key;A!==null;){if(A.key===ne)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){l(O,A.sibling),U=d(A,k.children||[]),U.return=O,O=U;break e}else{l(O,A);break}else a(O,A);A=A.sibling}U=pf(k,O.mode,U),U.return=O,O=U}return v(O);case $:return k=ks(k),Be(O,A,k,U)}if(_e(k))return J(O,A,k,U);if(ee(k)){if(ne=ee(k),typeof ne!="function")throw Error(i(150));return k=ne.call(k),se(O,A,k,U)}if(typeof k.then=="function")return Be(O,A,cc(k),U);if(k.$$typeof===B)return Be(O,A,ac(O,k),U);uc(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,A!==null&&A.tag===6?(l(O,A.sibling),U=d(A,k),U.return=O,O=U):(l(O,A),U=df(k,O.mode,U),U.return=O,O=U),v(O)):l(O,A)}return function(O,A,k,U){try{Zr=0;var ne=Be(O,A,k,U);return ka=null,ne}catch(te){if(te===Na||te===oc)throw te;var we=Kt(29,te,null,O.mode);return we.lanes=U,we.return=O,we}}}var Is=K_(!0),Q_=K_(!1),ki=!1;function wf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Di(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ii(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Me&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=tc(s),k_(s,null,l),a}return ec(s,u,a,l),tc(s)}function eo(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Ug(s,l)}}function Rf(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,l=l.next}while(l!==null);m===null?d=m=a:m=m.next=a}else d=m=a;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Mf=!1;function to(){if(Mf){var s=Oa;if(s!==null)throw s}}function no(s,a,l,u){Mf=!1;var d=s.updateQueue;ki=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var C=S,D=C.next;C.next=null,v===null?m=D:v.next=D,v=C;var j=s.alternate;j!==null&&(j=j.updateQueue,S=j.lastBaseUpdate,S!==v&&(S===null?j.firstBaseUpdate=D:S.next=D,j.lastBaseUpdate=C))}if(m!==null){var F=d.baseState;v=0,j=D=C=null,S=m;do{var I=S.lane&-536870913,P=I!==S.lane;if(P?(xe&I)===I:(u&I)===I){I!==0&&I===Ma&&(Mf=!0),j!==null&&(j=j.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var J=s,se=S;I=a;var Be=l;switch(se.tag){case 1:if(J=se.payload,typeof J=="function"){F=J.call(Be,F,I);break e}F=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=se.payload,I=typeof J=="function"?J.call(Be,F,I):J,I==null)break e;F=_({},F,I);break e;case 2:ki=!0}}I=S.callback,I!==null&&(s.flags|=64,P&&(s.flags|=8192),P=d.callbacks,P===null?d.callbacks=[I]:P.push(I))}else P={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},j===null?(D=j=P,C=F):j=j.next=P,v|=I;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;P=S,S=P.next,P.next=null,d.lastBaseUpdate=P,d.shared.pending=null}}while(!0);j===null&&(C=F),d.baseState=C,d.firstBaseUpdate=D,d.lastBaseUpdate=j,m===null&&(d.shared.lanes=0),Bi|=v,s.lanes=v,s.memoizedState=F}}function X_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function $_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)X_(l[s],a)}var Da=R(null),hc=R(0);function Z_(s,a){s=ai,Q(hc,s),Q(Da,a),ai=s|a.baseLanes}function Of(){Q(hc,ai),Q(Da,Da.current)}function Nf(){ai=hc.current,H(Da),H(hc)}var Qt=R(null),un=null;function Li(s){var a=s.alternate;Q(nt,nt.current&1),Q(Qt,s),un===null&&(a===null||Da.current!==null||a.memoizedState!==null)&&(un=s)}function kf(s){Q(nt,nt.current),Q(Qt,s),un===null&&(un=s)}function J_(s){s.tag===22?(Q(nt,nt.current),Q(Qt,s),un===null&&(un=s)):zi()}function zi(){Q(nt,nt.current),Q(Qt,Qt.current)}function Xt(s){H(Qt),un===s&&(un=null),H(nt)}var nt=R(0);function fc(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jd(l)||Bd(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $n=0,fe=null,Pe=null,rt=null,dc=!1,Ia=!1,Ls=!1,pc=0,io=0,La=null,WC=0;function Ze(){throw Error(i(321))}function Df(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Yt(s[l],a[l]))return!1;return!0}function If(s,a,l,u,d,m){return $n=m,fe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=s===null||s.memoizedState===null?zy:Qf,Ls=!1,m=l(u,d),Ls=!1,Ia&&(m=ty(a,l,u,d)),ey(s),m}function ey(s){z.H=ro;var a=Pe!==null&&Pe.next!==null;if($n=0,rt=Pe=fe=null,dc=!1,io=0,La=null,a)throw Error(i(300));s===null||ot||(s=s.dependencies,s!==null&&sc(s)&&(ot=!0))}function ty(s,a,l,u){fe=s;var d=0;do{if(Ia&&(La=null),io=0,Ia=!1,25<=d)throw Error(i(301));if(d+=1,rt=Pe=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}z.H=Py,m=a(l,u)}while(Ia);return m}function YC(){var s=z.H,a=s.useState()[0];return a=typeof a.then=="function"?so(a):a,s=s.useState()[0],(Pe!==null?Pe.memoizedState:null)!==s&&(fe.flags|=1024),a}function Lf(){var s=pc!==0;return pc=0,s}function zf(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Pf(s){if(dc){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}dc=!1}$n=0,rt=Pe=fe=null,Ia=!1,io=pc=0,La=null}function Ot(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?fe.memoizedState=rt=s:rt=rt.next=s,rt}function it(){if(Pe===null){var s=fe.alternate;s=s!==null?s.memoizedState:null}else s=Pe.next;var a=rt===null?fe.memoizedState:rt.next;if(a!==null)rt=a,Pe=s;else{if(s===null)throw fe.alternate===null?Error(i(467)):Error(i(310));Pe=s,s={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},rt===null?fe.memoizedState=rt=s:rt=rt.next=s}return rt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(s){var a=io;return io+=1,La===null&&(La=[]),s=G_(La,s,a),a=fe,(rt===null?a.memoizedState:rt.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?zy:Qf),s}function gc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return so(s);if(s.$$typeof===B)return bt(s)}throw Error(i(438,String(s)))}function jf(s){var a=null,l=fe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=fe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=mc(),fe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=ce;return a.index++,l}function Zn(s,a){return typeof a=="function"?a(s):a}function _c(s){var a=it();return Bf(a,Pe,s)}function Bf(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var d=s.baseQueue,m=u.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}a.baseQueue=d=m,u.pending=null}if(m=s.baseState,d===null)s.memoizedState=m;else{a=d.next;var S=v=null,C=null,D=a,j=!1;do{var F=D.lane&-536870913;if(F!==D.lane?(xe&F)===F:($n&F)===F){var I=D.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),F===Ma&&(j=!0);else if(($n&I)===I){D=D.next,I===Ma&&(j=!0);continue}else F={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(S=C=F,v=m):C=C.next=F,fe.lanes|=I,Bi|=I;F=D.action,Ls&&l(m,F),m=D.hasEagerState?D.eagerState:l(m,F)}else I={lane:F,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(S=C=I,v=m):C=C.next=I,fe.lanes|=F,Bi|=F;D=D.next}while(D!==null&&D!==a);if(C===null?v=m:C.next=S,!Yt(m,s.memoizedState)&&(ot=!0,j&&(l=Oa,l!==null)))throw l;s.memoizedState=m,s.baseState=v,s.baseQueue=C,u.lastRenderedState=m}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Uf(s){var a=it(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,d=l.pending,m=a.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do m=s(m,v.action),v=v.next;while(v!==d);Yt(m,a.memoizedState)||(ot=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),l.lastRenderedState=m}return[m,u]}function ny(s,a,l){var u=fe,d=it(),m=Ee;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=a();var v=!Yt((Pe||d).memoizedState,l);if(v&&(d.memoizedState=l,ot=!0),d=d.queue,Vf(ay.bind(null,u,d,s),[s]),d.getSnapshot!==a||v||rt!==null&&rt.memoizedState.tag&1){if(u.flags|=2048,za(9,{destroy:void 0},sy.bind(null,u,d,l,a),null),Fe===null)throw Error(i(349));m||($n&127)!==0||iy(u,a,l)}return l}function iy(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=fe.updateQueue,a===null?(a=mc(),fe.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function sy(s,a,l,u){a.value=l,a.getSnapshot=u,ry(a)&&oy(s)}function ay(s,a,l){return l(function(){ry(a)&&oy(s)})}function ry(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Yt(s,l)}catch{return!0}}function oy(s){var a=ws(s,2);a!==null&&Bt(a,s,2)}function Hf(s){var a=Ot();if(typeof s=="function"){var l=s;if(s=l(),Ls){Ci(!0);try{l()}finally{Ci(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:s},a}function ly(s,a,l,u){return s.baseState=l,Bf(s,Pe,typeof u=="function"?u:Zn)}function KC(s,a,l,u,d){if(bc(s))throw Error(i(485));if(s=a.action,s!==null){var m={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};z.T!==null?l(!0):m.isTransition=!1,u(m),l=a.pending,l===null?(m.next=a.pending=m,cy(a,m)):(m.next=l.next,a.pending=l.next=m)}}function cy(s,a){var l=a.action,u=a.payload,d=s.state;if(a.isTransition){var m=z.T,v={};z.T=v;try{var S=l(d,u),C=z.S;C!==null&&C(v,S),uy(s,a,S)}catch(D){Ff(s,a,D)}finally{m!==null&&v.types!==null&&(m.types=v.types),z.T=m}}else try{m=l(d,u),uy(s,a,m)}catch(D){Ff(s,a,D)}}function uy(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){hy(s,a,u)},function(u){return Ff(s,a,u)}):hy(s,a,l)}function hy(s,a,l){a.status="fulfilled",a.value=l,fy(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,cy(s,l)))}function Ff(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,fy(a),a=a.next;while(a!==u)}s.action=null}function fy(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function dy(s,a){return a}function py(s,a){if(Ee){var l=Fe.formState;if(l!==null){e:{var u=fe;if(Ee){if(We){t:{for(var d=We,m=cn;d.nodeType!==8;){if(!m){d=null;break t}if(d=hn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){We=hn(d.nextSibling),u=d.data==="F!";break e}}Oi(u)}u=!1}u&&(a=l[0])}}return l=Ot(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:a},l.queue=u,l=Dy.bind(null,fe,u),u.dispatch=l,u=Hf(!1),m=Kf.bind(null,fe,!1,u.queue),u=Ot(),d={state:a,dispatch:null,action:s,pending:null},u.queue=d,l=KC.bind(null,fe,d,m,l),d.dispatch=l,u.memoizedState=s,[a,l,!1]}function my(s){var a=it();return gy(a,Pe,s)}function gy(s,a,l){if(a=Bf(s,a,dy)[0],s=_c(Zn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=so(a)}catch(v){throw v===Na?oc:v}else u=a;a=it();var d=a.queue,m=d.dispatch;return l!==a.memoizedState&&(fe.flags|=2048,za(9,{destroy:void 0},QC.bind(null,d,l),null)),[u,m,s]}function QC(s,a){s.action=a}function _y(s){var a=it(),l=Pe;if(l!==null)return gy(a,l,s);it(),a=a.memoizedState,l=it();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function za(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=fe.updateQueue,a===null&&(a=mc(),fe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function yy(){return it().memoizedState}function yc(s,a,l,u){var d=Ot();fe.flags|=s,d.memoizedState=za(1|a,{destroy:void 0},l,u===void 0?null:u)}function vc(s,a,l,u){var d=it();u=u===void 0?null:u;var m=d.memoizedState.inst;Pe!==null&&u!==null&&Df(u,Pe.memoizedState.deps)?d.memoizedState=za(a,m,l,u):(fe.flags|=s,d.memoizedState=za(1|a,m,l,u))}function vy(s,a){yc(8390656,8,s,a)}function Vf(s,a){vc(2048,8,s,a)}function XC(s){fe.flags|=4;var a=fe.updateQueue;if(a===null)a=mc(),fe.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function by(s){var a=it().memoizedState;return XC({ref:a,nextImpl:s}),function(){if((Me&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function xy(s,a){return vc(4,2,s,a)}function Sy(s,a){return vc(4,4,s,a)}function Ey(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Ty(s,a,l){l=l!=null?l.concat([s]):null,vc(4,4,Ey.bind(null,a,s),l)}function qf(){}function Cy(s,a){var l=it();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Df(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function wy(s,a){var l=it();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Df(a,u[1]))return u[0];if(u=s(),Ls){Ci(!0);try{s()}finally{Ci(!1)}}return l.memoizedState=[u,a],u}function Gf(s,a,l){return l===void 0||($n&1073741824)!==0&&(xe&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=Av(),fe.lanes|=s,Bi|=s,l)}function Ay(s,a,l,u){return Yt(l,a)?l:Da.current!==null?(s=Gf(s,l,u),Yt(s,a)||(ot=!0),s):($n&42)===0||($n&1073741824)!==0&&(xe&261930)===0?(ot=!0,s.memoizedState=l):(s=Av(),fe.lanes|=s,Bi|=s,a)}function Ry(s,a,l,u,d){var m=W.p;W.p=m!==0&&8>m?m:8;var v=z.T,S={};z.T=S,Kf(s,!1,a,l);try{var C=d(),D=z.S;if(D!==null&&D(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var j=GC(C,u);ao(s,a,j,Jt(s))}else ao(s,a,u,Jt(s))}catch(F){ao(s,a,{then:function(){},status:"rejected",reason:F},Jt())}finally{W.p=m,v!==null&&S.types!==null&&(v.types=S.types),z.T=v}}function $C(){}function Wf(s,a,l,u){if(s.tag!==5)throw Error(i(476));var d=My(s).queue;Ry(s,d,a,ie,l===null?$C:function(){return Oy(s),l(u)})}function My(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:ie},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Oy(s){var a=My(s);a.next===null&&(a=s.alternate.memoizedState),ao(s,a.next.queue,{},Jt())}function Yf(){return bt(Eo)}function Ny(){return it().memoizedState}function ky(){return it().memoizedState}function ZC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Jt();s=Di(l);var u=Ii(a,s,l);u!==null&&(Bt(u,a,l),eo(u,a,l)),a={cache:Sf()},s.payload=a;return}a=a.return}}function JC(s,a,l){var u=Jt();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bc(s)?Iy(a,l):(l=hf(s,a,l,u),l!==null&&(Bt(l,s,u),Ly(l,a,u)))}function Dy(s,a,l){var u=Jt();ao(s,a,l,u)}function ao(s,a,l,u){var d={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(bc(s))Iy(a,d);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var v=a.lastRenderedState,S=m(v,l);if(d.hasEagerState=!0,d.eagerState=S,Yt(S,v))return ec(s,a,d,0),Fe===null&&Jl(),!1}catch{}if(l=hf(s,a,d,u),l!==null)return Bt(l,s,u),Ly(l,a,u),!0}return!1}function Kf(s,a,l,u){if(u={lane:2,revertLane:wd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bc(s)){if(a)throw Error(i(479))}else a=hf(s,l,u,2),a!==null&&Bt(a,s,2)}function bc(s){var a=s.alternate;return s===fe||a!==null&&a===fe}function Iy(s,a){Ia=dc=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Ly(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Ug(s,l)}}var ro={readContext:bt,use:gc,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};ro.useEffectEvent=Ze;var zy={readContext:bt,use:gc,useCallback:function(s,a){return Ot().memoizedState=[s,a===void 0?null:a],s},useContext:bt,useEffect:vy,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,yc(4194308,4,Ey.bind(null,a,s),l)},useLayoutEffect:function(s,a){return yc(4194308,4,s,a)},useInsertionEffect:function(s,a){yc(4,2,s,a)},useMemo:function(s,a){var l=Ot();a=a===void 0?null:a;var u=s();if(Ls){Ci(!0);try{s()}finally{Ci(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=Ot();if(l!==void 0){var d=l(a);if(Ls){Ci(!0);try{l(a)}finally{Ci(!1)}}}else d=a;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=JC.bind(null,fe,s),[u.memoizedState,s]},useRef:function(s){var a=Ot();return s={current:s},a.memoizedState=s},useState:function(s){s=Hf(s);var a=s.queue,l=Dy.bind(null,fe,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:qf,useDeferredValue:function(s,a){var l=Ot();return Gf(l,s,a)},useTransition:function(){var s=Hf(!1);return s=Ry.bind(null,fe,s.queue,!0,!1),Ot().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=fe,d=Ot();if(Ee){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Fe===null)throw Error(i(349));(xe&127)!==0||iy(u,a,l)}d.memoizedState=l;var m={value:l,getSnapshot:a};return d.queue=m,vy(ay.bind(null,u,m,s),[s]),u.flags|=2048,za(9,{destroy:void 0},sy.bind(null,u,m,l,a),null),l},useId:function(){var s=Ot(),a=Fe.identifierPrefix;if(Ee){var l=Dn,u=kn;l=(u&~(1<<32-Wt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=pc++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=WC++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Yf,useFormState:py,useActionState:py,useOptimistic:function(s){var a=Ot();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Kf.bind(null,fe,!0,l),l.dispatch=a,[s,a]},useMemoCache:jf,useCacheRefresh:function(){return Ot().memoizedState=ZC.bind(null,fe)},useEffectEvent:function(s){var a=Ot(),l={impl:s};return a.memoizedState=l,function(){if((Me&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Qf={readContext:bt,use:gc,useCallback:Cy,useContext:bt,useEffect:Vf,useImperativeHandle:Ty,useInsertionEffect:xy,useLayoutEffect:Sy,useMemo:wy,useReducer:_c,useRef:yy,useState:function(){return _c(Zn)},useDebugValue:qf,useDeferredValue:function(s,a){var l=it();return Ay(l,Pe.memoizedState,s,a)},useTransition:function(){var s=_c(Zn)[0],a=it().memoizedState;return[typeof s=="boolean"?s:so(s),a]},useSyncExternalStore:ny,useId:Ny,useHostTransitionStatus:Yf,useFormState:my,useActionState:my,useOptimistic:function(s,a){var l=it();return ly(l,Pe,s,a)},useMemoCache:jf,useCacheRefresh:ky};Qf.useEffectEvent=by;var Py={readContext:bt,use:gc,useCallback:Cy,useContext:bt,useEffect:Vf,useImperativeHandle:Ty,useInsertionEffect:xy,useLayoutEffect:Sy,useMemo:wy,useReducer:Uf,useRef:yy,useState:function(){return Uf(Zn)},useDebugValue:qf,useDeferredValue:function(s,a){var l=it();return Pe===null?Gf(l,s,a):Ay(l,Pe.memoizedState,s,a)},useTransition:function(){var s=Uf(Zn)[0],a=it().memoizedState;return[typeof s=="boolean"?s:so(s),a]},useSyncExternalStore:ny,useId:Ny,useHostTransitionStatus:Yf,useFormState:_y,useActionState:_y,useOptimistic:function(s,a){var l=it();return Pe!==null?ly(l,Pe,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:jf,useCacheRefresh:ky};Py.useEffectEvent=by;function Xf(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var $f={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Jt(),d=Di(u);d.payload=a,l!=null&&(d.callback=l),a=Ii(s,d,u),a!==null&&(Bt(a,s,u),eo(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Jt(),d=Di(u);d.tag=1,d.payload=a,l!=null&&(d.callback=l),a=Ii(s,d,u),a!==null&&(Bt(a,s,u),eo(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Jt(),u=Di(l);u.tag=2,a!=null&&(u.callback=a),a=Ii(s,u,l),a!==null&&(Bt(a,s,l),eo(a,s,l))}};function jy(s,a,l,u,d,m,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,m,v):a.prototype&&a.prototype.isPureReactComponent?!Wr(l,u)||!Wr(d,m):!0}function By(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&$f.enqueueReplaceState(a,a.state,null)}function zs(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var d in s)l[d]===void 0&&(l[d]=s[d])}return l}function Uy(s){Zl(s)}function Hy(s){console.error(s)}function Fy(s){Zl(s)}function xc(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Vy(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zf(s,a,l){return l=Di(l),l.tag=3,l.payload={element:null},l.callback=function(){xc(s,a)},l}function qy(s){return s=Di(s),s.tag=3,s}function Gy(s,a,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;s.payload=function(){return d(m)},s.callback=function(){Vy(a,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){Vy(a,l,u),typeof d!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function ew(s,a,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Ra(a,l,d,!0),l=Qt.current,l!==null){switch(l.tag){case 31:case 13:return un===null?Dc():l.alternate===null&&Je===0&&(Je=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===lc?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Ed(s,u,d)),!1;case 22:return l.flags|=65536,u===lc?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Ed(s,u,d)),!1}throw Error(i(435,l.tag))}return Ed(s,u,d),Dc(),!1}if(Ee)return a=Qt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==_f&&(s=Error(i(422),{cause:u}),Qr(rn(s,l)))):(u!==_f&&(a=Error(i(423),{cause:u}),Qr(rn(a,l))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=rn(u,l),d=Zf(s.stateNode,u,d),Rf(s,d),Je!==4&&(Je=2)),!1;var m=Error(i(520),{cause:u});if(m=rn(m,l),mo===null?mo=[m]:mo.push(m),Je!==4&&(Je=2),a===null)return!0;u=rn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=d&-d,l.lanes|=s,s=Zf(l.stateNode,u,s),Rf(l,s),!1;case 1:if(a=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ui===null||!Ui.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=qy(d),Gy(d,s,l,u),Rf(l,d),!1}l=l.return}while(l!==null);return!1}var Jf=Error(i(461)),ot=!1;function xt(s,a,l,u){a.child=s===null?Q_(a,null,l,u):Is(a,s.child,l,u)}function Wy(s,a,l,u,d){l=l.render;var m=a.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Os(a),u=If(s,a,l,v,m,d),S=Lf(),s!==null&&!ot?(zf(s,a,d),Jn(s,a,d)):(Ee&&S&&mf(a),a.flags|=1,xt(s,a,u,d),a.child)}function Yy(s,a,l,u,d){if(s===null){var m=l.type;return typeof m=="function"&&!ff(m)&&m.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=m,Ky(s,a,m,u,d)):(s=nc(l.type,null,u,a,a.mode,d),s.ref=a.ref,s.return=a,a.child=s)}if(m=s.child,!od(s,d)){var v=m.memoizedProps;if(l=l.compare,l=l!==null?l:Wr,l(v,u)&&s.ref===a.ref)return Jn(s,a,d)}return a.flags|=1,s=Yn(m,u),s.ref=a.ref,s.return=a,a.child=s}function Ky(s,a,l,u,d){if(s!==null){var m=s.memoizedProps;if(Wr(m,u)&&s.ref===a.ref)if(ot=!1,a.pendingProps=u=m,od(s,d))(s.flags&131072)!==0&&(ot=!0);else return a.lanes=s.lanes,Jn(s,a,d)}return ed(s,a,l,u,d)}function Qy(s,a,l,u){var d=u.children,m=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,s!==null){for(u=a.child=s.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~m}else u=0,a.child=null;return Xy(s,a,m,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&rc(a,m!==null?m.cachePool:null),m!==null?Z_(a,m):Of(),J_(a);else return u=a.lanes=536870912,Xy(s,a,m!==null?m.baseLanes|l:l,l,u)}else m!==null?(rc(a,m.cachePool),Z_(a,m),zi(),a.memoizedState=null):(s!==null&&rc(a,null),Of(),zi());return xt(s,a,d,l),a.child}function oo(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Xy(s,a,l,u,d){var m=Tf();return m=m===null?null:{parent:at._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&rc(a,null),Of(),J_(a),s!==null&&Ra(s,a,u,!0),a.childLanes=d,null}function Sc(s,a){return a=Tc({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function $y(s,a,l){return Is(a,s.child,null,l),s=Sc(a,a.pendingProps),s.flags|=2,Xt(a),a.memoizedState=null,s}function tw(s,a,l){var u=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ee){if(u.mode==="hidden")return s=Sc(a,u),a.lanes=536870912,oo(null,s);if(kf(a),(s=We)?(s=cb(s,cn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ri!==null?{id:kn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},l=I_(s),l.return=a,a.child=l,vt=a,We=null)):s=null,s===null)throw Oi(a);return a.lanes=536870912,null}return Sc(a,u)}var m=s.memoizedState;if(m!==null){var v=m.dehydrated;if(kf(a),d)if(a.flags&256)a.flags&=-257,a=$y(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(ot||Ra(s,a,l,!1),d=(l&s.childLanes)!==0,ot||d){if(u=Fe,u!==null&&(v=Hg(u,l),v!==0&&v!==m.retryLane))throw m.retryLane=v,ws(s,v),Bt(u,s,v),Jf;Dc(),a=$y(s,a,l)}else s=m.treeContext,We=hn(v.nextSibling),vt=a,Ee=!0,Mi=null,cn=!1,s!==null&&P_(a,s),a=Sc(a,u),a.flags|=4096;return a}return s=Yn(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Ec(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function ed(s,a,l,u,d){return Os(a),l=If(s,a,l,u,void 0,d),u=Lf(),s!==null&&!ot?(zf(s,a,d),Jn(s,a,d)):(Ee&&u&&mf(a),a.flags|=1,xt(s,a,l,d),a.child)}function Zy(s,a,l,u,d,m){return Os(a),a.updateQueue=null,l=ty(a,u,l,d),ey(s),u=Lf(),s!==null&&!ot?(zf(s,a,m),Jn(s,a,m)):(Ee&&u&&mf(a),a.flags|=1,xt(s,a,l,m),a.child)}function Jy(s,a,l,u,d){if(Os(a),a.stateNode===null){var m=Ta,v=l.contextType;typeof v=="object"&&v!==null&&(m=bt(v)),m=new l(u,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$f,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=u,m.state=a.memoizedState,m.refs={},wf(a),v=l.contextType,m.context=typeof v=="object"&&v!==null?bt(v):Ta,m.state=a.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Xf(a,l,v,u),m.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&$f.enqueueReplaceState(m,m.state,null),no(a,u,m,d),to(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){m=a.stateNode;var S=a.memoizedProps,C=zs(l,S);m.props=C;var D=m.context,j=l.contextType;v=Ta,typeof j=="object"&&j!==null&&(v=bt(j));var F=l.getDerivedStateFromProps;j=typeof F=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,j||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||D!==v)&&By(a,m,u,v),ki=!1;var I=a.memoizedState;m.state=I,no(a,u,m,d),to(),D=a.memoizedState,S||I!==D||ki?(typeof F=="function"&&(Xf(a,l,F,u),D=a.memoizedState),(C=ki||jy(a,l,C,u,I,D,v))?(j||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=D),m.props=u,m.state=D,m.context=v,u=C):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{m=a.stateNode,Af(s,a),v=a.memoizedProps,j=zs(l,v),m.props=j,F=a.pendingProps,I=m.context,D=l.contextType,C=Ta,typeof D=="object"&&D!==null&&(C=bt(D)),S=l.getDerivedStateFromProps,(D=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==F||I!==C)&&By(a,m,u,C),ki=!1,I=a.memoizedState,m.state=I,no(a,u,m,d),to();var P=a.memoizedState;v!==F||I!==P||ki||s!==null&&s.dependencies!==null&&sc(s.dependencies)?(typeof S=="function"&&(Xf(a,l,S,u),P=a.memoizedState),(j=ki||jy(a,l,j,u,I,P,C)||s!==null&&s.dependencies!==null&&sc(s.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,P,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,P,C)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=P),m.props=u,m.state=P,m.context=C,u=j):(typeof m.componentDidUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(a.flags|=1024),u=!1)}return m=u,Ec(s,a),u=(a.flags&128)!==0,m||u?(m=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,s!==null&&u?(a.child=Is(a,s.child,null,d),a.child=Is(a,null,l,d)):xt(s,a,l,d),a.memoizedState=m.state,s=a.child):s=Jn(s,a,d),s}function ev(s,a,l,u){return Rs(),a.flags|=256,xt(s,a,l,u),a.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(s){return{baseLanes:s,cachePool:V_()}}function id(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Zt),s}function tv(s,a,l){var u=a.pendingProps,d=!1,m=(a.flags&128)!==0,v;if((v=m)||(v=s!==null&&s.memoizedState===null?!1:(nt.current&2)!==0),v&&(d=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ee){if(d?Li(a):zi(),(s=We)?(s=cb(s,cn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ri!==null?{id:kn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},l=I_(s),l.return=a,a.child=l,vt=a,We=null)):s=null,s===null)throw Oi(a);return Bd(s)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(zi(),d=a.mode,S=Tc({mode:"hidden",children:S},d),u=As(u,d,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=nd(l),u.childLanes=id(s,v,l),a.memoizedState=td,oo(null,u)):(Li(a),sd(a,S))}var C=s.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(m)a.flags&256?(Li(a),a.flags&=-257,a=ad(s,a,l)):a.memoizedState!==null?(zi(),a.child=s.child,a.flags|=128,a=null):(zi(),S=u.fallback,d=a.mode,u=Tc({mode:"visible",children:u.children},d),S=As(S,d,l,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,Is(a,s.child,null,l),u=a.child,u.memoizedState=nd(l),u.childLanes=id(s,v,l),a.memoizedState=td,a=oo(null,u));else if(Li(a),Bd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var D=v.dgst;v=D,u=Error(i(419)),u.stack="",u.digest=v,Qr({value:u,source:null,stack:null}),a=ad(s,a,l)}else if(ot||Ra(s,a,l,!1),v=(l&s.childLanes)!==0,ot||v){if(v=Fe,v!==null&&(u=Hg(v,l),u!==0&&u!==C.retryLane))throw C.retryLane=u,ws(s,u),Bt(v,s,u),Jf;jd(S)||Dc(),a=ad(s,a,l)}else jd(S)?(a.flags|=192,a.child=s.child,a=null):(s=C.treeContext,We=hn(S.nextSibling),vt=a,Ee=!0,Mi=null,cn=!1,s!==null&&P_(a,s),a=sd(a,u.children),a.flags|=4096);return a}return d?(zi(),S=u.fallback,d=a.mode,C=s.child,D=C.sibling,u=Yn(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,D!==null?S=Yn(D,S):(S=As(S,d,l,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,oo(null,u),u=a.child,S=s.child.memoizedState,S===null?S=nd(l):(d=S.cachePool,d!==null?(C=at._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=V_(),S={baseLanes:S.baseLanes|l,cachePool:d}),u.memoizedState=S,u.childLanes=id(s,v,l),a.memoizedState=td,oo(s.child,u)):(Li(a),l=s.child,s=l.sibling,l=Yn(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(v=a.deletions,v===null?(a.deletions=[s],a.flags|=16):v.push(s)),a.child=l,a.memoizedState=null,l)}function sd(s,a){return a=Tc({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Tc(s,a){return s=Kt(22,s,null,a),s.lanes=0,s}function ad(s,a,l){return Is(a,s.child,null,l),s=sd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function nv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),bf(s.return,a,l)}function rd(s,a,l,u,d,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d,treeForkCount:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=d,v.treeForkCount=m)}function iv(s,a,l){var u=a.pendingProps,d=u.revealOrder,m=u.tail;u=u.children;var v=nt.current,S=(v&2)!==0;if(S?(v=v&1|2,a.flags|=128):v&=1,Q(nt,v),xt(s,a,u,l),u=Ee?Kr:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&nv(s,l,a);else if(s.tag===19)nv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(d){case"forwards":for(l=a.child,d=null;l!==null;)s=l.alternate,s!==null&&fc(s)===null&&(d=l),l=l.sibling;l=d,l===null?(d=a.child,a.child=null):(d=l.sibling,l.sibling=null),rd(a,!1,d,l,m,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=a.child,a.child=null;d!==null;){if(s=d.alternate,s!==null&&fc(s)===null){a.child=d;break}s=d.sibling,d.sibling=l,l=d,d=s}rd(a,!0,l,null,m,u);break;case"together":rd(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Jn(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Bi|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Ra(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Yn(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Yn(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function od(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&sc(s)))}function nw(s,a,l){switch(a.tag){case 3:Mt(a,a.stateNode.containerInfo),Ni(a,at,s.memoizedState.cache),Rs();break;case 27:case 5:Dr(a);break;case 4:Mt(a,a.stateNode.containerInfo);break;case 10:Ni(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,kf(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Li(a),a.flags|=128,null):(l&a.child.childLanes)!==0?tv(s,a,l):(Li(a),s=Jn(s,a,l),s!==null?s.sibling:null);Li(a);break;case 19:var d=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Ra(s,a,l,!1),u=(l&a.childLanes)!==0),d){if(u)return iv(s,a,l);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(nt,nt.current),u)break;return null;case 22:return a.lanes=0,Qy(s,a,l,a.pendingProps);case 24:Ni(a,at,s.memoizedState.cache)}return Jn(s,a,l)}function sv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)ot=!0;else{if(!od(s,l)&&(a.flags&128)===0)return ot=!1,nw(s,a,l);ot=(s.flags&131072)!==0}else ot=!1,Ee&&(a.flags&1048576)!==0&&z_(a,Kr,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(s=ks(a.elementType),a.type=s,typeof s=="function")ff(s)?(u=zs(s,u),a.tag=1,a=Jy(null,a,s,u,l)):(a.tag=0,a=ed(null,a,s,u,l));else{if(s!=null){var d=s.$$typeof;if(d===K){a.tag=11,a=Wy(null,a,s,u,l);break e}else if(d===V){a.tag=14,a=Yy(null,a,s,u,l);break e}}throw a=He(s)||s,Error(i(306,a,""))}}return a;case 0:return ed(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,d=zs(u,a.pendingProps),Jy(s,a,u,d,l);case 3:e:{if(Mt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var m=a.memoizedState;d=m.element,Af(s,a),no(a,u,null,l);var v=a.memoizedState;if(u=v.cache,Ni(a,at,u),u!==m.cache&&xf(a,[at],l,!0),to(),u=v.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=ev(s,a,u,l);break e}else if(u!==d){d=rn(Error(i(424)),a),Qr(d),a=ev(s,a,u,l);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,We=hn(s.firstChild),vt=a,Ee=!0,Mi=null,cn=!0,l=Q_(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Rs(),u===d){a=Jn(s,a,l);break e}xt(s,a,u,l)}a=a.child}return a;case 26:return Ec(s,a),s===null?(l=mb(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ee||(l=a.type,s=a.pendingProps,u=Uc(ue.current).createElement(l),u[yt]=a,u[Dt]=s,St(u,l,s),ft(u),a.stateNode=u):a.memoizedState=mb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Dr(a),s===null&&Ee&&(u=a.stateNode=fb(a.type,a.pendingProps,ue.current),vt=a,cn=!0,d=We,qi(a.type)?(Ud=d,We=hn(u.firstChild)):We=d),xt(s,a,a.pendingProps.children,l),Ec(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ee&&((d=u=We)&&(u=kw(u,a.type,a.pendingProps,cn),u!==null?(a.stateNode=u,vt=a,We=hn(u.firstChild),cn=!1,d=!0):d=!1),d||Oi(a)),Dr(a),d=a.type,m=a.pendingProps,v=s!==null?s.memoizedProps:null,u=m.children,Ld(d,m)?u=null:v!==null&&Ld(d,v)&&(a.flags|=32),a.memoizedState!==null&&(d=If(s,a,YC,null,null,l),Eo._currentValue=d),Ec(s,a),xt(s,a,u,l),a.child;case 6:return s===null&&Ee&&((s=l=We)&&(l=Dw(l,a.pendingProps,cn),l!==null?(a.stateNode=l,vt=a,We=null,s=!0):s=!1),s||Oi(a)),null;case 13:return tv(s,a,l);case 4:return Mt(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Is(a,null,u,l):xt(s,a,u,l),a.child;case 11:return Wy(s,a,a.type,a.pendingProps,l);case 7:return xt(s,a,a.pendingProps,l),a.child;case 8:return xt(s,a,a.pendingProps.children,l),a.child;case 12:return xt(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ni(a,a.type,u.value),xt(s,a,u.children,l),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,Os(a),d=bt(d),u=u(d),a.flags|=1,xt(s,a,u,l),a.child;case 14:return Yy(s,a,a.type,a.pendingProps,l);case 15:return Ky(s,a,a.type,a.pendingProps,l);case 19:return iv(s,a,l);case 31:return tw(s,a,l);case 22:return Qy(s,a,l,a.pendingProps);case 24:return Os(a),u=bt(at),s===null?(d=Tf(),d===null&&(d=Fe,m=Sf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),a.memoizedState={parent:u,cache:d},wf(a),Ni(a,at,d)):((s.lanes&l)!==0&&(Af(s,a),no(a,null,null,l),to()),d=s.memoizedState,m=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Ni(a,at,u)):(u=m.cache,Ni(a,at,u),u!==d.cache&&xf(a,[at],l,!0))),xt(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ei(s){s.flags|=4}function ld(s,a,l,u,d){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(d&335544128)===d)if(s.stateNode.complete)s.flags|=8192;else if(Nv())s.flags|=8192;else throw Ds=lc,Cf}else s.flags&=-16777217}function av(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!bb(a))if(Nv())s.flags|=8192;else throw Ds=lc,Cf}function Cc(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?jg():536870912,s.lanes|=a,Ua|=a)}function lo(s,a){if(!Ee)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Ye(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var d=s.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function iw(s,a,l){var u=a.pendingProps;switch(gf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(a),null;case 1:return Ye(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Xn(at),tt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Aa(a)?ei(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,yf())),Ye(a),null;case 26:var d=a.type,m=a.memoizedState;return s===null?(ei(a),m!==null?(Ye(a),av(a,m)):(Ye(a),ld(a,d,null,u,l))):m?m!==s.memoizedState?(ei(a),Ye(a),av(a,m)):(Ye(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ei(a),Ye(a),ld(a,d,s,u,l)),null;case 27:if(zl(a),l=ue.current,d=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ei(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ye(a),null}s=Z.current,Aa(a)?j_(a):(s=fb(d,u,l),a.stateNode=s,ei(a))}return Ye(a),null;case 5:if(zl(a),d=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ei(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ye(a),null}if(m=Z.current,Aa(a))j_(a);else{var v=Uc(ue.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?v.createElement(d,{is:u.is}):v.createElement(d)}}m[yt]=a,m[Dt]=u;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=m;e:switch(St(m,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ei(a)}}return Ye(a),ld(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ei(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=ue.current,Aa(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,d=vt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[yt]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||tb(s.nodeValue,l)),s||Oi(a,!0)}else s=Uc(s).createTextNode(u),s[yt]=a,a.stateNode=s}return Ye(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=Aa(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[yt]=a}else Rs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ye(a),s=!1}else l=yf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Xt(a),a):(Xt(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Ye(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Aa(a),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[yt]=a}else Rs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ye(a),d=!1}else d=yf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Xt(a),a):(Xt(a),null)}return Xt(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),Cc(a,a.updateQueue),Ye(a),null);case 4:return tt(),s===null&&Od(a.stateNode.containerInfo),Ye(a),null;case 10:return Xn(a.type),Ye(a),null;case 19:if(H(nt),u=a.memoizedState,u===null)return Ye(a),null;if(d=(a.flags&128)!==0,m=u.rendering,m===null)if(d)lo(u,!1);else{if(Je!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(m=fc(s),m!==null){for(a.flags|=128,lo(u,!1),s=m.updateQueue,a.updateQueue=s,Cc(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)D_(l,s),l=l.sibling;return Q(nt,nt.current&1|2),Ee&&Kn(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&qt()>Oc&&(a.flags|=128,d=!0,lo(u,!1),a.lanes=4194304)}else{if(!d)if(s=fc(m),s!==null){if(a.flags|=128,d=!0,s=s.updateQueue,a.updateQueue=s,Cc(a,s),lo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Ee)return Ye(a),null}else 2*qt()-u.renderingStartTime>Oc&&l!==536870912&&(a.flags|=128,d=!0,lo(u,!1),a.lanes=4194304);u.isBackwards?(m.sibling=a.child,a.child=m):(s=u.last,s!==null?s.sibling=m:a.child=m,u.last=m)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=qt(),s.sibling=null,l=nt.current,Q(nt,d?l&1|2:l&1),Ee&&Kn(a,u.treeForkCount),s):(Ye(a),null);case 22:case 23:return Xt(a),Nf(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Ye(a),a.subtreeFlags&6&&(a.flags|=8192)):Ye(a),l=a.updateQueue,l!==null&&Cc(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&H(Ns),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Xn(at),Ye(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function sw(s,a){switch(gf(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Xn(at),tt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return zl(a),null;case 31:if(a.memoizedState!==null){if(Xt(a),a.alternate===null)throw Error(i(340));Rs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Xt(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Rs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return H(nt),null;case 4:return tt(),null;case 10:return Xn(a.type),null;case 22:case 23:return Xt(a),Nf(),s!==null&&H(Ns),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Xn(at),null;case 25:return null;default:return null}}function rv(s,a){switch(gf(a),a.tag){case 3:Xn(at),tt();break;case 26:case 27:case 5:zl(a);break;case 4:tt();break;case 31:a.memoizedState!==null&&Xt(a);break;case 13:Xt(a);break;case 19:H(nt);break;case 10:Xn(a.type);break;case 22:case 23:Xt(a),Nf(),s!==null&&H(Ns);break;case 24:Xn(at)}}function co(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&s)===s){u=void 0;var m=l.create,v=l.inst;u=m(),v.destroy=u}l=l.next}while(l!==d)}}catch(S){Ie(a,a.return,S)}}function Pi(s,a,l){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&s)===s){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=a;var C=l,D=S;try{D()}catch(j){Ie(d,C,j)}}}u=u.next}while(u!==m)}}catch(j){Ie(a,a.return,j)}}function ov(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{$_(a,l)}catch(u){Ie(s,s.return,u)}}}function lv(s,a,l){l.props=zs(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Ie(s,a,u)}}function uo(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(d){Ie(s,a,d)}}function In(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){Ie(s,a,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Ie(s,a,d)}else l.current=null}function cv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){Ie(s,s.return,d)}}function cd(s,a,l){try{var u=s.stateNode;ww(u,s.type,l,a),u[Dt]=a}catch(d){Ie(s,s.return,d)}}function uv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&qi(s.type)||s.tag===4}function ud(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||uv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&qi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hd(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Gn));else if(u!==4&&(u===27&&qi(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(hd(s,a,l),s=s.sibling;s!==null;)hd(s,a,l),s=s.sibling}function wc(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&qi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(wc(s,a,l),s=s.sibling;s!==null;)wc(s,a,l),s=s.sibling}function hv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);St(a,u,l),a[yt]=s,a[Dt]=l}catch(m){Ie(s,s.return,m)}}var ti=!1,lt=!1,fd=!1,fv=typeof WeakSet=="function"?WeakSet:Set,dt=null;function aw(s,a){if(s=s.containerInfo,Dd=Yc,s=T_(s),af(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var v=0,S=-1,C=-1,D=0,j=0,F=s,I=null;t:for(;;){for(var P;F!==l||d!==0&&F.nodeType!==3||(S=v+d),F!==m||u!==0&&F.nodeType!==3||(C=v+u),F.nodeType===3&&(v+=F.nodeValue.length),(P=F.firstChild)!==null;)I=F,F=P;for(;;){if(F===s)break t;if(I===l&&++D===d&&(S=v),I===m&&++j===u&&(C=v),(P=F.nextSibling)!==null)break;F=I,I=F.parentNode}F=P}l=S===-1||C===-1?null:{start:S,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Id={focusedElem:s,selectionRange:l},Yc=!1,dt=a;dt!==null;)if(a=dt,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,dt=s;else for(;dt!==null;){switch(a=dt,m=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)d=s[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&m!==null){s=void 0,l=a,d=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var J=zs(l.type,d);s=u.getSnapshotBeforeUpdate(J,m),u.__reactInternalSnapshotBeforeUpdate=s}catch(se){Ie(l,l.return,se)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Pd(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Pd(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,dt=s;break}dt=a.return}}function dv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ii(s,l),u&4&&co(5,l);break;case 1:if(ii(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(v){Ie(l,l.return,v)}else{var d=zs(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(d,a,s.__reactInternalSnapshotBeforeUpdate)}catch(v){Ie(l,l.return,v)}}u&64&&ov(l),u&512&&uo(l,l.return);break;case 3:if(ii(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{$_(s,a)}catch(v){Ie(l,l.return,v)}}break;case 27:a===null&&u&4&&hv(l);case 26:case 5:ii(s,l),a===null&&u&4&&cv(l),u&512&&uo(l,l.return);break;case 12:ii(s,l);break;case 31:ii(s,l),u&4&&gv(s,l);break;case 13:ii(s,l),u&4&&_v(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=pw.bind(null,l),Iw(s,l))));break;case 22:if(u=l.memoizedState!==null||ti,!u){a=a!==null&&a.memoizedState!==null||lt,d=ti;var m=lt;ti=u,(lt=a)&&!m?si(s,l,(l.subtreeFlags&8772)!==0):ii(s,l),ti=d,lt=m}break;case 30:break;default:ii(s,l)}}function pv(s){var a=s.alternate;a!==null&&(s.alternate=null,pv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Hh(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Qe=null,Lt=!1;function ni(s,a,l){for(l=l.child;l!==null;)mv(s,a,l),l=l.sibling}function mv(s,a,l){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Ir,l)}catch{}switch(l.tag){case 26:lt||In(l,a),ni(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:lt||In(l,a);var u=Qe,d=Lt;qi(l.type)&&(Qe=l.stateNode,Lt=!1),ni(s,a,l),bo(l.stateNode),Qe=u,Lt=d;break;case 5:lt||In(l,a);case 6:if(u=Qe,d=Lt,Qe=null,ni(s,a,l),Qe=u,Lt=d,Qe!==null)if(Lt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(l.stateNode)}catch(m){Ie(l,a,m)}else try{Qe.removeChild(l.stateNode)}catch(m){Ie(l,a,m)}break;case 18:Qe!==null&&(Lt?(s=Qe,ob(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Ka(s)):ob(Qe,l.stateNode));break;case 4:u=Qe,d=Lt,Qe=l.stateNode.containerInfo,Lt=!0,ni(s,a,l),Qe=u,Lt=d;break;case 0:case 11:case 14:case 15:Pi(2,l,a),lt||Pi(4,l,a),ni(s,a,l);break;case 1:lt||(In(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&lv(l,a,u)),ni(s,a,l);break;case 21:ni(s,a,l);break;case 22:lt=(u=lt)||l.memoizedState!==null,ni(s,a,l),lt=u;break;default:ni(s,a,l)}}function gv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ka(s)}catch(l){Ie(a,a.return,l)}}}function _v(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ka(s)}catch(l){Ie(a,a.return,l)}}function rw(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new fv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new fv),a;default:throw Error(i(435,s.tag))}}function Ac(s,a){var l=rw(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var d=mw.bind(null,s,u);u.then(d,d)}})}function zt(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],m=s,v=a,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(qi(S.type)){Qe=S.stateNode,Lt=!1;break e}break;case 5:Qe=S.stateNode,Lt=!1;break e;case 3:case 4:Qe=S.stateNode.containerInfo,Lt=!0;break e}S=S.return}if(Qe===null)throw Error(i(160));mv(m,v,d),Qe=null,Lt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)yv(a,s),a=a.sibling}var Sn=null;function yv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zt(a,s),Pt(s),u&4&&(Pi(3,s,s.return),co(3,s),Pi(5,s,s.return));break;case 1:zt(a,s),Pt(s),u&512&&(lt||l===null||In(l,l.return)),u&64&&ti&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=Sn;if(zt(a,s),Pt(s),u&512&&(lt||l===null||In(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Pr]||m[yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),St(m,u,l),m[yt]=s,ft(m),u=m;break e;case"link":var v=yb("link","href",d).get(u+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(m=v[S],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break t}}m=d.createElement(u),St(m,u,l),d.head.appendChild(m);break;case"meta":if(v=yb("meta","content",d).get(u+(l.content||""))){for(S=0;S<v.length;S++)if(m=v[S],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break t}}m=d.createElement(u),St(m,u,l),d.head.appendChild(m);break;default:throw Error(i(468,u))}m[yt]=s,ft(m),u=m}s.stateNode=u}else vb(d,s.type,s.stateNode);else s.stateNode=_b(d,u,s.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?vb(d,s.type,s.stateNode):_b(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&cd(s,s.memoizedProps,l.memoizedProps)}break;case 27:zt(a,s),Pt(s),u&512&&(lt||l===null||In(l,l.return)),l!==null&&u&4&&cd(s,s.memoizedProps,l.memoizedProps);break;case 5:if(zt(a,s),Pt(s),u&512&&(lt||l===null||In(l,l.return)),s.flags&32){d=s.stateNode;try{_a(d,"")}catch(J){Ie(s,s.return,J)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,cd(s,d,l!==null?l.memoizedProps:d)),u&1024&&(fd=!0);break;case 6:if(zt(a,s),Pt(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(J){Ie(s,s.return,J)}}break;case 3:if(Vc=null,d=Sn,Sn=Hc(a.containerInfo),zt(a,s),Sn=d,Pt(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Ka(a.containerInfo)}catch(J){Ie(s,s.return,J)}fd&&(fd=!1,vv(s));break;case 4:u=Sn,Sn=Hc(s.stateNode.containerInfo),zt(a,s),Pt(s),Sn=u;break;case 12:zt(a,s),Pt(s);break;case 31:zt(a,s),Pt(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ac(s,u)));break;case 13:zt(a,s),Pt(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mc=qt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ac(s,u)));break;case 22:d=s.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,D=ti,j=lt;if(ti=D||d,lt=j||C,zt(a,s),lt=j,ti=D,Pt(s),u&8192)e:for(a=s.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(l===null||C||ti||lt||Ps(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){C=l=a;try{if(m=C.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var F=C.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(J){Ie(C,C.return,J)}}}else if(a.tag===6){if(l===null){C=a;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(J){Ie(C,C.return,J)}}}else if(a.tag===18){if(l===null){C=a;try{var P=C.stateNode;d?lb(P,!0):lb(C.stateNode,!1)}catch(J){Ie(C,C.return,J)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ac(s,l))));break;case 19:zt(a,s),Pt(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ac(s,u)));break;case 30:break;case 21:break;default:zt(a,s),Pt(s)}}function Pt(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(uv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,m=ud(s);wc(s,m,d);break;case 5:var v=l.stateNode;l.flags&32&&(_a(v,""),l.flags&=-33);var S=ud(s);wc(s,S,v);break;case 3:case 4:var C=l.stateNode.containerInfo,D=ud(s);hd(s,D,C);break;default:throw Error(i(161))}}catch(j){Ie(s,s.return,j)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function vv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;vv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ii(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)dv(s,a.alternate,a),a=a.sibling}function Ps(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Pi(4,a,a.return),Ps(a);break;case 1:In(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&lv(a,a.return,l),Ps(a);break;case 27:bo(a.stateNode);case 26:case 5:In(a,a.return),Ps(a);break;case 22:a.memoizedState===null&&Ps(a);break;case 30:Ps(a);break;default:Ps(a)}s=s.sibling}}function si(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=s,m=a,v=m.flags;switch(m.tag){case 0:case 11:case 15:si(d,m,l),co(4,m);break;case 1:if(si(d,m,l),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Ie(u,u.return,D)}if(u=m,d=u.updateQueue,d!==null){var S=u.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)X_(C[d],S)}catch(D){Ie(u,u.return,D)}}l&&v&64&&ov(m),uo(m,m.return);break;case 27:hv(m);case 26:case 5:si(d,m,l),l&&u===null&&v&4&&cv(m),uo(m,m.return);break;case 12:si(d,m,l);break;case 31:si(d,m,l),l&&v&4&&gv(d,m);break;case 13:si(d,m,l),l&&v&4&&_v(d,m);break;case 22:m.memoizedState===null&&si(d,m,l),uo(m,m.return);break;case 30:break;default:si(d,m,l)}a=a.sibling}}function dd(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Xr(l))}function pd(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Xr(s))}function En(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bv(s,a,l,u),a=a.sibling}function bv(s,a,l,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:En(s,a,l,u),d&2048&&co(9,a);break;case 1:En(s,a,l,u);break;case 3:En(s,a,l,u),d&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Xr(s)));break;case 12:if(d&2048){En(s,a,l,u),s=a.stateNode;try{var m=a.memoizedProps,v=m.id,S=m.onPostCommit;typeof S=="function"&&S(v,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(C){Ie(a,a.return,C)}}else En(s,a,l,u);break;case 31:En(s,a,l,u);break;case 13:En(s,a,l,u);break;case 23:break;case 22:m=a.stateNode,v=a.alternate,a.memoizedState!==null?m._visibility&2?En(s,a,l,u):ho(s,a):m._visibility&2?En(s,a,l,u):(m._visibility|=2,Pa(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),d&2048&&dd(v,a);break;case 24:En(s,a,l,u),d&2048&&pd(a.alternate,a);break;default:En(s,a,l,u)}}function Pa(s,a,l,u,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var m=s,v=a,S=l,C=u,D=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(m,v,S,C,d),co(8,v);break;case 23:break;case 22:var j=v.stateNode;v.memoizedState!==null?j._visibility&2?Pa(m,v,S,C,d):ho(m,v):(j._visibility|=2,Pa(m,v,S,C,d)),d&&D&2048&&dd(v.alternate,v);break;case 24:Pa(m,v,S,C,d),d&&D&2048&&pd(v.alternate,v);break;default:Pa(m,v,S,C,d)}a=a.sibling}}function ho(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,d=u.flags;switch(u.tag){case 22:ho(l,u),d&2048&&dd(u.alternate,u);break;case 24:ho(l,u),d&2048&&pd(u.alternate,u);break;default:ho(l,u)}a=a.sibling}}var fo=8192;function ja(s,a,l){if(s.subtreeFlags&fo)for(s=s.child;s!==null;)xv(s,a,l),s=s.sibling}function xv(s,a,l){switch(s.tag){case 26:ja(s,a,l),s.flags&fo&&s.memoizedState!==null&&Ww(l,Sn,s.memoizedState,s.memoizedProps);break;case 5:ja(s,a,l);break;case 3:case 4:var u=Sn;Sn=Hc(s.stateNode.containerInfo),ja(s,a,l),Sn=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=fo,fo=16777216,ja(s,a,l),fo=u):ja(s,a,l));break;default:ja(s,a,l)}}function Sv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function po(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];dt=u,Tv(u,s)}Sv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ev(s),s=s.sibling}function Ev(s){switch(s.tag){case 0:case 11:case 15:po(s),s.flags&2048&&Pi(9,s,s.return);break;case 3:po(s);break;case 12:po(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Rc(s)):po(s);break;default:po(s)}}function Rc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];dt=u,Tv(u,s)}Sv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Pi(8,a,a.return),Rc(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Rc(a));break;default:Rc(a)}s=s.sibling}}function Tv(s,a){for(;dt!==null;){var l=dt;switch(l.tag){case 0:case 11:case 15:Pi(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xr(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,dt=u;else e:for(l=s;dt!==null;){u=dt;var d=u.sibling,m=u.return;if(pv(u),u===l){dt=null;break e}if(d!==null){d.return=m,dt=d;break e}dt=m}}}var ow={getCacheForType:function(s){var a=bt(at),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return bt(at).controller.signal}},lw=typeof WeakMap=="function"?WeakMap:Map,Me=0,Fe=null,ye=null,xe=0,De=0,$t=null,ji=!1,Ba=!1,md=!1,ai=0,Je=0,Bi=0,js=0,gd=0,Zt=0,Ua=0,mo=null,jt=null,_d=!1,Mc=0,Cv=0,Oc=1/0,Nc=null,Ui=null,ct=0,Hi=null,Ha=null,ri=0,yd=0,vd=null,wv=null,go=0,bd=null;function Jt(){return(Me&2)!==0&&xe!==0?xe&-xe:z.T!==null?wd():Fg()}function Av(){if(Zt===0)if((xe&536870912)===0||Ee){var s=Bl;Bl<<=1,(Bl&3932160)===0&&(Bl=262144),Zt=s}else Zt=536870912;return s=Qt.current,s!==null&&(s.flags|=32),Zt}function Bt(s,a,l){(s===Fe&&(De===2||De===9)||s.cancelPendingCommit!==null)&&(Fa(s,0),Fi(s,xe,Zt,!1)),zr(s,l),((Me&2)===0||s!==Fe)&&(s===Fe&&((Me&2)===0&&(js|=l),Je===4&&Fi(s,xe,Zt,!1)),Ln(s))}function Rv(s,a,l){if((Me&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||Lr(s,a),d=u?hw(s,a):Sd(s,a,!0),m=u;do{if(d===0){Ba&&!u&&Fi(s,a,0,!1);break}else{if(l=s.current.alternate,m&&!cw(l)){d=Sd(s,a,!1),m=!1;continue}if(d===2){if(m=a,s.errorRecoveryDisabledLanes&m)var v=0;else v=s.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var S=s;d=mo;var C=S.current.memoizedState.isDehydrated;if(C&&(Fa(S,v).flags|=256),v=Sd(S,v,!1),v!==2){if(md&&!C){S.errorRecoveryDisabledLanes|=m,js|=m,d=4;break e}m=jt,jt=d,m!==null&&(jt===null?jt=m:jt.push.apply(jt,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){Fa(s,0),Fi(s,a,0,!0);break}e:{switch(u=s,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Fi(u,a,Zt,!ji);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Mc+300-qt(),10<d)){if(Fi(u,a,Zt,!ji),Hl(u,0,!0)!==0)break e;ri=a,u.timeoutHandle=ab(Mv.bind(null,u,l,jt,Nc,_d,a,Zt,js,Ua,ji,m,"Throttled",-0,0),d);break e}Mv(u,l,jt,Nc,_d,a,Zt,js,Ua,ji,m,null,-0,0)}}break}while(!0);Ln(s)}function Mv(s,a,l,u,d,m,v,S,C,D,j,F,I,P){if(s.timeoutHandle=-1,F=a.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},xv(a,m,F);var J=(m&62914560)===m?Mc-qt():(m&4194048)===m?Cv-qt():0;if(J=Yw(F,J),J!==null){ri=m,s.cancelPendingCommit=J(Pv.bind(null,s,a,m,l,u,d,v,S,C,j,F,null,I,P)),Fi(s,m,v,!D);return}}Pv(s,a,m,l,u,d,v,S,C)}function cw(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],m=d.getSnapshot;d=d.value;try{if(!Yt(m(),d))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fi(s,a,l,u){a&=~gd,a&=~js,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var d=a;0<d;){var m=31-Wt(d),v=1<<m;u[m]=-1,d&=~v}l!==0&&Bg(s,l,a)}function kc(){return(Me&6)===0?(_o(0),!1):!0}function xd(){if(ye!==null){if(De===0)var s=ye.return;else s=ye,Qn=Ms=null,Pf(s),ka=null,Zr=0,s=ye;for(;s!==null;)rv(s.alternate,s),s=s.return;ye=null}}function Fa(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Mw(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ri=0,xd(),Fe=s,ye=l=Yn(s.current,null),xe=a,De=0,$t=null,ji=!1,Ba=Lr(s,a),md=!1,Ua=Zt=gd=js=Bi=Je=0,jt=mo=null,_d=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var d=31-Wt(u),m=1<<d;a|=s[d],u&=~m}return ai=a,Jl(),l}function Ov(s,a){fe=null,z.H=ro,a===Na||a===oc?(a=W_(),De=3):a===Cf?(a=W_(),De=4):De=a===Jf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,$t=a,ye===null&&(Je=1,xc(s,rn(a,s.current)))}function Nv(){var s=Qt.current;return s===null?!0:(xe&4194048)===xe?un===null:(xe&62914560)===xe||(xe&536870912)!==0?s===un:!1}function kv(){var s=z.H;return z.H=ro,s===null?ro:s}function Dv(){var s=z.A;return z.A=ow,s}function Dc(){Je=4,ji||(xe&4194048)!==xe&&Qt.current!==null||(Ba=!0),(Bi&134217727)===0&&(js&134217727)===0||Fe===null||Fi(Fe,xe,Zt,!1)}function Sd(s,a,l){var u=Me;Me|=2;var d=kv(),m=Dv();(Fe!==s||xe!==a)&&(Nc=null,Fa(s,a)),a=!1;var v=Je;e:do try{if(De!==0&&ye!==null){var S=ye,C=$t;switch(De){case 8:xd(),v=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(a=!0);var D=De;if(De=0,$t=null,Va(s,S,C,D),l&&Ba){v=0;break e}break;default:D=De,De=0,$t=null,Va(s,S,C,D)}}uw(),v=Je;break}catch(j){Ov(s,j)}while(!0);return a&&s.shellSuspendCounter++,Qn=Ms=null,Me=u,z.H=d,z.A=m,ye===null&&(Fe=null,xe=0,Jl()),v}function uw(){for(;ye!==null;)Iv(ye)}function hw(s,a){var l=Me;Me|=2;var u=kv(),d=Dv();Fe!==s||xe!==a?(Nc=null,Oc=qt()+500,Fa(s,a)):Ba=Lr(s,a);e:do try{if(De!==0&&ye!==null){a=ye;var m=$t;t:switch(De){case 1:De=0,$t=null,Va(s,a,m,1);break;case 2:case 9:if(q_(m)){De=0,$t=null,Lv(a);break}a=function(){De!==2&&De!==9||Fe!==s||(De=7),Ln(s)},m.then(a,a);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:q_(m)?(De=0,$t=null,Lv(a)):(De=0,$t=null,Va(s,a,m,7));break;case 5:var v=null;switch(ye.tag){case 26:v=ye.memoizedState;case 5:case 27:var S=ye;if(v?bb(v):S.stateNode.complete){De=0,$t=null;var C=S.sibling;if(C!==null)ye=C;else{var D=S.return;D!==null?(ye=D,Ic(D)):ye=null}break t}}De=0,$t=null,Va(s,a,m,5);break;case 6:De=0,$t=null,Va(s,a,m,6);break;case 8:xd(),Je=6;break e;default:throw Error(i(462))}}fw();break}catch(j){Ov(s,j)}while(!0);return Qn=Ms=null,z.H=u,z.A=d,Me=l,ye!==null?0:(Fe=null,xe=0,Jl(),Je)}function fw(){for(;ye!==null&&!LT();)Iv(ye)}function Iv(s){var a=sv(s.alternate,s,ai);s.memoizedProps=s.pendingProps,a===null?Ic(s):ye=a}function Lv(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Zy(l,a,a.pendingProps,a.type,void 0,xe);break;case 11:a=Zy(l,a,a.pendingProps,a.type.render,a.ref,xe);break;case 5:Pf(a);default:rv(l,a),a=ye=D_(a,ai),a=sv(l,a,ai)}s.memoizedProps=s.pendingProps,a===null?Ic(s):ye=a}function Va(s,a,l,u){Qn=Ms=null,Pf(a),ka=null,Zr=0;var d=a.return;try{if(ew(s,d,a,l,xe)){Je=1,xc(s,rn(l,s.current)),ye=null;return}}catch(m){if(d!==null)throw ye=d,m;Je=1,xc(s,rn(l,s.current)),ye=null;return}a.flags&32768?(Ee||u===1?s=!0:Ba||(xe&536870912)!==0?s=!1:(ji=s=!0,(u===2||u===9||u===3||u===6)&&(u=Qt.current,u!==null&&u.tag===13&&(u.flags|=16384))),zv(a,s)):Ic(a)}function Ic(s){var a=s;do{if((a.flags&32768)!==0){zv(a,ji);return}s=a.return;var l=iw(a.alternate,a,ai);if(l!==null){ye=l;return}if(a=a.sibling,a!==null){ye=a;return}ye=a=s}while(a!==null);Je===0&&(Je=5)}function zv(s,a){do{var l=sw(s.alternate,s);if(l!==null){l.flags&=32767,ye=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){ye=s;return}ye=s=l}while(s!==null);Je=6,ye=null}function Pv(s,a,l,u,d,m,v,S,C){s.cancelPendingCommit=null;do Lc();while(ct!==0);if((Me&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=uf,GT(s,l,m,v,S,C),s===Fe&&(ye=Fe=null,xe=0),Ha=a,Hi=s,ri=l,yd=m,vd=d,wv=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,gw(Pl,function(){return Fv(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,d=W.p,W.p=2,v=Me,Me|=4;try{aw(s,a,l)}finally{Me=v,W.p=d,z.T=u}}ct=1,jv(),Bv(),Uv()}}function jv(){if(ct===1){ct=0;var s=Hi,a=Ha,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var u=W.p;W.p=2;var d=Me;Me|=4;try{yv(a,s);var m=Id,v=T_(s.containerInfo),S=m.focusedElem,C=m.selectionRange;if(v!==S&&S&&S.ownerDocument&&E_(S.ownerDocument.documentElement,S)){if(C!==null&&af(S)){var D=C.start,j=C.end;if(j===void 0&&(j=D),"selectionStart"in S)S.selectionStart=D,S.selectionEnd=Math.min(j,S.value.length);else{var F=S.ownerDocument||document,I=F&&F.defaultView||window;if(I.getSelection){var P=I.getSelection(),J=S.textContent.length,se=Math.min(C.start,J),Be=C.end===void 0?se:Math.min(C.end,J);!P.extend&&se>Be&&(v=Be,Be=se,se=v);var O=S_(S,se),A=S_(S,Be);if(O&&A&&(P.rangeCount!==1||P.anchorNode!==O.node||P.anchorOffset!==O.offset||P.focusNode!==A.node||P.focusOffset!==A.offset)){var k=F.createRange();k.setStart(O.node,O.offset),P.removeAllRanges(),se>Be?(P.addRange(k),P.extend(A.node,A.offset)):(k.setEnd(A.node,A.offset),P.addRange(k))}}}}for(F=[],P=S;P=P.parentNode;)P.nodeType===1&&F.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<F.length;S++){var U=F[S];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Yc=!!Dd,Id=Dd=null}finally{Me=d,W.p=u,z.T=l}}s.current=a,ct=2}}function Bv(){if(ct===2){ct=0;var s=Hi,a=Ha,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var u=W.p;W.p=2;var d=Me;Me|=4;try{dv(s,a.alternate,a)}finally{Me=d,W.p=u,z.T=l}}ct=3}}function Uv(){if(ct===4||ct===3){ct=0,zT();var s=Hi,a=Ha,l=ri,u=wv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ct=5:(ct=0,Ha=Hi=null,Hv(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Ui=null),Bh(l),a=a.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Ir,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=z.T,d=W.p,W.p=2,z.T=null;try{for(var m=s.onRecoverableError,v=0;v<u.length;v++){var S=u[v];m(S.value,{componentStack:S.stack})}}finally{z.T=a,W.p=d}}(ri&3)!==0&&Lc(),Ln(s),d=s.pendingLanes,(l&261930)!==0&&(d&42)!==0?s===bd?go++:(go=0,bd=s):go=0,_o(0)}}function Hv(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Xr(a)))}function Lc(){return jv(),Bv(),Uv(),Fv()}function Fv(){if(ct!==5)return!1;var s=Hi,a=yd;yd=0;var l=Bh(ri),u=z.T,d=W.p;try{W.p=32>l?32:l,z.T=null,l=vd,vd=null;var m=Hi,v=ri;if(ct=0,Ha=Hi=null,ri=0,(Me&6)!==0)throw Error(i(331));var S=Me;if(Me|=4,Ev(m.current),bv(m,m.current,v,l),Me=S,_o(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Ir,m)}catch{}return!0}finally{W.p=d,z.T=u,Hv(s,a)}}function Vv(s,a,l){a=rn(l,a),a=Zf(s.stateNode,a,2),s=Ii(s,a,2),s!==null&&(zr(s,2),Ln(s))}function Ie(s,a,l){if(s.tag===3)Vv(s,s,l);else for(;a!==null;){if(a.tag===3){Vv(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ui===null||!Ui.has(u))){s=rn(l,s),l=qy(2),u=Ii(a,l,2),u!==null&&(Gy(l,u,a,s),zr(u,2),Ln(u));break}}a=a.return}}function Ed(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new lw;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(l)||(md=!0,d.add(l),s=dw.bind(null,s,a,l),a.then(s,s))}function dw(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Fe===s&&(xe&l)===l&&(Je===4||Je===3&&(xe&62914560)===xe&&300>qt()-Mc?(Me&2)===0&&Fa(s,0):gd|=l,Ua===xe&&(Ua=0)),Ln(s)}function qv(s,a){a===0&&(a=jg()),s=ws(s,a),s!==null&&(zr(s,a),Ln(s))}function pw(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),qv(s,l)}function mw(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),qv(s,l)}function gw(s,a){return Lh(s,a)}var zc=null,qa=null,Td=!1,Pc=!1,Cd=!1,Vi=0;function Ln(s){s!==qa&&s.next===null&&(qa===null?zc=qa=s:qa=qa.next=s),Pc=!0,Td||(Td=!0,yw())}function _o(s,a){if(!Cd&&Pc){Cd=!0;do for(var l=!1,u=zc;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var v=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Wt(42|s)+1)-1,m&=d&~(v&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Kv(u,m))}else m=xe,m=Hl(u,u===Fe?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Lr(u,m)||(l=!0,Kv(u,m));u=u.next}while(l);Cd=!1}}function _w(){Gv()}function Gv(){Pc=Td=!1;var s=0;Vi!==0&&Rw()&&(s=Vi);for(var a=qt(),l=null,u=zc;u!==null;){var d=u.next,m=Wv(u,a);m===0?(u.next=null,l===null?zc=d:l.next=d,d===null&&(qa=l)):(l=u,(s!==0||(m&3)!==0)&&(Pc=!0)),u=d}ct!==0&&ct!==5||_o(s),Vi!==0&&(Vi=0)}function Wv(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var v=31-Wt(m),S=1<<v,C=d[v];C===-1?((S&l)===0||(S&u)!==0)&&(d[v]=qT(S,a)):C<=a&&(s.expiredLanes|=S),m&=~S}if(a=Fe,l=xe,l=Hl(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(De===2||De===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&zh(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Lr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&zh(u),Bh(l)){case 2:case 8:l=zg;break;case 32:l=Pl;break;case 268435456:l=Pg;break;default:l=Pl}return u=Yv.bind(null,s),l=Lh(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&zh(u),s.callbackPriority=2,s.callbackNode=null,2}function Yv(s,a){if(ct!==0&&ct!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Lc()&&s.callbackNode!==l)return null;var u=xe;return u=Hl(s,s===Fe?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Rv(s,u,a),Wv(s,qt()),s.callbackNode!=null&&s.callbackNode===l?Yv.bind(null,s):null)}function Kv(s,a){if(Lc())return null;Rv(s,a,!0)}function yw(){Ow(function(){(Me&6)!==0?Lh(Lg,_w):Gv()})}function wd(){if(Vi===0){var s=Ma;s===0&&(s=jl,jl<<=1,(jl&261888)===0&&(jl=256)),Vi=s}return Vi}function Qv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Gl(""+s)}function Xv(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function vw(s,a,l,u,d){if(a==="submit"&&l&&l.stateNode===d){var m=Qv((d[Dt]||null).action),v=u.submitter;v&&(a=(a=v[Dt]||null)?Qv(a.formAction):v.getAttribute("formAction"),a!==null&&(m=a,v=null));var S=new Ql("action","action",null,u,d);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Vi!==0){var C=v?Xv(d,v):new FormData(d);Wf(l,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(S.preventDefault(),C=v?Xv(d,v):new FormData(d),Wf(l,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var Ad=0;Ad<cf.length;Ad++){var Rd=cf[Ad],bw=Rd.toLowerCase(),xw=Rd[0].toUpperCase()+Rd.slice(1);xn(bw,"on"+xw)}xn(A_,"onAnimationEnd"),xn(R_,"onAnimationIteration"),xn(M_,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(PC,"onTransitionRun"),xn(jC,"onTransitionStart"),xn(BC,"onTransitionCancel"),xn(O_,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function $v(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],d=u.event;u=u.listeners;e:{var m=void 0;if(a)for(var v=u.length-1;0<=v;v--){var S=u[v],C=S.instance,D=S.currentTarget;if(S=S.listener,C!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=D;try{m(d)}catch(j){Zl(j)}d.currentTarget=null,m=C}else for(v=0;v<u.length;v++){if(S=u[v],C=S.instance,D=S.currentTarget,S=S.listener,C!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=D;try{m(d)}catch(j){Zl(j)}d.currentTarget=null,m=C}}}}function ve(s,a){var l=a[Uh];l===void 0&&(l=a[Uh]=new Set);var u=s+"__bubble";l.has(u)||(Zv(a,s,2,!1),l.add(u))}function Md(s,a,l){var u=0;a&&(u|=4),Zv(l,s,u,a)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Od(s){if(!s[jc]){s[jc]=!0,Gg.forEach(function(l){l!=="selectionchange"&&(Sw.has(l)||Md(l,!1,s),Md(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[jc]||(a[jc]=!0,Md("selectionchange",!1,a))}}function Zv(s,a,l,u){switch(Ab(a)){case 2:var d=Xw;break;case 8:d=$w;break;default:d=Gd}l=d.bind(null,a,l,s),d=void 0,!Qh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(a,l,{capture:!0,passive:d}):s.addEventListener(a,l,!0):d!==void 0?s.addEventListener(a,l,{passive:d}):s.addEventListener(a,l,!1)}function Nd(s,a,l,u,d){var m=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=u.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=fa(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){u=m=v;continue e}S=S.parentNode}}u=u.return}i_(function(){var D=m,j=Yh(l),F=[];e:{var I=N_.get(s);if(I!==void 0){var P=Ql,J=s;switch(s){case"keypress":if(Yl(l)===0)break e;case"keydown":case"keyup":P=mC;break;case"focusin":J="focus",P=Jh;break;case"focusout":J="blur",P=Jh;break;case"beforeblur":case"afterblur":P=Jh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=r_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=iC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=yC;break;case A_:case R_:case M_:P=rC;break;case O_:P=bC;break;case"scroll":case"scrollend":P=tC;break;case"wheel":P=SC;break;case"copy":case"cut":case"paste":P=lC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=l_;break;case"toggle":case"beforetoggle":P=TC}var se=(a&4)!==0,Be=!se&&(s==="scroll"||s==="scrollend"),O=se?I!==null?I+"Capture":null:I;se=[];for(var A=D,k;A!==null;){var U=A;if(k=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||k===null||O===null||(U=Br(A,O),U!=null&&se.push(vo(A,U,k))),Be)break;A=A.return}0<se.length&&(I=new P(I,J,null,l,j),F.push({event:I,listeners:se}))}}if((a&7)===0){e:{if(I=s==="mouseover"||s==="pointerover",P=s==="mouseout"||s==="pointerout",I&&l!==Wh&&(J=l.relatedTarget||l.fromElement)&&(fa(J)||J[ha]))break e;if((P||I)&&(I=j.window===j?j:(I=j.ownerDocument)?I.defaultView||I.parentWindow:window,P?(J=l.relatedTarget||l.toElement,P=D,J=J?fa(J):null,J!==null&&(Be=o(J),se=J.tag,J!==Be||se!==5&&se!==27&&se!==6)&&(J=null)):(P=null,J=D),P!==J)){if(se=r_,U="onMouseLeave",O="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(se=l_,U="onPointerLeave",O="onPointerEnter",A="pointer"),Be=P==null?I:jr(P),k=J==null?I:jr(J),I=new se(U,A+"leave",P,l,j),I.target=Be,I.relatedTarget=k,U=null,fa(j)===D&&(se=new se(O,A+"enter",J,l,j),se.target=k,se.relatedTarget=Be,U=se),Be=U,P&&J)t:{for(se=Ew,O=P,A=J,k=0,U=O;U;U=se(U))k++;U=0;for(var ne=A;ne;ne=se(ne))U++;for(;0<k-U;)O=se(O),k--;for(;0<U-k;)A=se(A),U--;for(;k--;){if(O===A||A!==null&&O===A.alternate){se=O;break t}O=se(O),A=se(A)}se=null}else se=null;P!==null&&Jv(F,I,P,se,!1),J!==null&&Be!==null&&Jv(F,Be,J,se,!0)}}e:{if(I=D?jr(D):window,P=I.nodeName&&I.nodeName.toLowerCase(),P==="select"||P==="input"&&I.type==="file")var we=g_;else if(p_(I))if(__)we=IC;else{we=kC;var te=NC}else P=I.nodeName,!P||P.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?D&&Gh(D.elementType)&&(we=g_):we=DC;if(we&&(we=we(s,D))){m_(F,we,l,j);break e}te&&te(s,I,D),s==="focusout"&&D&&I.type==="number"&&D.memoizedProps.value!=null&&qh(I,"number",I.value)}switch(te=D?jr(D):window,s){case"focusin":(p_(te)||te.contentEditable==="true")&&(xa=te,rf=D,Yr=null);break;case"focusout":Yr=rf=xa=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,C_(F,l,j);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":C_(F,l,j)}var de;if(tf)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else ba?f_(s,l)&&(Se="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(c_&&l.locale!=="ko"&&(ba||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&ba&&(de=s_()):(Ai=j,Xh="value"in Ai?Ai.value:Ai.textContent,ba=!0)),te=Bc(D,Se),0<te.length&&(Se=new o_(Se,s,null,l,j),F.push({event:Se,listeners:te}),de?Se.data=de:(de=d_(l),de!==null&&(Se.data=de)))),(de=wC?AC(s,l):RC(s,l))&&(Se=Bc(D,"onBeforeInput"),0<Se.length&&(te=new o_("onBeforeInput","beforeinput",null,l,j),F.push({event:te,listeners:Se}),te.data=de)),vw(F,s,D,l,j)}$v(F,a)})}function vo(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Bc(s,a){for(var l=a+"Capture",u=[];s!==null;){var d=s,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Br(s,l),d!=null&&u.unshift(vo(s,d,m)),d=Br(s,a),d!=null&&u.push(vo(s,d,m))),s.tag===3)return u;s=s.return}return[]}function Ew(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Jv(s,a,l,u,d){for(var m=a._reactName,v=[];l!==null&&l!==u;){var S=l,C=S.alternate,D=S.stateNode;if(S=S.tag,C!==null&&C===u)break;S!==5&&S!==26&&S!==27||D===null||(C=D,d?(D=Br(l,m),D!=null&&v.unshift(vo(l,D,C))):d||(D=Br(l,m),D!=null&&v.push(vo(l,D,C)))),l=l.return}v.length!==0&&s.push({event:a,listeners:v})}var Tw=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function eb(s){return(typeof s=="string"?s:""+s).replace(Tw,`
`).replace(Cw,"")}function tb(s,a){return a=eb(a),eb(s)===a}function je(s,a,l,u,d,m){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||_a(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&_a(s,""+u);break;case"className":Vl(s,"class",u);break;case"tabIndex":Vl(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(s,l,u);break;case"style":t_(s,u,m);break;case"data":if(a!=="object"){Vl(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Gl(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(a!=="input"&&je(s,a,"name",d.name,d,null),je(s,a,"formEncType",d.formEncType,d,null),je(s,a,"formMethod",d.formMethod,d,null),je(s,a,"formTarget",d.formTarget,d,null)):(je(s,a,"encType",d.encType,d,null),je(s,a,"method",d.method,d,null),je(s,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Gl(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Gn);break;case"onScroll":u!=null&&ve("scroll",s);break;case"onScrollEnd":u!=null&&ve("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Gl(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":ve("beforetoggle",s),ve("toggle",s),Fl(s,"popover",u);break;case"xlinkActuate":qn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fl(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=JT.get(l)||l,Fl(s,l,u))}}function kd(s,a,l,u,d,m){switch(l){case"style":t_(s,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?_a(s,u):(typeof u=="number"||typeof u=="bigint")&&_a(s,""+u);break;case"onScroll":u!=null&&ve("scroll",s);break;case"onScrollEnd":u!=null&&ve("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wg.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),a=l.slice(2,d?l.length-7:void 0),m=s[Dt]||null,m=m!=null?m[l]:null,typeof m=="function"&&s.removeEventListener(a,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,d);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Fl(s,l,u)}}}function St(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",s),ve("load",s);var u=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var v=l[m];if(v!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:je(s,a,m,v,l,null)}}d&&je(s,a,"srcSet",l.srcSet,l,null),u&&je(s,a,"src",l.src,l,null);return;case"input":ve("invalid",s);var S=m=v=d=null,C=null,D=null;for(u in l)if(l.hasOwnProperty(u)){var j=l[u];if(j!=null)switch(u){case"name":d=j;break;case"type":v=j;break;case"checked":C=j;break;case"defaultChecked":D=j;break;case"value":m=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,a));break;default:je(s,a,u,j,l,null)}}$g(s,m,S,C,D,v,d,!1);return;case"select":ve("invalid",s),u=v=m=null;for(d in l)if(l.hasOwnProperty(d)&&(S=l[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:je(s,a,d,S,l,null)}a=m,l=v,s.multiple=!!u,a!=null?ga(s,!!u,a,!1):l!=null&&ga(s,!!u,l,!0);return;case"textarea":ve("invalid",s),m=d=u=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:je(s,a,v,S,l,null)}Jg(s,u,d,m);return;case"option":for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null)&&(C==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":je(s,a,C,u,l,null));return;case"dialog":ve("beforetoggle",s),ve("toggle",s),ve("cancel",s),ve("close",s);break;case"iframe":case"object":ve("load",s);break;case"video":case"audio":for(u=0;u<yo.length;u++)ve(yo[u],s);break;case"image":ve("error",s),ve("load",s);break;case"details":ve("toggle",s);break;case"embed":case"source":case"link":ve("error",s),ve("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(u=l[D],u!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:je(s,a,D,u,l,null)}return;default:if(Gh(a)){for(j in l)l.hasOwnProperty(j)&&(u=l[j],u!==void 0&&kd(s,a,j,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&je(s,a,S,u,l,null))}function ww(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,S=null,C=null,D=null,j=null;for(P in l){var F=l[P];if(l.hasOwnProperty(P)&&F!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":C=F;default:u.hasOwnProperty(P)||je(s,a,P,null,u,F)}}for(var I in u){var P=u[I];if(F=l[I],u.hasOwnProperty(I)&&(P!=null||F!=null))switch(I){case"type":m=P;break;case"name":d=P;break;case"checked":D=P;break;case"defaultChecked":j=P;break;case"value":v=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,a));break;default:P!==F&&je(s,a,I,P,u,F)}}Vh(s,v,S,C,D,j,m,d);return;case"select":P=v=S=I=null;for(m in l)if(C=l[m],l.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":P=C;default:u.hasOwnProperty(m)||je(s,a,m,null,u,C)}for(d in u)if(m=u[d],C=l[d],u.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":I=m;break;case"defaultValue":S=m;break;case"multiple":v=m;default:m!==C&&je(s,a,d,m,u,C)}a=S,l=v,u=P,I!=null?ga(s,!!l,I,!1):!!u!=!!l&&(a!=null?ga(s,!!l,a,!0):ga(s,!!l,l?[]:"",!1));return;case"textarea":P=I=null;for(S in l)if(d=l[S],l.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:je(s,a,S,null,u,d)}for(v in u)if(d=u[v],m=l[v],u.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":I=d;break;case"defaultValue":P=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&je(s,a,v,d,u,m)}Zg(s,I,P);return;case"option":for(var J in l)I=l[J],l.hasOwnProperty(J)&&I!=null&&!u.hasOwnProperty(J)&&(J==="selected"?s.selected=!1:je(s,a,J,null,u,I));for(C in u)I=u[C],P=l[C],u.hasOwnProperty(C)&&I!==P&&(I!=null||P!=null)&&(C==="selected"?s.selected=I&&typeof I!="function"&&typeof I!="symbol":je(s,a,C,I,u,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in l)I=l[se],l.hasOwnProperty(se)&&I!=null&&!u.hasOwnProperty(se)&&je(s,a,se,null,u,I);for(D in u)if(I=u[D],P=l[D],u.hasOwnProperty(D)&&I!==P&&(I!=null||P!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,a));break;default:je(s,a,D,I,u,P)}return;default:if(Gh(a)){for(var Be in l)I=l[Be],l.hasOwnProperty(Be)&&I!==void 0&&!u.hasOwnProperty(Be)&&kd(s,a,Be,void 0,u,I);for(j in u)I=u[j],P=l[j],!u.hasOwnProperty(j)||I===P||I===void 0&&P===void 0||kd(s,a,j,I,u,P);return}}for(var O in l)I=l[O],l.hasOwnProperty(O)&&I!=null&&!u.hasOwnProperty(O)&&je(s,a,O,null,u,I);for(F in u)I=u[F],P=l[F],!u.hasOwnProperty(F)||I===P||I==null&&P==null||je(s,a,F,I,u,P)}function nb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Aw(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var d=l[u],m=d.transferSize,v=d.initiatorType,S=d.duration;if(m&&S&&nb(v)){for(v=0,S=d.responseEnd,u+=1;u<l.length;u++){var C=l[u],D=C.startTime;if(D>S)break;var j=C.transferSize,F=C.initiatorType;j&&nb(F)&&(C=C.responseEnd,v+=j*(C<S?1:(S-D)/(C-D)))}if(--u,a+=8*(m+v)/(d.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Dd=null,Id=null;function Uc(s){return s.nodeType===9?s:s.ownerDocument}function ib(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ld(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zd=null;function Rw(){var s=window.event;return s&&s.type==="popstate"?s===zd?!1:(zd=s,!0):(zd=null,!1)}var ab=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,rb=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof rb<"u"?function(s){return rb.resolve(null).then(s).catch(Nw)}:ab;function Nw(s){setTimeout(function(){throw s})}function qi(s){return s==="head"}function ob(s,a){var l=a,u=0;do{var d=l.nextSibling;if(s.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(d),Ka(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")bo(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,bo(l);for(var m=l.firstChild;m;){var v=m.nextSibling,S=m.nodeName;m[Pr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=v}}else l==="body"&&bo(s.ownerDocument.body);l=d}while(l);Ka(a)}function lb(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Pd(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Pd(l),Hh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function kw(s,a,l,u){for(;s.nodeType===1;){var d=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Pr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=hn(s.nextSibling),s===null)break}return null}function Dw(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=hn(s.nextSibling),s===null))return null;return s}function cb(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=hn(s.nextSibling),s===null))return null;return s}function jd(s){return s.data==="$?"||s.data==="$~"}function Bd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Iw(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function hn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Ud=null;function ub(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return hn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function hb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function fb(s,a,l){switch(a=Uc(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function bo(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Hh(s)}var fn=new Map,db=new Set;function Hc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var oi=W.d;W.d={f:Lw,r:zw,D:Pw,C:jw,L:Bw,m:Uw,X:Fw,S:Hw,M:Vw};function Lw(){var s=oi.f(),a=kc();return s||a}function zw(s){var a=da(s);a!==null&&a.tag===5&&a.type==="form"?Oy(a):oi.r(s)}var Ga=typeof document>"u"?null:document;function pb(s,a,l){var u=Ga;if(u&&typeof a=="string"&&a){var d=sn(a);d='link[rel="'+s+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),db.has(d)||(db.add(d),s={rel:s,crossOrigin:l,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),St(a,"link",s),ft(a),u.head.appendChild(a)))}}function Pw(s){oi.D(s),pb("dns-prefetch",s,null)}function jw(s,a){oi.C(s,a),pb("preconnect",s,a)}function Bw(s,a,l){oi.L(s,a,l);var u=Ga;if(u&&s&&a){var d='link[rel="preload"][as="'+sn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+sn(l.imageSizes)+'"]')):d+='[href="'+sn(s)+'"]';var m=d;switch(a){case"style":m=Wa(s);break;case"script":m=Ya(s)}fn.has(m)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),fn.set(m,s),u.querySelector(d)!==null||a==="style"&&u.querySelector(xo(m))||a==="script"&&u.querySelector(So(m))||(a=u.createElement("link"),St(a,"link",s),ft(a),u.head.appendChild(a)))}}function Uw(s,a){oi.m(s,a);var l=Ga;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+sn(u)+'"][href="'+sn(s)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ya(s)}if(!fn.has(m)&&(s=_({rel:"modulepreload",href:s},a),fn.set(m,s),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(So(m)))return}u=l.createElement("link"),St(u,"link",s),ft(u),l.head.appendChild(u)}}}function Hw(s,a,l){oi.S(s,a,l);var u=Ga;if(u&&s){var d=pa(u).hoistableStyles,m=Wa(s);a=a||"default";var v=d.get(m);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(xo(m)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=fn.get(m))&&Hd(s,l);var C=v=u.createElement("link");ft(C),St(C,"link",s),C._p=new Promise(function(D,j){C.onload=D,C.onerror=j}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Fc(v,a,u)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(m,v)}}}function Fw(s,a){oi.X(s,a);var l=Ga;if(l&&s){var u=pa(l).hoistableScripts,d=Ya(s),m=u.get(d);m||(m=l.querySelector(So(d)),m||(s=_({src:s,async:!0},a),(a=fn.get(d))&&Fd(s,a),m=l.createElement("script"),ft(m),St(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function Vw(s,a){oi.M(s,a);var l=Ga;if(l&&s){var u=pa(l).hoistableScripts,d=Ya(s),m=u.get(d);m||(m=l.querySelector(So(d)),m||(s=_({src:s,async:!0,type:"module"},a),(a=fn.get(d))&&Fd(s,a),m=l.createElement("script"),ft(m),St(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function mb(s,a,l,u){var d=(d=ue.current)?Hc(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Wa(l.href),l=pa(d).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Wa(l.href);var m=pa(d).hoistableStyles,v=m.get(s);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,v),(m=d.querySelector(xo(s)))&&!m._p&&(v.instance=m,v.state.loading=5),fn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fn.set(s,l),m||qw(d,s,l,v.state))),a&&u===null)throw Error(i(528,""));return v}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ya(l),l=pa(d).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Wa(s){return'href="'+sn(s)+'"'}function xo(s){return'link[rel="stylesheet"]['+s+"]"}function gb(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function qw(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),St(a,"link",l),ft(a),s.head.appendChild(a))}function Ya(s){return'[src="'+sn(s)+'"]'}function So(s){return"script[async]"+s}function _b(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+sn(l.href)+'"]');if(u)return a.instance=u,ft(u),u;var d=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ft(u),St(u,"style",d),Fc(u,l.precedence,s),a.instance=u;case"stylesheet":d=Wa(l.href);var m=s.querySelector(xo(d));if(m)return a.state.loading|=4,a.instance=m,ft(m),m;u=gb(l),(d=fn.get(d))&&Hd(u,d),m=(s.ownerDocument||s).createElement("link"),ft(m);var v=m;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),St(m,"link",u),a.state.loading|=4,Fc(m,l.precedence,s),a.instance=m;case"script":return m=Ya(l.src),(d=s.querySelector(So(m)))?(a.instance=d,ft(d),d):(u=l,(d=fn.get(m))&&(u=_({},l),Fd(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),ft(d),St(d,"link",u),s.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Fc(u,l.precedence,s));return a.instance}function Fc(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===a)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(s,m.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Hd(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Fd(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Vc=null;function yb(s,a,l){if(Vc===null){var u=new Map,d=Vc=new Map;d.set(l,u)}else d=Vc,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),d=0;d<l.length;d++){var m=l[d];if(!(m[Pr]||m[yt]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(a)||"";v=s+v;var S=u.get(v);S?S.push(m):u.set(v,[m])}}return u}function vb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function Gw(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function bb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Ww(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Wa(u.href),m=a.querySelector(xo(d));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=qc.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=m,ft(m);return}m=a.ownerDocument||a,u=gb(u),(d=fn.get(d))&&Hd(u,d),m=m.createElement("link"),ft(m);var v=m;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),St(m,"link",u),l.instance=m}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=qc.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var Vd=0;function Yw(s,a){return s.stylesheets&&s.count===0&&Wc(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Wc(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4+a);0<s.imgBytes&&Vd===0&&(Vd=62500*Aw());var d=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Wc(s,s.stylesheets),s.unsuspend)){var m=s.unsuspend;s.unsuspend=null,m()}},(s.imgBytes>Vd?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Gc=null;function Wc(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Gc=new Map,a.forEach(Kw,s),Gc=null,qc.call(s))}function Kw(s,a){if(!(a.state.loading&4)){var l=Gc.get(s);if(l)var u=l.get(null);else{l=new Map,Gc.set(s,l);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}d=a.instance,v=d.getAttribute("data-precedence"),m=l.get(v)||u,m===u&&l.set(null,d),l.set(v,d),this.count++,u=qc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),a.state.loading|=4}}var Eo={$$typeof:B,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Qw(s,a,l,u,d,m,v,S,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.hiddenUpdates=Ph(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function xb(s,a,l,u,d,m,v,S,C,D,j,F){return s=new Qw(s,a,l,v,C,D,j,F,S),a=1,m===!0&&(a|=24),m=Kt(3,null,null,a),s.current=m,m.stateNode=s,a=Sf(),a.refCount++,s.pooledCache=a,a.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:a},wf(m),s}function Sb(s){return s?(s=Ta,s):Ta}function Eb(s,a,l,u,d,m){d=Sb(d),u.context===null?u.context=d:u.pendingContext=d,u=Di(a),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Ii(s,u,a),l!==null&&(Bt(l,s,a),eo(l,s,a))}function Tb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function qd(s,a){Tb(s,a),(s=s.alternate)&&Tb(s,a)}function Cb(s){if(s.tag===13||s.tag===31){var a=ws(s,67108864);a!==null&&Bt(a,s,67108864),qd(s,67108864)}}function wb(s){if(s.tag===13||s.tag===31){var a=Jt();a=jh(a);var l=ws(s,a);l!==null&&Bt(l,s,a),qd(s,a)}}var Yc=!0;function Xw(s,a,l,u){var d=z.T;z.T=null;var m=W.p;try{W.p=2,Gd(s,a,l,u)}finally{W.p=m,z.T=d}}function $w(s,a,l,u){var d=z.T;z.T=null;var m=W.p;try{W.p=8,Gd(s,a,l,u)}finally{W.p=m,z.T=d}}function Gd(s,a,l,u){if(Yc){var d=Wd(u);if(d===null)Nd(s,a,u,Kc,l),Rb(s,u);else if(Jw(d,s,a,l,u))u.stopPropagation();else if(Rb(s,u),a&4&&-1<Zw.indexOf(s)){for(;d!==null;){var m=da(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=xs(m.pendingLanes);if(v!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-Wt(v);S.entanglements[1]|=C,v&=~C}Ln(m),(Me&6)===0&&(Oc=qt()+500,_o(0))}}break;case 31:case 13:S=ws(m,2),S!==null&&Bt(S,m,2),kc(),qd(m,2)}if(m=Wd(u),m===null&&Nd(s,a,u,Kc,l),m===d)break;d=m}d!==null&&u.stopPropagation()}else Nd(s,a,u,null,l)}}function Wd(s){return s=Yh(s),Yd(s)}var Kc=null;function Yd(s){if(Kc=null,s=fa(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Kc=s,null}function Ab(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PT()){case Lg:return 2;case zg:return 8;case Pl:case jT:return 32;case Pg:return 268435456;default:return 32}default:return 32}}var Kd=!1,Gi=null,Wi=null,Yi=null,To=new Map,Co=new Map,Ki=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rb(s,a){switch(s){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":To.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(a.pointerId)}}function wo(s,a,l,u,d,m){return s===null||s.nativeEvent!==m?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},a!==null&&(a=da(a),a!==null&&Cb(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),s)}function Jw(s,a,l,u,d){switch(a){case"focusin":return Gi=wo(Gi,s,a,l,u,d),!0;case"dragenter":return Wi=wo(Wi,s,a,l,u,d),!0;case"mouseover":return Yi=wo(Yi,s,a,l,u,d),!0;case"pointerover":var m=d.pointerId;return To.set(m,wo(To.get(m)||null,s,a,l,u,d)),!0;case"gotpointercapture":return m=d.pointerId,Co.set(m,wo(Co.get(m)||null,s,a,l,u,d)),!0}return!1}function Mb(s){var a=fa(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Vg(s.priority,function(){wb(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,Vg(s.priority,function(){wb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Wd(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Wh=u,l.target.dispatchEvent(u),Wh=null}else return a=da(l),a!==null&&Cb(a),s.blockedOn=l,!1;a.shift()}return!0}function Ob(s,a,l){Qc(s)&&l.delete(a)}function eA(){Kd=!1,Gi!==null&&Qc(Gi)&&(Gi=null),Wi!==null&&Qc(Wi)&&(Wi=null),Yi!==null&&Qc(Yi)&&(Yi=null),To.forEach(Ob),Co.forEach(Ob)}function Xc(s,a){s.blockedOn===a&&(s.blockedOn=null,Kd||(Kd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eA)))}var $c=null;function Nb(s){$c!==s&&($c=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$c===s&&($c=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],d=s[a+2];if(typeof u!="function"){if(Yd(u||l)===null)continue;break}var m=da(l);m!==null&&(s.splice(a,3),a-=3,Wf(m,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function Ka(s){function a(C){return Xc(C,s)}Gi!==null&&Xc(Gi,s),Wi!==null&&Xc(Wi,s),Yi!==null&&Xc(Yi,s),To.forEach(a),Co.forEach(a);for(var l=0;l<Ki.length;l++){var u=Ki[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ki.length&&(l=Ki[0],l.blockedOn===null);)Mb(l),l.blockedOn===null&&Ki.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],m=l[u+1],v=d[Dt]||null;if(typeof m=="function")v||Nb(l);else if(v){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[Dt]||null)S=v.formAction;else if(Yd(d)!==null)continue}else S=v.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Nb(l)}}}function kb(){function s(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function Qd(s){this._internalRoot=s}Zc.prototype.render=Qd.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Jt();Eb(l,u,s,a,null,null)},Zc.prototype.unmount=Qd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Eb(s.current,2,null,s,null,null),kc(),a[ha]=null}};function Zc(s){this._internalRoot=s}Zc.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fg();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ki.length&&a!==0&&a<Ki[l].priority;l++);Ki.splice(l,0,s),l===0&&Mb(s)}};var Db=e.version;if(Db!=="19.2.3")throw Error(i(527,Db,"19.2.3"));W.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var tA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Ir=Jc.inject(tA),Gt=Jc}catch{}}return Ro.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",d=Uy,m=Hy,v=Fy;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=xb(s,1,!1,null,null,l,u,null,d,m,v,kb),s[ha]=a.current,Od(s),new Qd(a)},Ro.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,d="",m=Uy,v=Hy,S=Fy,C=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),a=xb(s,1,!0,a,l??null,u,d,C,m,v,S,kb),a.context=Sb(null),l=a.current,u=Jt(),u=jh(u),d=Di(u),d.callback=null,Ii(l,d,u),l=u,a.current.lanes=l,zr(a,l),Ln(a),s[ha]=a.current,Od(s),new Zc(a)},Ro.version="19.2.3",Ro}var Vb;function fA(){if(Vb)return Zd.exports;Vb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zd.exports=hA(),Zd.exports}var dA=fA();var qb="popstate";function pA(n={}){function e(i,r){let{pathname:o,search:c,hash:h}=i.location;return Dp("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:il(r)}return gA(e,t,null,n)}function $e(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mA(){return Math.random().toString(36).substring(2,10)}function Gb(n,e){return{usr:n.state,key:n.key,idx:e}}function Dp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yr(e):e,state:t,key:e&&e.key||i||mA()}}function il({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yr(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function gA(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function _(){h="POP";let w=g(),M=w==null?null:w-p;p=w,f&&f({action:h,location:T.location,delta:M})}function y(w,M){h="PUSH";let L=Dp(T.location,w,M);p=g()+1;let B=Gb(L,p),K=T.createHref(L);try{c.pushState(B,"",K)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;r.location.assign(K)}o&&f&&f({action:h,location:T.location,delta:1})}function x(w,M){h="REPLACE";let L=Dp(T.location,w,M);p=g();let B=Gb(L,p),K=T.createHref(L);c.replaceState(B,"",K),o&&f&&f({action:h,location:T.location,delta:0})}function E(w){return _A(w)}let T={get action(){return h},get location(){return n(r,c)},listen(w){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(qb,_),f=w,()=>{r.removeEventListener(qb,_),f=null}},createHref(w){return e(r,w)},createURL:E,encodeLocation(w){let M=E(w);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:y,replace:x,go(w){return c.go(w)}};return T}function _A(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$e(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:il(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function ES(n,e,t="/"){return yA(n,e,t,!1)}function yA(n,e,t,i){let r=typeof e=="string"?yr(e):e,o=yi(r.pathname||"/",t);if(o==null)return null;let c=TS(n);vA(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=OA(o);h=RA(c[f],p,i)}return h}function TS(n,e=[],t=[],i="",r=!1){let o=(c,h,f=r,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;$e(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let _=mi([i,g.relativePath]),y=t.concat(g);c.children&&c.children.length>0&&($e(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),TS(c.children,e,y,_,f)),!(c.path==null&&!c.index)&&e.push({path:_,score:wA(_,c.index),routesMeta:y})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of CS(c.path))o(c,h,!0,f)}),e}function CS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=CS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function vA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:AA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var bA=/^:[\w-]+$/,xA=3,SA=2,EA=1,TA=10,CA=-2,Wb=n=>n==="*";function wA(n,e){let t=n.split("/"),i=t.length;return t.some(Wb)&&(i+=CA),e&&(i+=SA),t.filter(r=>!Wb(r)).reduce((r,o)=>r+(bA.test(o)?xA:o===""?EA:TA),i)}function AA(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function RA(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Mu({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),y=f.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=Mu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:mi([o,_.pathname]),pathnameBase:IA(mi([o,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(o=mi([o,_.pathnameBase]))}return c}function Mu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=MA(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:_},y)=>{if(g==="*"){let E=h[y]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=h[y];return _&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function MA(n,e=!1,t=!0){_n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function OA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NA=n=>wS.test(n);function kA(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?yr(n):n,o;if(t)if(NA(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),_n(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=Yb(t.substring(1),"/"):o=Yb(t,e)}else o=e;return{pathname:o,search:LA(i),hash:zA(r)}}function Yb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function np(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hm(n){let e=DA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function fm(n,e,t,i=!1){let r;typeof n=="string"?r=yr(n):(r={...n},$e(!r.pathname||!r.pathname.includes("?"),np("?","pathname","search",r)),$e(!r.pathname||!r.pathname.includes("#"),np("#","pathname","hash",r)),$e(!r.search||!r.search.includes("#"),np("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),_-=1;r.pathname=y.join("/")}h=_>=0?e[_]:"/"}let f=kA(r,h),p=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var mi=n=>n.join("/").replace(/\/\/+/g,"/"),IA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,PA=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function jA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function BA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var AS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RS(n,e){let t=n;if(typeof t!="string"||!wS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(AS)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=yi(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:r=!0}catch{_n(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MS=["POST","PUT","PATCH","DELETE"];new Set(MS);var UA=["GET",...MS];new Set(UA);var vr=N.createContext(null);vr.displayName="DataRouter";var rh=N.createContext(null);rh.displayName="DataRouterState";var HA=N.createContext(!1),OS=N.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var FA=N.createContext(new Map);FA.displayName="Fetchers";var VA=N.createContext(null);VA.displayName="Await";var tn=N.createContext(null);tn.displayName="Navigation";var bl=N.createContext(null);bl.displayName="Location";var Vn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var dm=N.createContext(null);dm.displayName="RouteError";var NS="REACT_ROUTER_ERROR",qA="REDIRECT",GA="ROUTE_ERROR_RESPONSE";function WA(n){if(n.startsWith(`${NS}:${qA}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function YA(n){if(n.startsWith(`${NS}:${GA}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new PA(e.status,e.statusText,e.data)}catch{}}function KA(n,{relative:e}={}){$e(br(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=N.useContext(tn),{hash:r,pathname:o,search:c}=xl(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:mi([t,o])),i.createHref({pathname:h,search:c,hash:r})}function br(){return N.useContext(bl)!=null}function Si(){return $e(br(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(bl).location}var kS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(n){N.useContext(tn).static||N.useLayoutEffect(n)}function pm(){let{isDataRoute:n}=N.useContext(Vn);return n?oR():QA()}function QA(){$e(br(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(vr),{basename:e,navigator:t}=N.useContext(tn),{matches:i}=N.useContext(Vn),{pathname:r}=Si(),o=JSON.stringify(hm(i)),c=N.useRef(!1);return DS(()=>{c.current=!0}),N.useCallback((f,p={})=>{if(_n(c.current,kS),!c.current)return;if(typeof f=="number"){t.go(f);return}let g=fm(f,JSON.parse(o),r,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:mi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,r,n])}N.createContext(null);function xl(n,{relative:e}={}){let{matches:t}=N.useContext(Vn),{pathname:i}=Si(),r=JSON.stringify(hm(t));return N.useMemo(()=>fm(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function XA(n,e){return IS(n,e)}function IS(n,e,t,i,r){$e(br(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(tn),{matches:c}=N.useContext(Vn),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let L=_&&_.path||"";zS(p,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let y=Si(),x;if(e){let L=typeof e=="string"?yr(e):e;$e(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),x=L}else x=y;let E=x.pathname||"/",T=E;if(g!=="/"){let L=g.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let w=ES(n,{pathname:T});_n(_||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),_n(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=tR(w&&w.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:mi([g,o.encodeLocation?o.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:mi([g,o.encodeLocation?o.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,t,i,r);return e&&M?N.createElement(bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function $A(){let n=rR(),e=jA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:r},t):null,c)}var ZA=N.createElement($A,null),LS=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=YA(n.digest);t&&(n=t)}let e=n!==void 0?N.createElement(Vn.Provider,{value:this.props.routeContext},N.createElement(dm.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?N.createElement(JA,{error:n},e):e}};LS.contextType=HA;var ip=new WeakMap;function JA({children:n,error:e}){let{basename:t}=N.useContext(tn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=WA(e.digest);if(i){let r=ip.get(e);if(r)throw r;let o=RS(i.location,t);if(AS&&!ip.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw ip.set(e,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function eR({routeContext:n,match:e,children:t}){let i=N.useContext(vr);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Vn.Provider,{value:n},t)}function tR(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let g=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);$e(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=g),_.route.id){let{loaderData:y,errors:x}=t,E=_.route.loader&&!y.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||E){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let p=t&&i?(g,_)=>{i(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:BA(t.matches),errorInfo:_})}:void 0;return o.reduceRight((g,_,y)=>{let x,E=!1,T=null,w=null;t&&(x=c&&_.route.id?c[_.route.id]:void 0,T=_.route.errorElement||ZA,h&&(f<0&&y===0?(zS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):f===y&&(E=!0,w=_.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,y+1)),L=()=>{let B;return x?B=T:E?B=w:_.route.Component?B=N.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=g,N.createElement(eR,{match:_,routeContext:{outlet:g,matches:M,isDataRoute:t!=null},children:B})};return t&&(_.route.ErrorBoundary||_.route.errorElement||y===0)?N.createElement(LS,{location:t.location,revalidation:t.revalidation,component:T,error:x,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):L()},null)}function mm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nR(n){let e=N.useContext(vr);return $e(e,mm(n)),e}function iR(n){let e=N.useContext(rh);return $e(e,mm(n)),e}function sR(n){let e=N.useContext(Vn);return $e(e,mm(n)),e}function gm(n){let e=sR(n),t=e.matches[e.matches.length-1];return $e(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aR(){return gm("useRouteId")}function rR(){let n=N.useContext(dm),e=iR("useRouteError"),t=gm("useRouteError");return n!==void 0?n:e.errors?.[t]}function oR(){let{router:n}=nR("useNavigate"),e=gm("useNavigate"),t=N.useRef(!1);return DS(()=>{t.current=!0}),N.useCallback(async(r,o={})=>{_n(t.current,kS),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var Kb={};function zS(n,e,t){!e&&!Kb[n]&&(Kb[n]=!0,_n(!1,t))}N.memo(lR);function lR({routes:n,future:e,state:t,onError:i}){return IS(n,void 0,t,i,e)}function cR({to:n,replace:e,state:t,relative:i}){$e(br(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=N.useContext(tn);_n(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=N.useContext(Vn),{pathname:c}=Si(),h=pm(),f=fm(n,hm(o),c,i==="path"),p=JSON.stringify(f);return N.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:i})},[h,p,i,e,t]),null}function Vs(n){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){$e(!br(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[h,r,o,c]);typeof t=="string"&&(t=yr(t));let{pathname:p="/",search:g="",hash:_="",state:y=null,key:x="default"}=t,E=N.useMemo(()=>{let T=yi(p,h);return T==null?null:{location:{pathname:T,search:g,hash:_,state:y,key:x},navigationType:i}},[h,p,g,_,y,x,i]);return _n(E!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:N.createElement(tn.Provider,{value:f},N.createElement(bl.Provider,{children:e,value:E}))}function hR({children:n,location:e}){return XA(Ip(n),e)}function Ip(n,e=[]){let t=[];return N.Children.forEach(n,(i,r)=>{if(!N.isValidElement(i))return;let o=[...e,r];if(i.type===N.Fragment){t.push.apply(t,Ip(i.props.children,o));return}$e(i.type===Vs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ip(i.props.children,o)),t.push(c)}),t}var yu="get",vu="application/x-www-form-urlencoded";function oh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function fR(n){return oh(n)&&n.tagName.toLowerCase()==="button"}function dR(n){return oh(n)&&n.tagName.toLowerCase()==="form"}function pR(n){return oh(n)&&n.tagName.toLowerCase()==="input"}function mR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gR(n,e){return n.button===0&&(!e||e==="_self")&&!mR(n)}var eu=null;function _R(){if(eu===null)try{new FormData(document.createElement("form"),0),eu=!1}catch{eu=!0}return eu}var yR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sp(n){return n!=null&&!yR.has(n)?(_n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vu}"`),null):n}function vR(n,e){let t,i,r,o,c;if(dR(n)){let h=n.getAttribute("action");i=h?yi(h,e):null,t=n.getAttribute("method")||yu,r=sp(n.getAttribute("enctype"))||vu,o=new FormData(n)}else if(fR(n)||pR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?yi(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||yu,r=sp(n.getAttribute("formenctype"))||sp(h.getAttribute("enctype"))||vu,o=new FormData(h,n),!_R()){let{name:p,type:g,value:_}=n;if(g==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,_)}}else{if(oh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yu,i=null,r=vu,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _m(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function bR(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&yi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function xR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ER(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await xR(o,t);return c.links?c.links():[]}return[]}));return AR(i.flat(1).filter(SR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Qb(n,e,t,i,r,o){let c=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function TR(n,e,{includeHydrateFallback:t}={}){return CR(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function CR(n){return[...new Set(n)]}function wR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function AR(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(wR(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function PS(){let n=N.useContext(vr);return _m(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RR(){let n=N.useContext(rh);return _m(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ym=N.createContext(void 0);ym.displayName="FrameworkContext";function jS(){let n=N.useContext(ym);return _m(n,"You must render this element inside a <HydratedRouter> element"),n}function MR(n,e){let t=N.useContext(ym),[i,r]=N.useState(!1),[o,c]=N.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,y=N.useRef(null);N.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let T=M=>{M.forEach(L=>{c(L.isIntersecting)})},w=new IntersectionObserver(T,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[n]),N.useEffect(()=>{if(i){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[i]);let x=()=>{r(!0)},E=()=>{r(!1),c(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:Mo(h,x),onBlur:Mo(f,E),onMouseEnter:Mo(p,x),onMouseLeave:Mo(g,E),onTouchStart:Mo(_,x)}]:[!1,y,{}]}function Mo(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function OR({page:n,...e}){let{router:t}=PS(),i=N.useMemo(()=>ES(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?N.createElement(kR,{page:n,matches:i,...e}):null}function NR(n){let{manifest:e,routeModules:t}=jS(),[i,r]=N.useState([]);return N.useEffect(()=>{let o=!1;return ER(n,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[n,e,t]),i}function kR({page:n,matches:e,...t}){let i=Si(),{manifest:r,routeModules:o}=jS(),{basename:c}=PS(),{loaderData:h,matches:f}=RR(),p=N.useMemo(()=>Qb(n,e,f,r,i,"data"),[n,e,f,r,i]),g=N.useMemo(()=>Qb(n,e,f,r,i,"assets"),[n,e,f,r,i]),_=N.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let E=new Set,T=!1;if(e.forEach(M=>{let L=r.routes[M.route.id];!L||!L.hasLoader||(!p.some(B=>B.route.id===M.route.id)&&M.route.id in h&&o[M.route.id]?.shouldRevalidate||L.hasClientLoader?T=!0:E.add(M.route.id))}),E.size===0)return[];let w=bR(n,c,"data");return T&&E.size>0&&w.searchParams.set("_routes",e.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[w.pathname+w.search]},[c,h,i,r,p,e,n,o]),y=N.useMemo(()=>TR(g,r),[g,r]),x=NR(g);return N.createElement(N.Fragment,null,_.map(E=>N.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>N.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),x.map(({key:E,link:T})=>N.createElement("link",{key:E,nonce:t.nonce,...T})))}function DR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var IR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IR&&(window.__reactRouterVersion="7.11.0")}catch{}function LR({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=N.useRef();r.current==null&&(r.current=pA({window:i,v5Compat:!0}));let o=r.current,[c,h]=N.useState({action:o.action,location:o.location}),f=N.useCallback(p=>{t===!1?h(p):N.startTransition(()=>h(p))},[t]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.createElement(uR,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ns=N.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:y,...x},E){let{basename:T,unstable_useTransitions:w}=N.useContext(tn),M=typeof p=="string"&&BS.test(p),L=RS(p,T);p=L.to;let B=KA(p,{relative:r}),[K,q,X]=MR(i,x),V=BR(p,{replace:c,state:h,target:f,preventScrollReset:g,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:y,unstable_useTransitions:w});function $(ce){e&&e(ce),ce.defaultPrevented||V(ce)}let G=N.createElement("a",{...x,...X,href:L.absoluteURL||B,onClick:L.isExternal||o?e:$,ref:DR(E,q),target:f,"data-discover":!M&&t==="render"?"true":void 0});return K&&!M?N.createElement(N.Fragment,null,G,N.createElement(OR,{page:B})):G});ns.displayName="Link";var zR=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...p},g){let _=xl(c,{relative:p.relative}),y=Si(),x=N.useContext(rh),{navigator:E,basename:T}=N.useContext(tn),w=x!=null&&qR(_)&&h===!0,M=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,L=y.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(L=L.toLowerCase(),B=B?B.toLowerCase():null,M=M.toLowerCase()),B&&T&&(B=yi(B,T)||B);const K=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let q=L===M||!r&&L.startsWith(M)&&L.charAt(K)==="/",X=B!=null&&(B===M||!r&&B.startsWith(M)&&B.charAt(M.length)==="/"),V={isActive:q,isPending:X,isTransitioning:w},$=q?e:void 0,G;typeof i=="function"?G=i(V):G=[i,q?"active":null,X?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ce=typeof o=="function"?o(V):o;return N.createElement(ns,{...p,"aria-current":$,className:G,ref:g,style:ce,to:c,viewTransition:h},typeof f=="function"?f(V):f)});zR.displayName="NavLink";var PR=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:c=yu,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:y,...x},E)=>{let{unstable_useTransitions:T}=N.useContext(tn),w=FR(),M=VR(h,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&BS.test(h),K=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let X=q.nativeEvent.submitter,V=X?.getAttribute("formmethod")||c,$=()=>w(X||q.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:r,state:o,relative:p,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:y});T&&t!==!1?N.startTransition(()=>$()):$()};return N.createElement("form",{ref:E,method:L,action:M,onSubmit:i?f:K,...x,"data-discover":!B&&n==="render"?"true":void 0})});PR.displayName="Form";function jR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(n){let e=N.useContext(vr);return $e(e,jR(n)),e}function BR(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=pm(),g=Si(),_=xl(n,{relative:o});return N.useCallback(y=>{if(gR(y,e)){y.preventDefault();let x=t!==void 0?t:il(g)===il(_),E=()=>p(n,{replace:x,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});f?N.startTransition(()=>E()):E()}},[g,p,_,t,i,e,n,r,o,c,h,f])}var UR=0,HR=()=>`__${String(++UR)}__`;function FR(){let{router:n}=US("useSubmit"),{basename:e}=N.useContext(tn),t=aR(),i=n.fetch,r=n.navigate;return N.useCallback(async(o,c={})=>{let{action:h,method:f,encType:p,formData:g,body:_}=vR(o,e);if(c.navigate===!1){let y=c.fetcherKey||HR();await i(y,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:_,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await r(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:_,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,r,e,t])}function VR(n,{relative:e}={}){let{basename:t}=N.useContext(tn),i=N.useContext(Vn);$e(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...xl(n||".",{relative:e})},c=Si();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:mi([t,o.pathname])),il(o)}function qR(n,{relative:e}={}){let t=N.useContext(OS);$e(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=US("useViewTransitionState"),r=xl(n,{relative:e});if(!t.isTransitioning)return!1;let o=yi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=yi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Mu(r.pathname,c)!=null||Mu(r.pathname,o)!=null}function GR(){const n=Si(),e=t=>n.pathname===t?"nav-link active":"nav-link";return b.jsxs("nav",{className:"navbar",children:[b.jsx(ns,{to:"/",className:e("/"),children:"Bestellen"}),b.jsx(ns,{to:"/maschine",className:e("/maschine"),children:"Maschine"}),b.jsx(ns,{to:"/bohnen",className:e("/bohnen"),children:"Bohnen"}),b.jsx(ns,{to:"/glaeser",className:e("/glaeser"),children:"Glser"})]})}const WR={Kaffee:3.5,"Caf Crema":3.9,"Latte Macchiato":4.5,Milchkaffee:4.2,Cappuccino:4.2,Espresso:2.9,"Espresso Lungo":3.2,Americano:3.5,"Flat White":4.5,"Iced Matcha Latte":5.5,"Iced Protein Matcha":5.9,"Holy Eistee":4.9,"Iced Coffee":3.9,"Iced Latte":4.5};function YR({isOpen:n,onClose:e,orderData:t}){if(!n||!t)return null;const r=(WR[t.coffee]||4).toFixed(2)+"",o=["archived","done","completed"].includes(t.status),c=new Date(t.timestamp).getTime().toString().slice(-4);return b.jsxs("div",{className:"receipt-modal",style:{display:"flex"},children:[" ",b.jsxs("div",{className:"receipt-paper",children:[b.jsxs("div",{className:"receipt-header",children:[b.jsx("span",{className:"receipt-logo",children:""}),b.jsx("div",{className:"receipt-title",children:"Timo's Bar"}),b.jsx("div",{className:"receipt-date",children:t.dateString})]}),o&&b.jsx("div",{className:"receipt-stamp visible",children:"ERLEDIGT"}),b.jsxs("div",{className:"receipt-body",children:[b.jsxs("div",{className:"receipt-row",children:[b.jsx("span",{children:t.coffee}),b.jsx("span",{children:r})]}),b.jsx("div",{id:"receipt-extras-container",children:t.details&&t.details.map((h,f)=>b.jsxs("div",{className:"receipt-row",style:{fontSize:"0.85rem",color:"#666"},children:[b.jsxs("span",{children:["+ ",h]}),b.jsx("span",{children:"0.00"})]},f))}),b.jsxs("div",{className:"receipt-row bold",children:[b.jsx("span",{children:"TOTAL"}),b.jsx("span",{children:"0.00"})]}),b.jsxs("div",{className:"receipt-row",style:{fontSize:"0.8rem",color:"#888",borderTop:"1px dashed #ccc",marginTop:"5px",paddingTop:"5px"},children:[b.jsx("span",{children:"Gespart (vs Starbucks)"}),b.jsxs("span",{children:["-",r]})]})]}),b.jsxs("div",{className:"receipt-footer",children:["Bestellung #",c," erfolgreich an die Bar gesendet.",b.jsx("br",{}),b.jsx("br",{}),"Made with ",b.jsx("div",{className:"barcode",style:{fontFamily:"'Libre Barcode 39 Text', cursive"},children:"TIMOS-COFFEE"})]}),b.jsx("button",{className:"receipt-btn",onClick:e,children:"Alles klar!"})]})]})}const KR=[{name:"Kaffee",configKey:"Kaffee",strength:3,desc:"Der zeitlose Klassiker."},{name:"Caf Crema",configKey:"Caf Crema",strength:3,desc:"Langer Genuss mit Crema-Krone."},{name:"Espresso Lungo",configKey:"Espresso Lungo",strength:4,desc:"Verlngertes Aromawunder."},{name:"Espresso",configKey:"Espresso",strength:5,desc:"Der kleine Starke."},{name:"Latte Macchiato",configKey:"Latte Macchiato",strength:2,desc:"Viel heie Milch & Espresso mit Milchschaum."},{name:"Milchkaffee",configKey:"Milchkaffee",strength:2,desc:"Halb Kaffee, halb Milch."},{name:"Cappuccino",configKey:"Cappuccino",strength:3,desc:"Klassiker mit Milchschaumhaube."},{name:"Americano",configKey:"Americano",strength:3,desc:"Espresso mit Wasser verlngert."},{name:"Iced Matcha Latte",configKey:"Matcha",strength:0,desc:"Grner Tee auf Eis & Milch."},{name:"Iced Protein Matcha",configKey:"Matcha",strength:0,desc:"Matcha Latte mit Protein-Kick."},{name:"Holy Eistee",configKey:"Holy",strength:0,desc:"Fruchtig & zuckerfrei. Der Energy-Kick."},{name:"Flat White",configKey:"default",strength:4,desc:"Doppelter Ristretto mit Mikroschaum."},{name:"Iced Coffee",configKey:"default",strength:3,desc:"Frisch gebrht auf Eis."},{name:"Iced Latte",configKey:"default",strength:2,desc:"Espresso auf kalter Milch & Eis."},{name:"Milchschaum",configKey:"default",strength:0,desc:"Purer warmer Milchschaum."},{name:"Heies Wasser",configKey:"default",strength:0,desc:"Fr Tee."},{name:"To-Go-Becher",configKey:"default",strength:0,desc:"Fr unterwegs."}],Xb={Kaffee:{stufen:!0,ml_kaffee:[90,120,150,180,210,220],cycles:!0},"Caf Crema":{stufen:!0,ml_kaffee:[90,120,150,180,210,220],cycles:!0},"Latte Macchiato":{stufen:!0,ml_kaffee:[20,30,40,60,80],ml_milch:[80,140,200,270,340],cycles:!1},Cappuccino:{stufen:!0,ml_kaffee:[20,30,40,60,80],ml_milch:[90,120,150,180,210],cycles:!1},Americano:{stufen:!0,ml_kaffee:[80,100,120,160,200],cycles:!0},"Espresso Lungo":{stufen:!0,ml_kaffee:[80,100,120,160,200],cycles:!0},Espresso:{stufen:!0,ml_kaffee:[30,40,50],cycles:!0},Milchkaffee:{stufen:!0,ml_kaffee:[50,70,90,120,150],ml_milch:[50,70,90,120,150],cycles:!1},Matcha:{stufen:!1,ml_gesamt:[200,250,300,350,400,450,500],cycles:!1},Holy:{stufen:!1,ml_gesamt:[300,350,400,450,500,550,600,650,700],cycles:!1},default:{stufen:!1,cycles:!1}};function QR({isOpen:n,onClose:e,selectedCoffee:t,onSendOrder:i}){if(!n||!t)return null;const r=Xb[t.configKey]||Xb.default,[o,c]=N.useState(3),[h,f]=N.useState(r.ml_kaffee?r.ml_kaffee[0]:0),[p,g]=N.useState(r.ml_milch?r.ml_milch[0]:0),[_,y]=N.useState(r.ml_gesamt?r.ml_gesamt[0]:0),[x,E]=N.useState("1x"),[T,w]=N.useState("lemon"),[M,L]=N.useState({shot:!1,vanilla:!1,sweetener:!1,ice:!1}),[B,K]=N.useState("");N.useEffect(()=>{c(t.strength||3),f(r.ml_kaffee?r.ml_kaffee[0]:0),g(r.ml_milch?r.ml_milch[0]:0),y(r.ml_gesamt?r.ml_gesamt[0]:0),L({shot:!1,vanilla:!1,sweetener:!1,ice:!1})},[t]);const q=G=>{L(ce=>({...ce,[G]:!ce[G]}))},V={foam:"10%",espresso:"40%",milk:p>0?"40%":"0%",water:"0%"},$=()=>{const G={coffee:t.name,details:[],comment:B};r.stufen&&G.details.push(`Strke ${o}`),r.ml_kaffee&&G.details.push(`${h}ml Kaffee`),r.ml_milch&&G.details.push(`${p}ml Milch`),r.ml_gesamt&&G.details.push(`${_}ml`),t.name==="Holy Eistee"&&G.details.push(T),M.shot&&G.details.push("Extra Shot"),M.vanilla&&G.details.push("Vanille"),M.ice&&G.details.push("Mit Eis"),i(G)};return b.jsx("div",{className:"modal-overlay show",style:{display:"flex"},children:b.jsxs("div",{className:"modal-box",children:[b.jsx("h2",{className:"modal-title",children:t.name}),b.jsx("div",{className:"coffee-visualizer",children:b.jsxs("div",{className:`glass-cup ${t.name.includes("Iced")||t.name.includes("Holy")?"":"hot"}`,children:[b.jsxs("div",{className:"steam-container",children:[b.jsx("div",{className:"steam s1"}),b.jsx("div",{className:"steam s2"})]}),b.jsx("div",{id:"layer-foam",className:"liquid foam",style:{height:V.foam}}),b.jsx("div",{id:"layer-espresso",className:"liquid espresso",style:{height:V.espresso}}),b.jsx("div",{id:"layer-milk",className:"liquid milk",style:{height:V.milk}})]})}),b.jsxs("div",{id:"custom-options",children:[r.stufen&&b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{className:"form-label",children:["Intensitt: ",b.jsx("span",{className:"range-value",children:o})]}),b.jsx("input",{type:"range",min:"1",max:"6",value:o,onChange:G=>c(G.target.value)})]}),t.name==="Holy Eistee"&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Sorte"}),b.jsxs("select",{className:"modal-select",value:T,onChange:G=>w(G.target.value),children:[b.jsx("option",{value:"lemon",children:"Lemon x Honey "}),b.jsx("option",{value:"lime",children:"Lime x Matcha "}),b.jsx("option",{value:"mango",children:"Mango x Passion "})]})]}),r.ml_kaffee&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Kaffeemenge"}),b.jsx("select",{className:"modal-select",value:h,onChange:G=>f(G.target.value),children:r.ml_kaffee.map(G=>b.jsxs("option",{value:G,children:[G," ml"]},G))})]}),r.ml_milch&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Milchmenge"}),b.jsx("select",{className:"modal-select",value:p,onChange:G=>g(G.target.value),children:r.ml_milch.map(G=>b.jsxs("option",{value:G,children:[G," ml"]},G))})]}),r.ml_gesamt&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Gre"}),b.jsx("select",{className:"modal-select",value:_,onChange:G=>y(G.target.value),children:r.ml_gesamt.map(G=>b.jsxs("option",{value:G,children:[G," ml"]},G))})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Kommentar"}),b.jsx("input",{type:"text",className:"modal-input",placeholder:"z.B. Ohne Keks...",value:B,onChange:G=>K(G.target.value)})]}),b.jsxs("div",{className:"form-group",style:{marginTop:"20px",paddingTop:"10px",borderTop:"1px solid #d4b483"},children:[b.jsx("label",{className:"form-label",children:"Extras"}),b.jsxs("div",{className:"checkbox-group",children:[b.jsxs("label",{className:"checkbox-item",children:[b.jsx("input",{type:"checkbox",checked:M.vanilla,onChange:()=>q("vanilla")})," Vanille"]}),b.jsxs("label",{className:"checkbox-item",children:[b.jsx("input",{type:"checkbox",checked:M.ice,onChange:()=>q("ice")})," Eiswrfel"]}),t.name!=="Holy Eistee"&&b.jsxs("label",{className:"checkbox-item",children:[b.jsx("input",{type:"checkbox",checked:M.shot,onChange:()=>q("shot")})," Extra Shot"]})]})]})]}),b.jsx("button",{className:"modal-btn",onClick:$,children:"Bestellen"}),b.jsx("div",{style:{marginTop:"15px",fontSize:"0.8rem",color:"#a09085",cursor:"pointer"},onClick:e,children:"Abbrechen"})]})})}const XR=()=>{};var $b={};const HS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const Y=function(n,e){if(!n)throw xr(e)},xr=function(n){return new Error("Firebase Database ("+HS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};const FS=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},$R=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],c=n[t++],h=n[t++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},vm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,p=f?n[r+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let y=(h&15)<<2|p>>6,x=p&63;f||(x=64,c||(y=64)),i.push(t[g],t[_],t[y],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$R(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const p=r<n.length?t[n.charAt(r)]:64;++r;const _=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||h==null||p==null||_==null)throw new ZR;const y=o<<2|h>>4;if(i.push(y),p!==64){const x=h<<4&240|p>>2;if(i.push(x),_!==64){const E=p<<6&192|_;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(n){const e=FS(n);return vm.encodeByteArray(e,!0)},Ou=function(n){return VS(n).replace(/\./g,"")},Nu=function(n){try{return vm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JR(n){return qS(void 0,n)}function qS(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!eM(t)||(n[t]=qS(n[t],e[t]));return n}function eM(n){return n!=="__proto__"}function tM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nM=()=>tM().__FIREBASE_DEFAULTS__,iM=()=>{if(typeof process>"u"||typeof $b>"u")return;const n=$b.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Nu(n[1]);return e&&JSON.parse(e)},bm=()=>{try{return XR()||nM()||iM()||sM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GS=n=>bm()?.emulatorHosts?.[n],aM=n=>{const e=GS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},WS=()=>bm()?.config,YS=n=>bm()?.[`_${n}`];class Sr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function Er(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KS(n){return(await fetch(n,{credentials:"include"})).ok}function rM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ou(JSON.stringify(t)),Ou(JSON.stringify(c)),""].join(".")}const Wo={};function oM(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wo))Wo[e]?n.emulator.push(e):n.prod.push(e);return n}function lM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Zb=!1;function QS(n,e){if(typeof window>"u"||typeof document>"u"||!Er(window.location.host)||Wo[n]===e||Wo[n]||Zb)return;Wo[n]=e;function t(y){return`__firebase__banner__${y}`}const i="__firebase__banner",o=oM().prod.length>0;function c(){const y=document.getElementById(i);y&&y.remove()}function h(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function p(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Zb=!0,c()},y}function g(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function _(){const y=lM(i),x=t("text"),E=document.getElementById(x)||document.createElement("span"),T=t("learnmore"),w=document.getElementById(T)||document.createElement("a"),M=t("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const B=y.element;h(B),g(w,T);const K=p();f(L,M),B.append(L,E,w,K),document.body.appendChild(B)}o?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function cM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hM(){const n=kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fM(){return HS.NODE_ADMIN===!0}function dM(){try{return typeof indexedDB=="object"}catch{return!1}}function pM(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}const mM="FirebaseError";class ys extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=mM,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?gM(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new ys(r,h,i)}}function gM(n,e){return n.replace(_M,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const _M=/\{\$([^}]+)}/g;function sl(n){return JSON.parse(n)}function gt(n){return JSON.stringify(n)}const $S=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=sl(Nu(o[0])||""),t=sl(Nu(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},yM=function(n){const e=$S(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},vM=function(n){const e=$S(n).claims;return typeof e=="object"&&e.admin===!0};function Nn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function $s(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Lp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ku(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function Zs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],c=e[r];if(Jb(o)&&Jb(c)){if(!Zs(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Jb(n){return n!==null&&typeof n=="object"}function Tr(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ho(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Fo(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class bM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let _=0;_<16;_++)i[_]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let _=16;_<80;_++){const y=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(y<<1|y>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],p,g;for(let _=0;_<80;_++){_<40?_<20?(p=h^o&(c^h),g=1518500249):(p=o^c^h,g=1859775393):_<60?(p=o&c|h&(o|c),g=2400959708):(p=o^c^h,g=3395469782);const y=(r<<5|r>>>27)+p+f+g+i[_]&4294967295;f=h,h=c,c=(o<<30|o>>>2)&4294967295,o=r,r=y}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let c=this.inbuf_;for(;r<t;){if(c===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(o[c]=e.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<t;)if(o[c]=e[r],++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function xM(n,e){const t=new SM(n,e);return t.subscribe.bind(t)}class SM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");EM(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=ap),r.error===void 0&&(r.error=ap),r.complete===void 0&&(r.complete=ap);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ap(){}function lh(n,e){return`${n} failed: ${e} argument `}const TM=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,Y(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;r=65536+(o<<10)+c}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},ch=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};function _t(n){return n&&n._delegate?n._delegate:n}class Js{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qs="[DEFAULT]";class CM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Sr;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AM(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wM(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wM(n){return n===qs?void 0:n}function AM(n){return n.instantiationMode==="EAGER"}class RM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const MM={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},OM=Ue.INFO,NM={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},kM=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=NM[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=OM,this._logHandler=kM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const DM=(n,e)=>e.some(t=>n instanceof t);let e0,t0;function IM(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LM(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZS=new WeakMap,zp=new WeakMap,JS=new WeakMap,rp=new WeakMap,Em=new WeakMap;function zM(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(os(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ZS.set(t,n)}).catch(()=>{}),Em.set(e,n),e}function PM(n){if(zp.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});zp.set(n,e)}let Pp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jM(n){Pp=n(Pp)}function BM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(op(this),e,...t);return JS.set(i,e.sort?e.sort():[e]),os(i)}:LM().includes(n)?function(...e){return n.apply(op(this),e),os(ZS.get(this))}:function(...e){return os(n.apply(op(this),e))}}function UM(n){return typeof n=="function"?BM(n):(n instanceof IDBTransaction&&PM(n),DM(n,IM())?new Proxy(n,Pp):n)}function os(n){if(n instanceof IDBRequest)return zM(n);if(rp.has(n))return rp.get(n);const e=UM(n);return e!==n&&(rp.set(n,e),Em.set(e,n)),e}const op=n=>Em.get(n);function HM(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,e),h=os(c);return i&&c.addEventListener("upgradeneeded",f=>{i(os(c.result),f.oldVersion,f.newVersion,os(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const FM=["get","getKey","getAll","getAllKeys","count"],VM=["put","add","delete","clear"],lp=new Map;function n0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=VM.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||FM.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),r&&f.done]))[0]};return lp.set(e,o),o}jM(n=>({...n,get:(e,t,i)=>n0(e,t)||n.get(e,t,i),has:(e,t)=>!!n0(e,t)||n.has(e,t)}));class qM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GM(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function GM(n){return n.getComponent()?.type==="VERSION"}const jp="@firebase/app",i0="0.14.6";const vi=new Sm("@firebase/app"),WM="@firebase/app-compat",YM="@firebase/analytics-compat",KM="@firebase/analytics",QM="@firebase/app-check-compat",XM="@firebase/app-check",$M="@firebase/auth",ZM="@firebase/auth-compat",JM="@firebase/database",eO="@firebase/data-connect",tO="@firebase/database-compat",nO="@firebase/functions",iO="@firebase/functions-compat",sO="@firebase/installations",aO="@firebase/installations-compat",rO="@firebase/messaging",oO="@firebase/messaging-compat",lO="@firebase/performance",cO="@firebase/performance-compat",uO="@firebase/remote-config",hO="@firebase/remote-config-compat",fO="@firebase/storage",dO="@firebase/storage-compat",pO="@firebase/firestore",mO="@firebase/ai",gO="@firebase/firestore-compat",_O="firebase",yO="12.6.0";const Bp="[DEFAULT]",vO={[jp]:"fire-core",[WM]:"fire-core-compat",[KM]:"fire-analytics",[YM]:"fire-analytics-compat",[XM]:"fire-app-check",[QM]:"fire-app-check-compat",[$M]:"fire-auth",[ZM]:"fire-auth-compat",[JM]:"fire-rtdb",[eO]:"fire-data-connect",[tO]:"fire-rtdb-compat",[nO]:"fire-fn",[iO]:"fire-fn-compat",[sO]:"fire-iid",[aO]:"fire-iid-compat",[rO]:"fire-fcm",[oO]:"fire-fcm-compat",[lO]:"fire-perf",[cO]:"fire-perf-compat",[uO]:"fire-rc",[hO]:"fire-rc-compat",[fO]:"fire-gcs",[dO]:"fire-gcs-compat",[pO]:"fire-fst",[gO]:"fire-fst-compat",[mO]:"fire-vertex","fire-js":"fire-js",[_O]:"fire-js-all"};const Du=new Map,bO=new Map,Up=new Map;function s0(n,e){try{n.container.addComponent(e)}catch(t){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lr(n){const e=n.name;if(Up.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,n);for(const t of Du.values())s0(t,n);for(const t of bO.values())s0(t,n);return!0}function Tm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pn(n){return n==null?!1:n.settings!==void 0}const xO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Sl("app","Firebase",xO);class SO{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const Cr=yO;function eE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Bp,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw ls.create("bad-app-name",{appName:String(r)});if(t||(t=WS()),!t)throw ls.create("no-options");const o=Du.get(r);if(o){if(Zs(t,o.options)&&Zs(i,o.config))return o;throw ls.create("duplicate-app",{appName:r})}const c=new RM(r);for(const f of Up.values())c.addComponent(f);const h=new SO(t,i,c);return Du.set(r,h),h}function tE(n=Bp){const e=Du.get(n);if(!e&&n===Bp&&WS())return eE();if(!e)throw ls.create("no-app",{appName:n});return e}function cs(n,e,t){let i=vO[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${e}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(c.join(" "));return}lr(new Js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const EO="firebase-heartbeat-database",TO=1,al="firebase-heartbeat-store";let cp=null;function nE(){return cp||(cp=HM(EO,TO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(al)}catch(t){console.warn(t)}}}}).catch(n=>{throw ls.create("idb-open",{originalErrorMessage:n.message})})),cp}async function CO(n){try{const t=(await nE()).transaction(al),i=await t.objectStore(al).get(iE(n));return await t.done,i}catch(e){if(e instanceof ys)vi.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e?.message});vi.warn(t.message)}}}async function a0(n,e){try{const i=(await nE()).transaction(al,"readwrite");await i.objectStore(al).put(e,iE(n)),await i.done}catch(t){if(t instanceof ys)vi.warn(t.message);else{const i=ls.create("idb-set",{originalErrorMessage:t?.message});vi.warn(i.message)}}}function iE(n){return`${n.name}!${n.options.appId}`}const wO=1024,AO=30;class RO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OO(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=r0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>AO){const r=NO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r0(),{heartbeatsToSend:t,unsentEntries:i}=MO(this._heartbeatsCache.heartbeats),r=Ou(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return vi.warn(e),""}}}function r0(){return new Date().toISOString().substring(0,10)}function MO(n,e=wO){const t=[];let i=n.slice();for(const r of n){const o=t.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),o0(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),o0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class OO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dM()?pM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o0(n){return Ou(JSON.stringify({version:2,heartbeats:n})).length}function NO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function kO(n){lr(new Js("platform-logger",e=>new qM(e),"PRIVATE")),lr(new Js("heartbeat",e=>new RO(e),"PRIVATE")),cs(jp,i0,n),cs(jp,i0,"esm2020"),cs("fire-js","")}kO("");var DO="firebase",IO="12.7.0";cs(DO,IO,"app");var l0={};const c0="@firebase/database",u0="1.1.0";let sE="";function LO(n){sE=n}class zO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:sl(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class PO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Nn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const aE=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zO(e)}}catch{}return new PO},Ys=aE("localStorage"),jO=aE("sessionStorage");const tr=new Sm("@firebase/database"),rE=(function(){let n=1;return function(){return n++}})(),oE=function(n){const e=TM(n),t=new bM;t.update(e);const i=t.digest();return vm.encodeByteArray(i)},El=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=El.apply(null,i):typeof i=="object"?e+=gt(i):e+=i,e+=" "}return e};let Yo=null,h0=!0;const BO=function(n,e){Y(!0,"Can't turn on custom loggers persistently."),tr.logLevel=Ue.VERBOSE,Yo=tr.log.bind(tr)},Et=function(...n){if(h0===!0&&(h0=!1,Yo===null&&jO.get("logging_enabled")===!0&&BO()),Yo){const e=El.apply(null,n);Yo(e)}},Tl=function(n){return function(...e){Et(n,...e)}},Hp=function(...n){const e="FIREBASE INTERNAL ERROR: "+El(...n);tr.error(e)},bi=function(...n){const e=`FIREBASE FATAL ERROR: ${El(...n)}`;throw tr.error(e),new Error(e)},Nt=function(...n){const e="FIREBASE WARNING: "+El(...n);tr.warn(e)},UO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Cm=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},HO=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ea="[MIN_NAME]",ps="[MAX_NAME]",oa=function(n,e){if(n===e)return 0;if(n===ea||e===ps)return-1;if(e===ea||n===ps)return 1;{const t=f0(n),i=f0(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},FO=function(n,e){return n===e?0:n<e?-1:1},Oo=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+gt(e))},wm=function(n){if(typeof n!="object"||n===null)return gt(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=gt(e[i]),t+=":",t+=wm(n[e[i]]);return t+="}",t},lE=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function Tt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const cE=function(n){Y(!Cm(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,o,c,h,f;n===0?(o=0,c=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,t-h)-Math.pow(2,t))):(o=0,c=Math.round(n/Math.pow(2,1-i-t))));const p=[];for(f=t;f;f-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(r?1:0),p.reverse();const g=p.join("");let _="";for(f=0;f<64;f+=8){let y=parseInt(g.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),_=_+y}return _.toLowerCase()},VO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},qO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function GO(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const WO=new RegExp("^-?(0*)\\d{1,10}$"),YO=-2147483648,KO=2147483647,f0=function(n){if(WO.test(n)){const e=Number(n);if(e>=YO&&e<=KO)return e}return null},wr=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Nt("Exception was thrown by user callback.",t),e},Math.floor(0))}},QO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ko=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};class XO{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,pn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class $O{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(e)}}class bu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bu.OWNER="owner";const Am="5",uE="v",hE="s",fE="r",dE="f",pE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mE="ls",gE="p",Fp="ac",_E="websocket",yE="long_polling";class vE{constructor(e,t,i,r,o=!1,c="",h=!1,f=!1,p=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ys.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ys.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function ZO(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function bE(n,e,t){Y(typeof e=="string","typeof type must == string"),Y(typeof t=="object","typeof params must == object");let i;if(e===_E)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===yE)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ZO(n)&&(t.ns=n.namespace);const r=[];return Tt(t,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class JO{constructor(){this.counters_={}}incrementCounter(e,t=1){Nn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return JR(this.counters_)}}const up={},hp={};function Rm(n){const e=n.toString();return up[e]||(up[e]=new JO),up[e]}function eN(n,e){const t=n.toString();return hp[t]||(hp[t]=e()),hp[t]}class tN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&wr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const d0="start",nN="close",iN="pLPCommand",sN="pRTLPCB",xE="id",SE="pw",EE="ser",aN="cb",rN="seg",oN="ts",lN="d",cN="dframe",TE=1870,CE=30,uN=TE-CE,hN=25e3,fN=3e4;class Za{constructor(e,t,i,r,o,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tl(e),this.stats_=Rm(t),this.urlFn=f=>(this.appCheckToken&&(f[Fp]=this.appCheckToken),bE(t,yE,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new tN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fN)),HO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mm((...o)=>{const[c,h,f,p,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===d0)this.id=h,this.password=f;else if(c===nN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[d0]="t",i[EE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[aN]=this.scriptTagHolder.uniqueCallbackIdentifier),i[uE]=Am,this.transportSessionId&&(i[hE]=this.transportSessionId),this.lastSessionId&&(i[mE]=this.lastSessionId),this.applicationId&&(i[gE]=this.applicationId),this.appCheckToken&&(i[Fp]=this.appCheckToken),typeof location<"u"&&location.hostname&&pE.test(location.hostname)&&(i[fE]=dE);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Za.forceAllow_=!0}static forceDisallow(){Za.forceDisallow_=!0}static isAvailable(){return Za.forceAllow_?!0:!Za.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VO()&&!qO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=gt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=VS(t),r=lE(i,uN);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[cN]="t",i[xE]=e,i[SE]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=gt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Mm{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rE(),window[iN+this.uniqueCallbackIdentifier]=e,window[sN+this.uniqueCallbackIdentifier]=t,this.myIFrame=Mm.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Et("frame writing exception"),h.stack&&Et(h.stack),Et(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Et("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xE]=this.myID,e[SE]=this.myPW,e[EE]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+CE+i.length<=TE;){const c=this.pendingSegs.shift();i=i+"&"+rN+r+"="+c.seg+"&"+oN+r+"="+c.ts+"&"+lN+r+"="+c.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(hN)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const dN=16384,pN=45e3;let Iu=null;typeof MozWebSocket<"u"?Iu=MozWebSocket:typeof WebSocket<"u"&&(Iu=WebSocket);class Tn{constructor(e,t,i,r,o,c,h){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tl(this.connId),this.stats_=Rm(t),this.connURL=Tn.connectionURL_(t,c,h,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,o){const c={};return c[uE]=Am,typeof location<"u"&&location.hostname&&pE.test(location.hostname)&&(c[fE]=dE),t&&(c[hE]=t),i&&(c[mE]=i),r&&(c[Fp]=r),o&&(c[gE]=o),bE(e,_E,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ys.set("previous_websocket_failure",!0);try{let i;fM(),this.mySock=new Iu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Iu!==null&&!Tn.forceDisallow_}static previouslyFailed(){return Ys.isInMemoryStorage||Ys.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ys.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=sl(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=gt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=lE(t,dN);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pN))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Tn.responsesRequiredToBeHealthy=2;Tn.healthyTimeout=3e4;class rl{static get ALL_TRANSPORTS(){return[Za,Tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Tn&&Tn.isAvailable();let i=t&&!Tn.previouslyFailed();if(e.webSocketOnly&&(t||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Tn];else{const r=this.transports_=[];for(const o of rl.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);rl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rl.globalTransportInitialized_=!1;const mN=6e4,gN=5e3,_N=10*1024,yN=100*1024,fp="t",p0="d",vN="s",m0="r",bN="e",g0="o",_0="a",y0="n",v0="p",xN="h";class SN{constructor(e,t,i,r,o,c,h,f,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tl("c:"+this.id+":"),this.transportManager_=new rl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ko(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_N?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(fp in e){const t=e[fp];t===_0?this.upgradeIfSecondaryHealthy_():t===m0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===g0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Oo("t",e),i=Oo("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:v0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:y0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Oo("t",e),i=Oo("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Oo(fp,e);if(p0 in e){const i=e[p0];if(t===xN){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===y0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===vN?this.onConnectionShutdown_(i):t===m0?this.onReset_(i):t===bN?Hp("Server Error: "+i):t===g0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hp("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Am!==i&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Ko(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ko(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:v0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class wE{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class AE{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Lu extends AE{static getInstance(){return new Lu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const b0=32,x0=768;class ze{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ne(){return new ze("")}function pe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ms(n){return n.pieces_.length-n.pieceNum_}function Ge(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ze(n.pieces_,e)}function Om(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function EN(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function ol(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function RE(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ze(e,0)}function et(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ze)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ze(t,0)}function me(n){return n.pieceNum_>=n.pieces_.length}function Ft(n,e){const t=pe(n),i=pe(e);if(t===null)return e;if(t===i)return Ft(Ge(n),Ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function TN(n,e){const t=ol(n,0),i=ol(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=oa(t[r],i[r]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function Nm(n,e){if(ms(n)!==ms(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function mn(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ms(n)>ms(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class CN{constructor(e,t){this.errorPrefix_=t,this.parts_=ol(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ch(this.parts_[i]);ME(this)}}function wN(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=ch(e),ME(n)}function AN(n){const e=n.parts_.pop();n.byteLength_-=ch(e),n.parts_.length>0&&(n.byteLength_-=1)}function ME(n){if(n.byteLength_>x0)throw new Error(n.errorPrefix_+"has a key path longer than "+x0+" bytes ("+n.byteLength_+").");if(n.parts_.length>b0)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+b0+") or object contains a cycle "+Gs(n))}function Gs(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class km extends AE{static getInstance(){return new km}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}const No=1e3,RN=300*1e3,S0=30*1e3,MN=1.3,ON=3e4,NN="server_kill",E0=3;class gi extends wE{constructor(e,t,i,r,o,c,h,f){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=gi.nextPersistentConnectionId_++,this.log_=Tl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=No,this.maxReconnectDelay_=RN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");km.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,o={r,a:e,b:t};this.log_(gt(o)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new Sr,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?t.resolve(h):t.reject(h)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,r){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},c="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,h=>{const f=h.d,p=h.s;gi.warnOnListenWarnings_(f,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Nn(e,"w")){const i=$s(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=S0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=yM(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const o=r.s,c=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e},c="n";r&&(o.q=i,o.t=r),this.sendRequest(c,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{r&&setTimeout(()=>{r(c.s,c.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,o){this.initConnection_();const c={p:t,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:r}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+gt(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Hp("Unrecognized action received from server: "+gt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ON&&(this.reconnectDelay_=No),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*MN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+gi.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,i())},p=function(_){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:f,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,y]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Et("getToken() completed but was canceled"):(Et("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=y&&y.token,h=new SN(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,x=>{Nt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(NN)},o))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&Nt(_),f())}}}interrupt(e){Et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lp(this.interruptReasons_)&&(this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>wm(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new ze(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){Et("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=E0&&(this.reconnectDelay_=S0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Et("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=E0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+sE.replace(/\./g,"-")]=1,xm()?e["framework.cordova"]=1:XS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lu.getInstance().currentlyOnline();return Lp(this.interruptReasons_)&&e}}gi.nextPersistentConnectionId_=0;gi.nextConnectionId_=0;class ge{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ge(e,t)}}class uh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new ge(ea,e),r=new ge(ea,t);return this.compare(i,r)!==0}minPost(){return ge.MIN}}let tu;class OE extends uh{static get __EMPTY_NODE(){return tu}static set __EMPTY_NODE(e){tu=e}compare(e,t){return oa(e.name,t.name)}isDefinedOn(e){throw xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ge.MIN}maxPost(){return new ge(ps,tu)}makePost(e,t){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ge(e,tu)}toString(){return".key"}}const Qs=new OE;class nu{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class mt{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??mt.RED,this.left=r??Vt.EMPTY_NODE,this.right=o??Vt.EMPTY_NODE}copy(e,t,i,r,o){return new mt(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}mt.RED=!0;mt.BLACK=!1;class kN{copy(e,t,i,r,o){return this}insert(e,t,i){return new mt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(e,t=Vt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Vt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,mt.BLACK,null,null))}remove(e){return new Vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mt.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new nu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new nu(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new nu(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new nu(this.root_,null,this.comparator_,!0,e)}}Vt.EMPTY_NODE=new kN;function DN(n,e){return oa(n.name,e.name)}function Dm(n,e){return oa(n,e)}let Vp;function IN(n){Vp=n}const NE=function(n){return typeof n=="number"?"number:"+cE(n):"string:"+n},kE=function(n){if(n.isLeafNode()){const e=n.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Nn(e,".sv"),"Priority must be a string or number.")}else Y(n===Vp||n.isEmpty(),"priority of unexpected type.");Y(n===Vp||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let T0;class pt{static set __childrenNodeConstructor(e){T0=e}static get __childrenNodeConstructor(){return T0}constructor(e,t=pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:pe(e)===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=pe(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(Y(i!==".priority"||ms(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ge(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+NE(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=cE(this.value_):e+=this.value_,this.lazyHash_=oE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=pt.VALUE_TYPE_ORDER.indexOf(t),o=pt.VALUE_TYPE_ORDER.indexOf(i);return Y(r>=0,"Unknown leaf type: "+t),Y(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let DE,IE;function LN(n){DE=n}function zN(n){IE=n}class PN extends uh{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?oa(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(ps,new pt("[PRIORITY-POST]",IE))}makePost(e,t){const i=DE(e);return new ge(t,new pt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Xe=new PN;const jN=Math.log(2);class BN{constructor(e){const t=o=>parseInt(Math.log(o)/jN,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zu=function(n,e,t,i){n.sort(e);const r=function(f,p){const g=p-f;let _,y;if(g===0)return null;if(g===1)return _=n[f],y=t?t(_):_,new mt(y,_.node,mt.BLACK,null,null);{const x=parseInt(g/2,10)+f,E=r(f,x),T=r(x+1,p);return _=n[x],y=t?t(_):_,new mt(y,_.node,mt.BLACK,E,T)}},o=function(f){let p=null,g=null,_=n.length;const y=function(E,T){const w=_-E,M=_;_-=E;const L=r(w+1,M),B=n[w],K=t?t(B):B;x(new mt(K,B.node,T,null,L))},x=function(E){p?(p.left=E,p=E):(g=E,p=E)};for(let E=0;E<f.count;++E){const T=f.nextBitIsOne(),w=Math.pow(2,f.count-(E+1));T?y(w,mt.BLACK):(y(w,mt.BLACK),y(w,mt.RED))}return g},c=new BN(n.length),h=o(c);return new Vt(i||e,h)};let dp;const Qa={};class fi{static get Default(){return Y(Qa&&Xe,"ChildrenNode.ts has not been loaded"),dp=dp||new fi({".priority":Qa},{".priority":Xe}),dp}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=$s(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Vt?t:null}hasIndex(e){return Nn(this.indexSet_,e.toString())}addIndex(e,t){Y(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(ge.Wrap);let c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;r?h=zu(i,e.getCompare()):h=Qa;const f=e.toString(),p={...this.indexSet_};p[f]=e;const g={...this.indexes_};return g[f]=h,new fi(g,p)}addToIndexes(e,t){const i=ku(this.indexes_,(r,o)=>{const c=$s(this.indexSet_,o);if(Y(c,"Missing index implementation for "+o),r===Qa)if(c.isDefinedOn(e.node)){const h=[],f=t.getIterator(ge.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&h.push(p),p=f.getNext();return h.push(e),zu(h,c.getCompare())}else return Qa;else{const h=t.get(e.name);let f=r;return h&&(f=f.remove(new ge(e.name,h))),f.insert(e,e.node)}});return new fi(i,this.indexSet_)}removeFromIndexes(e,t){const i=ku(this.indexes_,r=>{if(r===Qa)return r;{const o=t.get(e.name);return o?r.remove(new ge(e.name,o)):r}});return new fi(i,this.indexSet_)}}let ko;class re{static get EMPTY_NODE(){return ko||(ko=new re(new Vt(Dm),null,fi.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&kE(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ko}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?ko:t}}getChild(e){const t=pe(e);return t===null?this:this.getImmediateChild(t).getChild(Ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Y(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new ge(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const c=r.isEmpty()?ko:this.priorityNode_;return new re(r,c,o)}}updateChild(e,t){const i=pe(e);if(i===null)return t;{Y(pe(e)!==".priority"||ms(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Ge(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,o=!0;if(this.forEachChild(Xe,(c,h)=>{t[c]=h.val(e),i++,o&&re.INTEGER_REGEXP_.test(c)?r=Math.max(r,Number(c)):o=!1}),!e&&o&&r<2*i){const c=[];for(const h in t)c[h]=t[h];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+NE(this.getPriority().val())+":"),this.forEachChild(Xe,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":oE(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new ge(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ge(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ge(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ge.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ge.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cl?-1:0}withIndex(e){if(e===Qs||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Qs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Xe),r=t.getIterator(Xe);let o=i.getNext(),c=r.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=r.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Qs?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class UN extends re{constructor(){super(new Vt(Dm),re.EMPTY_NODE,fi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const Cl=new UN;Object.defineProperties(ge,{MIN:{value:new ge(ea,re.EMPTY_NODE)},MAX:{value:new ge(ps,Cl)}});OE.__EMPTY_NODE=re.EMPTY_NODE;pt.__childrenNodeConstructor=re;IN(Cl);zN(Cl);const HN=!0;function ut(n,e=null){if(n===null)return re.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new pt(t,ut(e))}if(!(n instanceof Array)&&HN){const t=[];let i=!1;if(Tt(n,(c,h)=>{if(c.substring(0,1)!=="."){const f=ut(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new ge(c,f)))}}),t.length===0)return re.EMPTY_NODE;const o=zu(t,DN,c=>c.name,Dm);if(i){const c=zu(t,Xe.getCompare());return new re(o,ut(e),new fi({".priority":c},{".priority":Xe}))}else return new re(o,ut(e),fi.Default)}else{let t=re.EMPTY_NODE;return Tt(n,(i,r)=>{if(Nn(n,i)&&i.substring(0,1)!=="."){const o=ut(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(ut(e))}}LN(ut);class Im extends uh{constructor(e){super(),this.indexPath_=e,Y(!me(e)&&pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?oa(e.name,t.name):o}makePost(e,t){const i=ut(e),r=re.EMPTY_NODE.updateChild(this.indexPath_,i);return new ge(t,r)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,Cl);return new ge(ps,e)}toString(){return ol(this.indexPath_,0).join("/")}}class FN extends uh{compare(e,t){const i=e.node.compareTo(t.node);return i===0?oa(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,t){const i=ut(e);return new ge(t,i)}toString(){return".value"}}const LE=new FN;function zE(n){return{type:"value",snapshotNode:n}}function cr(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ll(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function cl(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function VN(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class Lm{constructor(e){this.index_=e}updateChild(e,t,i,r,o,c){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(ll(t,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(cr(t,i)):c.trackChildChange(cl(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Xe,(r,o)=>{t.hasChild(r)||i.trackChildChange(ll(r,o))}),t.isLeafNode()||t.forEachChild(Xe,(r,o)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(o)||i.trackChildChange(cl(r,o,c))}else i.trackChildChange(cr(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ul{constructor(e){this.indexedFilter_=new Lm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ul.getStartPost_(e),this.endPost_=ul.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,c){return this.matches(new ge(t,i))||(i=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=re.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(re.EMPTY_NODE);const o=this;return t.forEachChild(Xe,(c,h)=>{o.matches(new ge(c,h))||(r=r.updateImmediateChild(c,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}class qN{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ul(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,c){return this.rangedFilter_.matches(new ge(t,i))||(i=re.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,c):this.fullLimitUpdateChild_(e,t,i,o,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=re.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))r=r.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(re.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let c;if(this.reverse_){const _=this.index_.getCompare();c=(y,x)=>_(x,y)}else c=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const f=new ge(t,i),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(h.hasChild(t)){const _=h.getImmediateChild(t);let y=r.getChildAfterChild(this.index_,p,this.reverse_);for(;y!=null&&(y.name===t||h.hasChild(y.name));)y=r.getChildAfterChild(this.index_,y,this.reverse_);const x=y==null?1:c(y,f);if(g&&!i.isEmpty()&&x>=0)return o?.trackChildChange(cl(t,i,_)),h.updateImmediateChild(t,i);{o?.trackChildChange(ll(t,_));const T=h.updateImmediateChild(t,re.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o?.trackChildChange(cr(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}}else return i.isEmpty()?e:g&&c(p,f)>=0?(o!=null&&(o.trackChildChange(ll(p.name,p.node)),o.trackChildChange(cr(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(p.name,re.EMPTY_NODE)):e}}class zm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ea}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new zm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GN(n){return n.loadsAllData()?new Lm(n.getIndex()):n.hasLimit()?new qN(n):new ul(n)}function WN(n,e,t){const i=n.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,t!=null?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function YN(n,e,t){const i=n.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,t!==void 0?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function KN(n,e){const t=n.copy();return t.index_=e,t}function C0(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Xe?t="$priority":n.index_===LE?t="$value":n.index_===Qs?t="$key":(Y(n.index_ instanceof Im,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=gt(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=gt(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+gt(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=gt(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+gt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function w0(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Xe&&(e.i=n.index_.toString()),e}class Pu extends wE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Tl("p:rest:"),this.listens_={}}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=Pu.getListenId_(e,i),h={};this.listens_[c]=h;const f=C0(e._queryParams);this.restRequest_(o+".json",f,(p,g)=>{let _=g;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(o,_,!1,i),$s(this.listens_,c)===h){let y;p?p===401?y="permission_denied":y="rest_error:"+p:y="ok",r(y,null)}})}unlisten(e,t){const i=Pu.getListenId_(e,t);delete this.listens_[i]}get(e){const t=C0(e._queryParams),i=e._path.toString(),r=new Sr;return this.restRequest_(i+".json",t,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Tr(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=sl(h.responseText)}catch{Nt("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&Nt("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class QN{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ju(){return{value:null,children:new Map}}function PE(n,e,t){if(me(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=pe(e);n.children.has(i)||n.children.set(i,ju());const r=n.children.get(i);e=Ge(e),PE(r,e,t)}}function qp(n,e,t){n.value!==null?t(e,n.value):XN(n,(i,r)=>{const o=new ze(e.toString()+"/"+i);qp(r,o,t)})}function XN(n,e){n.children.forEach((t,i)=>{e(i,t)})}class $N{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&Tt(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}const A0=10*1e3,ZN=30*1e3,JN=300*1e3;class ek{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new $N(e);const i=A0+(ZN-A0)*Math.random();Ko(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Tt(e,(r,o)=>{o>0&&Nn(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Ko(this.reportStats_.bind(this),Math.floor(Math.random()*2*JN))}}var Cn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cn||(Cn={}));function Pm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Bu{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Cn.ACK_USER_WRITE,this.source=Pm()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ze(e));return new Bu(Ne(),t,this.revert)}}else return Y(pe(this.path)===e,"operationForChild called for unrelated child."),new Bu(Ge(this.path),this.affectedTree,this.revert)}}class hl{constructor(e,t){this.source=e,this.path=t,this.type=Cn.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new hl(this.source,Ne()):new hl(this.source,Ge(this.path))}}class ta{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Cn.OVERWRITE}operationForChild(e){return me(this.path)?new ta(this.source,Ne(),this.snap.getImmediateChild(e)):new ta(this.source,Ge(this.path),this.snap)}}class ur{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Cn.MERGE}operationForChild(e){if(me(this.path)){const t=this.children.subtree(new ze(e));return t.isEmpty()?null:t.value?new ta(this.source,Ne(),t.value):new ur(this.source,Ne(),t)}else return Y(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ur(this.source,Ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class na{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const t=pe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class tk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nk(n,e,t,i){const r=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(VN(c.childName,c.snapshotNode))}),Do(n,r,"child_removed",e,i,t),Do(n,r,"child_added",e,i,t),Do(n,r,"child_moved",o,i,t),Do(n,r,"child_changed",e,i,t),Do(n,r,"value",e,i,t),r}function Do(n,e,t,i,r,o){const c=i.filter(h=>h.type===t);c.sort((h,f)=>sk(n,h,f)),c.forEach(h=>{const f=ik(n,h,o);r.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(f,n.query_))})})}function ik(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function sk(n,e,t){if(e.childName==null||t.childName==null)throw xr("Should only compare child_ events.");const i=new ge(e.childName,e.snapshotNode),r=new ge(t.childName,t.snapshotNode);return n.index_.compare(i,r)}function hh(n,e){return{eventCache:n,serverCache:e}}function Qo(n,e,t,i){return hh(new na(e,t,i),n.serverCache)}function jE(n,e,t,i){return hh(n.eventCache,new na(e,t,i))}function Gp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ia(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pp;const ak=()=>(pp||(pp=new Vt(FO)),pp);class qe{static fromObject(e){let t=new qe(null);return Tt(e,(i,r)=>{t=t.set(new ze(i),r)}),t}constructor(e,t=ak()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ne(),value:this.value};if(me(e))return null;{const i=pe(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(Ge(e),t);return o!=null?{path:et(new ze(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const t=pe(e),i=this.children.get(t);return i!==null?i.subtree(Ge(e)):new qe(null)}}set(e,t){if(me(e))return new qe(t,this.children);{const i=pe(e),o=(this.children.get(i)||new qe(null)).set(Ge(e),t),c=this.children.insert(i,o);return new qe(this.value,c)}}remove(e){if(me(e))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const t=pe(e),i=this.children.get(t);if(i){const r=i.remove(Ge(e));let o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new qe(null):new qe(this.value,o)}else return this}}get(e){if(me(e))return this.value;{const t=pe(e),i=this.children.get(t);return i?i.get(Ge(e)):null}}setTree(e,t){if(me(e))return t;{const i=pe(e),o=(this.children.get(i)||new qe(null)).setTree(Ge(e),t);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new qe(this.value,c)}}fold(e){return this.fold_(Ne(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(et(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ne(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(me(e))return null;{const o=pe(e),c=this.children.get(o);return c?c.findOnPath_(Ge(e),et(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ne(),t)}foreachOnPath_(e,t,i){if(me(e))return this;{this.value&&i(t,this.value);const r=pe(e),o=this.children.get(r);return o?o.foreachOnPath_(Ge(e),et(t,r),i):new qe(null)}}foreach(e){this.foreach_(Ne(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(et(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Mn{constructor(e){this.writeTree_=e}static empty(){return new Mn(new qe(null))}}function Xo(n,e,t){if(me(e))return new Mn(new qe(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const c=Ft(r,e);return o=o.updateChild(c,t),new Mn(n.writeTree_.set(r,o))}else{const r=new qe(t),o=n.writeTree_.setTree(e,r);return new Mn(o)}}}function Wp(n,e,t){let i=n;return Tt(t,(r,o)=>{i=Xo(i,et(e,r),o)}),i}function R0(n,e){if(me(e))return Mn.empty();{const t=n.writeTree_.setTree(e,new qe(null));return new Mn(t)}}function Yp(n,e){return la(n,e)!=null}function la(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ft(t.path,e)):null}function M0(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Xe,(i,r)=>{e.push(new ge(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ge(i,r.value))}),e}function us(n,e){if(me(e))return n;{const t=la(n,e);return t!=null?new Mn(new qe(t)):new Mn(n.writeTree_.subtree(e))}}function Kp(n){return n.writeTree_.isEmpty()}function hr(n,e){return BE(Ne(),n.writeTree_,e)}function BE(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(Y(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=BE(et(n,r),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(et(n,".priority"),i)),t}}function Um(n,e){return VE(e,n)}function rk(n,e,t,i,r){Y(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Xo(n.visibleWrites,e,t)),n.lastWriteId=i}function ok(n,e,t,i){Y(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=Wp(n.visibleWrites,e,t),n.lastWriteId=i}function lk(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function ck(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);Y(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&uk(h,i.path)?r=!1:mn(i.path,h.path)&&(o=!0)),c--}if(r){if(o)return hk(n),!0;if(i.snap)n.visibleWrites=R0(n.visibleWrites,i.path);else{const h=i.children;Tt(h,f=>{n.visibleWrites=R0(n.visibleWrites,et(i.path,f))})}return!0}else return!1}function uk(n,e){if(n.snap)return mn(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&mn(et(n.path,t),e))return!0;return!1}function hk(n){n.visibleWrites=UE(n.allWrites,fk,Ne()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function fk(n){return n.visible}function UE(n,e,t){let i=Mn.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const c=o.path;let h;if(o.snap)mn(t,c)?(h=Ft(t,c),i=Xo(i,h,o.snap)):mn(c,t)&&(h=Ft(c,t),i=Xo(i,Ne(),o.snap.getChild(h)));else if(o.children){if(mn(t,c))h=Ft(t,c),i=Wp(i,h,o.children);else if(mn(c,t))if(h=Ft(c,t),me(h))i=Wp(i,Ne(),o.children);else{const f=$s(o.children,pe(h));if(f){const p=f.getChild(Ge(h));i=Xo(i,Ne(),p)}}}else throw xr("WriteRecord should have .snap or .children")}}return i}function HE(n,e,t,i,r){if(!i&&!r){const o=la(n.visibleWrites,e);if(o!=null)return o;{const c=us(n.visibleWrites,e);if(Kp(c))return t;if(t==null&&!Yp(c,Ne()))return null;{const h=t||re.EMPTY_NODE;return hr(c,h)}}}else{const o=us(n.visibleWrites,e);if(!r&&Kp(o))return t;if(!r&&t==null&&!Yp(o,Ne()))return null;{const c=function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(mn(p.path,e)||mn(e,p.path))},h=UE(n.allWrites,c,e),f=t||re.EMPTY_NODE;return hr(h,f)}}}function dk(n,e,t){let i=re.EMPTY_NODE;const r=la(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Xe,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(t){const o=us(n.visibleWrites,e);return t.forEachChild(Xe,(c,h)=>{const f=hr(us(o,new ze(c)),h);i=i.updateImmediateChild(c,f)}),M0(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=us(n.visibleWrites,e);return M0(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function pk(n,e,t,i,r){Y(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=et(e,t);if(Yp(n.visibleWrites,o))return null;{const c=us(n.visibleWrites,o);return Kp(c)?r.getChild(t):hr(c,r.getChild(t))}}function mk(n,e,t,i){const r=et(e,t),o=la(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){const c=us(n.visibleWrites,r);return hr(c,i.getNode().getImmediateChild(t))}else return null}function gk(n,e){return la(n.visibleWrites,e)}function _k(n,e,t,i,r,o,c){let h;const f=us(n.visibleWrites,e),p=la(f,Ne());if(p!=null)h=p;else if(t!=null)h=hr(f,t);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],_=c.getCompare(),y=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let x=y.getNext();for(;x&&g.length<r;)_(x,i)!==0&&g.push(x),x=y.getNext();return g}else return[]}function yk(){return{visibleWrites:Mn.empty(),allWrites:[],lastWriteId:-1}}function Uu(n,e,t,i){return HE(n.writeTree,n.treePath,e,t,i)}function Hm(n,e){return dk(n.writeTree,n.treePath,e)}function O0(n,e,t,i){return pk(n.writeTree,n.treePath,e,t,i)}function Hu(n,e){return gk(n.writeTree,et(n.treePath,e))}function vk(n,e,t,i,r,o){return _k(n.writeTree,n.treePath,e,t,i,r,o)}function Fm(n,e,t){return mk(n.writeTree,n.treePath,e,t)}function FE(n,e){return VE(et(n.treePath,e),n.writeTree)}function VE(n,e){return{treePath:n,writeTree:e}}class bk{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;Y(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Y(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,cl(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,ll(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,cr(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,cl(i,e.snapshotNode,r.oldSnap));else throw xr("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}class xk{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const qE=new xk;class Vm{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new na(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fm(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ia(this.viewCache_),o=vk(this.writes_,r,t,1,i,e);return o.length===0?null:o[0]}}function Sk(n){return{filter:n}}function Ek(n,e){Y(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Tk(n,e,t,i,r){const o=new bk;let c,h;if(t.type===Cn.OVERWRITE){const p=t;p.source.fromUser?c=Qp(n,e,p.path,p.snap,i,r,o):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!me(p.path),c=Fu(n,e,p.path,p.snap,i,r,h,o))}else if(t.type===Cn.MERGE){const p=t;p.source.fromUser?c=wk(n,e,p.path,p.children,i,r,o):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=Xp(n,e,p.path,p.children,i,r,h,o))}else if(t.type===Cn.ACK_USER_WRITE){const p=t;p.revert?c=Mk(n,e,p.path,i,r,o):c=Ak(n,e,p.path,p.affectedTree,i,r,o)}else if(t.type===Cn.LISTEN_COMPLETE)c=Rk(n,e,t.path,i,o);else throw xr("Unknown operation type: "+t.type);const f=o.getChanges();return Ck(e,c,f),{viewCache:c,changes:f}}function Ck(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Gp(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(zE(Gp(e)))}}function GE(n,e,t,i,r,o){const c=e.eventCache;if(Hu(i,t)!=null)return e;{let h,f;if(me(t))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=ia(e),g=p instanceof re?p:re.EMPTY_NODE,_=Hm(i,g);h=n.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const p=Uu(i,ia(e));h=n.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const p=pe(t);if(p===".priority"){Y(ms(t)===1,"Can't have a priority with additional path components");const g=c.getNode();f=e.serverCache.getNode();const _=O0(i,t,g,f);_!=null?h=n.filter.updatePriority(g,_):h=c.getNode()}else{const g=Ge(t);let _;if(c.isCompleteForChild(p)){f=e.serverCache.getNode();const y=O0(i,t,c.getNode(),f);y!=null?_=c.getNode().getImmediateChild(p).updateChild(g,y):_=c.getNode().getImmediateChild(p)}else _=Fm(i,p,e.serverCache);_!=null?h=n.filter.updateChild(c.getNode(),p,_,g,r,o):h=c.getNode()}}return Qo(e,h,c.isFullyInitialized()||me(t),n.filter.filtersNodes())}}function Fu(n,e,t,i,r,o,c,h){const f=e.serverCache;let p;const g=c?n.filter:n.filter.getIndexedFilter();if(me(t))p=g.updateFullNode(f.getNode(),i,null);else if(g.filtersNodes()&&!f.isFiltered()){const x=f.getNode().updateChild(t,i);p=g.updateFullNode(f.getNode(),x,null)}else{const x=pe(t);if(!f.isCompleteForPath(t)&&ms(t)>1)return e;const E=Ge(t),w=f.getNode().getImmediateChild(x).updateChild(E,i);x===".priority"?p=g.updatePriority(f.getNode(),w):p=g.updateChild(f.getNode(),x,w,E,qE,null)}const _=jE(e,p,f.isFullyInitialized()||me(t),g.filtersNodes()),y=new Vm(r,_,o);return GE(n,_,t,r,y,h)}function Qp(n,e,t,i,r,o,c){const h=e.eventCache;let f,p;const g=new Vm(r,e,o);if(me(t))p=n.filter.updateFullNode(e.eventCache.getNode(),i,c),f=Qo(e,p,!0,n.filter.filtersNodes());else{const _=pe(t);if(_===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),i),f=Qo(e,p,h.isFullyInitialized(),h.isFiltered());else{const y=Ge(t),x=h.getNode().getImmediateChild(_);let E;if(me(y))E=i;else{const T=g.getCompleteChild(_);T!=null?Om(y)===".priority"&&T.getChild(RE(y)).isEmpty()?E=T:E=T.updateChild(y,i):E=re.EMPTY_NODE}if(x.equals(E))f=e;else{const T=n.filter.updateChild(h.getNode(),_,E,y,g,c);f=Qo(e,T,h.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function N0(n,e){return n.eventCache.isCompleteForChild(e)}function wk(n,e,t,i,r,o,c){let h=e;return i.foreach((f,p)=>{const g=et(t,f);N0(e,pe(g))&&(h=Qp(n,h,g,p,r,o,c))}),i.foreach((f,p)=>{const g=et(t,f);N0(e,pe(g))||(h=Qp(n,h,g,p,r,o,c))}),h}function k0(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Xp(n,e,t,i,r,o,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;me(t)?p=i:p=new qe(null).setTree(t,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((_,y)=>{if(g.hasChild(_)){const x=e.serverCache.getNode().getImmediateChild(_),E=k0(n,x,y);f=Fu(n,f,new ze(_),E,r,o,c,h)}}),p.children.inorderTraversal((_,y)=>{const x=!e.serverCache.isCompleteForChild(_)&&y.value===null;if(!g.hasChild(_)&&!x){const E=e.serverCache.getNode().getImmediateChild(_),T=k0(n,E,y);f=Fu(n,f,new ze(_),T,r,o,c,h)}}),f}function Ak(n,e,t,i,r,o,c){if(Hu(r,t)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(me(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return Fu(n,e,t,f.getNode().getChild(t),r,o,h,c);if(me(t)){let p=new qe(null);return f.getNode().forEachChild(Qs,(g,_)=>{p=p.set(new ze(g),_)}),Xp(n,e,t,p,r,o,h,c)}else return e}else{let p=new qe(null);return i.foreach((g,_)=>{const y=et(t,g);f.isCompleteForPath(y)&&(p=p.set(g,f.getNode().getChild(y)))}),Xp(n,e,t,p,r,o,h,c)}}function Rk(n,e,t,i,r){const o=e.serverCache,c=jE(e,o.getNode(),o.isFullyInitialized()||me(t),o.isFiltered());return GE(n,c,t,i,qE,r)}function Mk(n,e,t,i,r,o){let c;if(Hu(i,t)!=null)return e;{const h=new Vm(i,e,r),f=e.eventCache.getNode();let p;if(me(t)||pe(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Uu(i,ia(e));else{const _=e.serverCache.getNode();Y(_ instanceof re,"serverChildren would be complete if leaf node"),g=Hm(i,_)}g=g,p=n.filter.updateFullNode(f,g,o)}else{const g=pe(t);let _=Fm(i,g,e.serverCache);_==null&&e.serverCache.isCompleteForChild(g)&&(_=f.getImmediateChild(g)),_!=null?p=n.filter.updateChild(f,g,_,Ge(t),h,o):e.eventCache.getNode().hasChild(g)?p=n.filter.updateChild(f,g,re.EMPTY_NODE,Ge(t),h,o):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Uu(i,ia(e)),c.isLeafNode()&&(p=n.filter.updateFullNode(p,c,o)))}return c=e.serverCache.isFullyInitialized()||Hu(i,Ne())!=null,Qo(e,p,c,n.filter.filtersNodes())}}class Ok{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Lm(i.getIndex()),o=GN(i);this.processor_=Sk(o);const c=t.serverCache,h=t.eventCache,f=r.updateFullNode(re.EMPTY_NODE,c.getNode(),null),p=o.updateFullNode(re.EMPTY_NODE,h.getNode(),null),g=new na(f,c.isFullyInitialized(),r.filtersNodes()),_=new na(p,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=hh(_,g),this.eventGenerator_=new tk(this.query_)}get query(){return this.query_}}function Nk(n){return n.viewCache_.serverCache.getNode()}function kk(n,e){const t=ia(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!me(e)&&!t.getImmediateChild(pe(e)).isEmpty())?t.getChild(e):null}function D0(n){return n.eventRegistrations_.length===0}function Dk(n,e){n.eventRegistrations_.push(e)}function I0(n,e,t){const i=[];if(t){Y(e==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(!c.matches(e))r.push(c);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function L0(n,e,t,i){e.type===Cn.MERGE&&e.source.queryId!==null&&(Y(ia(n.viewCache_),"We should always have a full cache before handling merges"),Y(Gp(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=Tk(n.processor_,r,e,t,i);return Ek(n.processor_,o.viewCache),Y(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,WE(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Ik(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Xe,(o,c)=>{i.push(cr(o,c))}),t.isFullyInitialized()&&i.push(zE(t.getNode())),WE(n,i,t.getNode(),e)}function WE(n,e,t,i){const r=i?[i]:n.eventRegistrations_;return nk(n.eventGenerator_,e,t,r)}let Vu;class Lk{constructor(){this.views=new Map}}function zk(n){Y(!Vu,"__referenceConstructor has already been defined"),Vu=n}function Pk(){return Y(Vu,"Reference.ts has not been loaded"),Vu}function jk(n){return n.views.size===0}function qm(n,e,t,i){const r=e.source.queryId;if(r!==null){const o=n.views.get(r);return Y(o!=null,"SyncTree gave us an op for an invalid query."),L0(o,e,t,i)}else{let o=[];for(const c of n.views.values())o=o.concat(L0(c,e,t,i));return o}}function Bk(n,e,t,i,r){const o=e._queryIdentifier,c=n.views.get(o);if(!c){let h=Uu(t,r?i:null),f=!1;h?f=!0:i instanceof re?(h=Hm(t,i),f=!1):(h=re.EMPTY_NODE,f=!1);const p=hh(new na(h,f,!1),new na(i,r,!1));return new Ok(e,p)}return c}function Uk(n,e,t,i,r,o){const c=Bk(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),Dk(c,t),Ik(c,t)}function Hk(n,e,t,i){const r=e._queryIdentifier,o=[];let c=[];const h=gs(n);if(r==="default")for(const[f,p]of n.views.entries())c=c.concat(I0(p,t,i)),D0(p)&&(n.views.delete(f),p.query._queryParams.loadsAllData()||o.push(p.query));else{const f=n.views.get(r);f&&(c=c.concat(I0(f,t,i)),D0(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return h&&!gs(n)&&o.push(new(Pk())(e._repo,e._path)),{removed:o,events:c}}function YE(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function nr(n,e){let t=null;for(const i of n.views.values())t=t||kk(i,e);return t}function KE(n,e){if(e._queryParams.loadsAllData())return fh(n);{const i=e._queryIdentifier;return n.views.get(i)}}function QE(n,e){return KE(n,e)!=null}function gs(n){return fh(n)!=null}function fh(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let qu;function Fk(n){Y(!qu,"__referenceConstructor has already been defined"),qu=n}function Vk(){return Y(qu,"Reference.ts has not been loaded"),qu}let qk=1;class z0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qe(null),this.pendingWriteTree_=yk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gm(n,e,t,i,r){return rk(n.pendingWriteTree_,e,t,i,r),r?Ar(n,new ta(Pm(),e,t)):[]}function Gk(n,e,t,i){ok(n.pendingWriteTree_,e,t,i);const r=qe.fromObject(t);return Ar(n,new ur(Pm(),e,r))}function is(n,e,t=!1){const i=lk(n.pendingWriteTree_,e);if(ck(n.pendingWriteTree_,e)){let o=new qe(null);return i.snap!=null?o=o.set(Ne(),!0):Tt(i.children,c=>{o=o.set(new ze(c),!0)}),Ar(n,new Bu(i.path,o,t))}else return[]}function dh(n,e,t){return Ar(n,new ta(jm(),e,t))}function Wk(n,e,t){const i=qe.fromObject(t);return Ar(n,new ur(jm(),e,i))}function Yk(n,e){return Ar(n,new hl(jm(),e))}function Kk(n,e,t){const i=Wm(n,t);if(i){const r=Ym(i),o=r.path,c=r.queryId,h=Ft(o,e),f=new hl(Bm(c),h);return Km(n,o,f)}else return[]}function $p(n,e,t,i,r=!1){const o=e._path,c=n.syncPointTree_.get(o);let h=[];if(c&&(e._queryIdentifier==="default"||QE(c,e))){const f=Hk(c,e,t,i);jk(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const p=f.removed;if(h=f.events,!r){const g=p.findIndex(y=>y._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(o,(y,x)=>gs(x));if(g&&!_){const y=n.syncPointTree_.subtree(o);if(!y.isEmpty()){const x=$k(y);for(let E=0;E<x.length;++E){const T=x[E],w=T.query,M=ZE(n,T);n.listenProvider_.startListening($o(w),Gu(n,w),M.hashFn,M.onComplete)}}}!_&&p.length>0&&!i&&(g?n.listenProvider_.stopListening($o(e),null):p.forEach(y=>{const x=n.queryToTagMap.get(mh(y));n.listenProvider_.stopListening($o(y),x)}))}Zk(n,p)}return h}function Qk(n,e,t,i){const r=Wm(n,i);if(r!=null){const o=Ym(r),c=o.path,h=o.queryId,f=Ft(c,e),p=new ta(Bm(h),f,t);return Km(n,c,p)}else return[]}function Xk(n,e,t,i){const r=Wm(n,i);if(r){const o=Ym(r),c=o.path,h=o.queryId,f=Ft(c,e),p=qe.fromObject(t),g=new ur(Bm(h),f,p);return Km(n,c,g)}else return[]}function P0(n,e,t,i=!1){const r=e._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(y,x)=>{const E=Ft(y,r);o=o||nr(x,E),c=c||gs(x)});let h=n.syncPointTree_.get(r);h?(c=c||gs(h),o=o||nr(h,Ne())):(h=new Lk,n.syncPointTree_=n.syncPointTree_.set(r,h));let f;o!=null?f=!0:(f=!1,o=re.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((x,E)=>{const T=nr(E,Ne());T&&(o=o.updateImmediateChild(x,T))}));const p=QE(h,e);if(!p&&!e._queryParams.loadsAllData()){const y=mh(e);Y(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const x=Jk();n.queryToTagMap.set(y,x),n.tagToQueryMap.set(x,y)}const g=Um(n.pendingWriteTree_,r);let _=Uk(h,e,t,g,o,f);if(!p&&!c&&!i){const y=KE(h,e);_=_.concat(eD(n,e,y))}return _}function ph(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(c,h)=>{const f=Ft(c,e),p=nr(h,f);if(p)return p});return HE(r,e,o,t,!0)}function Ar(n,e){return XE(e,n.syncPointTree_,null,Um(n.pendingWriteTree_,Ne()))}function XE(n,e,t,i){if(me(n.path))return $E(n,e,t,i);{const r=e.get(Ne());t==null&&r!=null&&(t=nr(r,Ne()));let o=[];const c=pe(n.path),h=n.operationForChild(c),f=e.children.get(c);if(f&&h){const p=t?t.getImmediateChild(c):null,g=FE(i,c);o=o.concat(XE(h,f,p,g))}return r&&(o=o.concat(qm(r,n,i,t))),o}}function $E(n,e,t,i){const r=e.get(Ne());t==null&&r!=null&&(t=nr(r,Ne()));let o=[];return e.children.inorderTraversal((c,h)=>{const f=t?t.getImmediateChild(c):null,p=FE(i,c),g=n.operationForChild(c);g&&(o=o.concat($E(g,h,f,p)))}),r&&(o=o.concat(qm(r,n,i,t))),o}function ZE(n,e){const t=e.query,i=Gu(n,t);return{hashFn:()=>(Nk(e)||re.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?Kk(n,t._path,i):Yk(n,t._path);{const o=GO(r,t);return $p(n,t,null,o)}}}}function Gu(n,e){const t=mh(e);return n.queryToTagMap.get(t)}function mh(n){return n._path.toString()+"$"+n._queryIdentifier}function Wm(n,e){return n.tagToQueryMap.get(e)}function Ym(n){const e=n.indexOf("$");return Y(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ze(n.substr(0,e))}}function Km(n,e,t){const i=n.syncPointTree_.get(e);Y(i,"Missing sync point for query tag that we're tracking");const r=Um(n.pendingWriteTree_,e);return qm(i,t,r,null)}function $k(n){return n.fold((e,t,i)=>{if(t&&gs(t))return[fh(t)];{let r=[];return t&&(r=YE(t)),Tt(i,(o,c)=>{r=r.concat(c)}),r}})}function $o(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Vk())(n._repo,n._path):n}function Zk(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=mh(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function Jk(){return qk++}function eD(n,e,t){const i=e._path,r=Gu(n,e),o=ZE(n,t),c=n.listenProvider_.startListening($o(e),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)Y(!gs(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((p,g,_)=>{if(!me(p)&&g&&gs(g))return[fh(g).query];{let y=[];return g&&(y=y.concat(YE(g).map(x=>x.query))),Tt(_,(x,E)=>{y=y.concat(E)}),y}});for(let p=0;p<f.length;++p){const g=f[p];n.listenProvider_.stopListening($o(g),Gu(n,g))}}return c}class Qm{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Qm(t)}node(){return this.node_}}class Xm{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=et(this.path_,e);return new Xm(this.syncTree_,t)}node(){return ph(this.syncTree_,this.path_)}}const tD=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},j0=function(n,e,t){if(!n||typeof n!="object")return n;if(Y(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return nD(n[".sv"],e,t);if(typeof n[".sv"]=="object")return iD(n[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},nD=function(n,e,t){if(n==="timestamp")return t.timestamp;Y(!1,"Unexpected server value: "+n)},iD=function(n,e,t){n.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&Y(!1,"Unexpected increment value: "+i);const r=e.node();if(Y(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return typeof c!="number"?i:c+i},JE=function(n,e,t,i){return Zm(e,new Xm(t,n),i)},$m=function(n,e,t){return Zm(n,new Qm(e),t)};function Zm(n,e,t){const i=n.getPriority().val(),r=j0(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const c=n,h=j0(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new pt(h,ut(r)):n}else{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new pt(r))),c.forEachChild(Xe,(h,f)=>{const p=Zm(f,e.getImmediateChild(h),t);p!==f&&(o=o.updateImmediateChild(h,p))}),o}}class Jm{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function gh(n,e){let t=e instanceof ze?e:new ze(e),i=n,r=pe(t);for(;r!==null;){const o=$s(i.node.children,r)||{children:{},childCount:0};i=new Jm(r,i,o),t=Ge(t),r=pe(t)}return i}function ca(n){return n.node.value}function eg(n,e){n.node.value=e,Zp(n)}function e1(n){return n.node.childCount>0}function sD(n){return ca(n)===void 0&&!e1(n)}function _h(n,e){Tt(n.node.children,(t,i)=>{e(new Jm(t,n,i))})}function t1(n,e,t,i){t&&e(n),_h(n,r=>{t1(r,e,!0)})}function aD(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function wl(n){return new ze(n.parent===null?n.name:wl(n.parent)+"/"+n.name)}function Zp(n){n.parent!==null&&rD(n.parent,n.name,n)}function rD(n,e,t){const i=sD(t),r=Nn(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,Zp(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,Zp(n))}const oD=/[\[\].#$\/\u0000-\u001F\u007F]/,lD=/[\[\].#$\u0000-\u001F\u007F]/,mp=10*1024*1024,tg=function(n){return typeof n=="string"&&n.length!==0&&!oD.test(n)},n1=function(n){return typeof n=="string"&&n.length!==0&&!lD.test(n)},cD=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),n1(n)},Wu=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Cm(n)||n&&typeof n=="object"&&Nn(n,".sv")},Al=function(n,e,t,i){i&&e===void 0||Rl(lh(n,"value"),e,t)},Rl=function(n,e,t){const i=t instanceof ze?new CN(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Gs(i));if(typeof e=="function")throw new Error(n+"contains a function "+Gs(i)+" with contents = "+e.toString());if(Cm(e))throw new Error(n+"contains "+e.toString()+" "+Gs(i));if(typeof e=="string"&&e.length>mp/3&&ch(e)>mp)throw new Error(n+"contains a string greater than "+mp+" utf8 bytes "+Gs(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Tt(e,(c,h)=>{if(c===".value")r=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!tg(c)))throw new Error(n+" contains an invalid key ("+c+") "+Gs(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wN(i,c),Rl(n,h,i),AN(i)}),r&&o)throw new Error(n+' contains ".value" child '+Gs(i)+" in addition to actual children.")}},uD=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=ol(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!tg(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(TN);let r=null;for(t=0;t<e.length;t++){if(i=e[t],r!==null&&mn(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},hD=function(n,e,t,i){const r=lh(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];Tt(e,(c,h)=>{const f=new ze(c);if(Rl(r,h,et(t,f)),Om(f)===".priority"&&!Wu(h))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),uD(r,o)},ng=function(n,e,t,i){if(!n1(t))throw new Error(lh(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fD=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ng(n,e,t)},yh=function(n,e){if(pe(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},dD=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!tg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!cD(t))throw new Error(lh(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class pD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vh(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();t!==null&&!Nm(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function i1(n,e,t){vh(n,t),s1(n,i=>Nm(i,e))}function yn(n,e,t){vh(n,t),s1(n,i=>mn(i,e)||mn(e,i))}function s1(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const o=r.path;e(o)?(mD(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function mD(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Yo&&Et("event: "+t.toString()),wr(i)}}}const gD="repo_interrupt",_D=25;class yD{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ju(),this.transactionQueueTree_=new Jm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vD(n,e,t){if(n.stats_=Rm(n.repoInfo_),n.forceRestClient_||QO())n.server_=new Pu(n.repoInfo_,(i,r,o,c)=>{B0(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>U0(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new gi(n.repoInfo_,e,(i,r,o,c)=>{B0(n,i,r,o,c)},i=>{U0(n,i)},i=>{bD(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=eN(n.repoInfo_,()=>new ek(n.stats_,n.server_)),n.infoData_=new QN,n.infoSyncTree_=new z0({startListening:(i,r,o,c)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=dh(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),ig(n,"connected",!1),n.serverSyncTree_=new z0({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,f)=>{const p=c(h,f);yn(n.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function a1(n){const t=n.infoData_.getNode(new ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Ml(n){return tD({timestamp:a1(n)})}function B0(n,e,t,i,r){n.dataUpdateCount++;const o=new ze(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const f=ku(t,p=>ut(p));c=Xk(n.serverSyncTree_,o,f,r)}else{const f=ut(t);c=Qk(n.serverSyncTree_,o,f,r)}else if(i){const f=ku(t,p=>ut(p));c=Wk(n.serverSyncTree_,o,f)}else{const f=ut(t);c=dh(n.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=fr(n,o)),yn(n.eventQueue_,h,c)}function U0(n,e){ig(n,"connected",e),e===!1&&ED(n)}function bD(n,e){Tt(e,(t,i)=>{ig(n,t,i)})}function ig(n,e,t){const i=new ze("/.info/"+e),r=ut(t);n.infoData_.updateSnapshot(i,r);const o=dh(n.infoSyncTree_,i,r);yn(n.eventQueue_,i,o)}function bh(n){return n.nextWriteId_++}function xD(n,e,t,i,r){Ol(n,"set",{path:e.toString(),value:t,priority:i});const o=Ml(n),c=ut(t,i),h=ph(n.serverSyncTree_,e),f=$m(c,h,o),p=bh(n),g=Gm(n.serverSyncTree_,e,f,p,!0);vh(n.eventQueue_,g),n.server_.put(e.toString(),c.val(!0),(y,x)=>{const E=y==="ok";E||Nt("set at "+e+" failed: "+y);const T=is(n.serverSyncTree_,p,!E);yn(n.eventQueue_,e,T),Jp(n,r,y,x)});const _=ag(n,e);fr(n,_),yn(n.eventQueue_,_,[])}function SD(n,e,t,i){Ol(n,"update",{path:e.toString(),value:t});let r=!0;const o=Ml(n),c={};if(Tt(t,(h,f)=>{r=!1,c[h]=JE(et(e,h),ut(f),n.serverSyncTree_,o)}),r)Et("update() called with empty data.  Don't do anything."),Jp(n,i,"ok",void 0);else{const h=bh(n),f=Gk(n.serverSyncTree_,e,c,h);vh(n.eventQueue_,f),n.server_.merge(e.toString(),t,(p,g)=>{const _=p==="ok";_||Nt("update at "+e+" failed: "+p);const y=is(n.serverSyncTree_,h,!_),x=y.length>0?fr(n,e):e;yn(n.eventQueue_,x,y),Jp(n,i,p,g)}),Tt(t,p=>{const g=ag(n,et(e,p));fr(n,g)}),yn(n.eventQueue_,e,[])}}function ED(n){Ol(n,"onDisconnectEvents");const e=Ml(n),t=ju();qp(n.onDisconnect_,Ne(),(r,o)=>{const c=JE(r,o,n.serverSyncTree_,e);PE(t,r,c)});let i=[];qp(t,Ne(),(r,o)=>{i=i.concat(dh(n.serverSyncTree_,r,o));const c=ag(n,r);fr(n,c)}),n.onDisconnect_=ju(),yn(n.eventQueue_,Ne(),i)}function TD(n,e,t){let i;pe(e._path)===".info"?i=P0(n.infoSyncTree_,e,t):i=P0(n.serverSyncTree_,e,t),i1(n.eventQueue_,e._path,i)}function CD(n,e,t){let i;pe(e._path)===".info"?i=$p(n.infoSyncTree_,e,t):i=$p(n.serverSyncTree_,e,t),i1(n.eventQueue_,e._path,i)}function wD(n){n.persistentConnection_&&n.persistentConnection_.interrupt(gD)}function Ol(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Et(t,...e)}function Jp(n,e,t,i){e&&wr(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,e(c)}})}function AD(n,e,t,i,r,o){Ol(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:rE(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=sg(n,e,void 0);c.currentInputSnapshot=h;const f=c.update(h.val());if(f===void 0)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Rl("transaction failed: Data returned ",f,c.path),c.status=0;const p=gh(n.transactionQueueTree_,e),g=ca(p)||[];g.push(c),eg(p,g);let _;typeof f=="object"&&f!==null&&Nn(f,".priority")?(_=$s(f,".priority"),Y(Wu(_),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):_=(ph(n.serverSyncTree_,e)||re.EMPTY_NODE).getPriority().val();const y=Ml(n),x=ut(f,_),E=$m(x,h,y);c.currentOutputSnapshotRaw=x,c.currentOutputSnapshotResolved=E,c.currentWriteId=bh(n);const T=Gm(n.serverSyncTree_,e,E,c.currentWriteId,c.applyLocally);yn(n.eventQueue_,e,T),xh(n,n.transactionQueueTree_)}}function sg(n,e,t){return ph(n.serverSyncTree_,e,t)||re.EMPTY_NODE}function xh(n,e=n.transactionQueueTree_){if(e||Sh(n,e),ca(e)){const t=o1(n,e);Y(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&RD(n,wl(e),t)}else e1(e)&&_h(e,t=>{xh(n,t)})}function RD(n,e,t){const i=t.map(p=>p.currentWriteId),r=sg(n,e,i);let o=r;const c=r.hash();for(let p=0;p<t.length;p++){const g=t[p];Y(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=Ft(e,g.path);o=o.updateChild(_,g.currentOutputSnapshotRaw)}const h=o.val(!0),f=e;n.server_.put(f.toString(),h,p=>{Ol(n,"transaction put response",{path:f.toString(),status:p});let g=[];if(p==="ok"){const _=[];for(let y=0;y<t.length;y++)t[y].status=2,g=g.concat(is(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&_.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();Sh(n,gh(n.transactionQueueTree_,e)),xh(n,n.transactionQueueTree_),yn(n.eventQueue_,e,g);for(let y=0;y<_.length;y++)wr(_[y])}else{if(p==="datastale")for(let _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{Nt("transaction at "+f.toString()+" failed: "+p);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=p}fr(n,e)}},c)}function fr(n,e){const t=r1(n,e),i=wl(t),r=o1(n,t);return MD(n,r,i),i}function MD(n,e,t){if(e.length===0)return;const i=[];let r=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],p=Ft(t,f.path);let g=!1,_;if(Y(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,_=f.abortReason,r=r.concat(is(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=_D)g=!0,_="maxretry",r=r.concat(is(n.serverSyncTree_,f.currentWriteId,!0));else{const y=sg(n,f.path,c);f.currentInputSnapshot=y;const x=e[h].update(y.val());if(x!==void 0){Rl("transaction failed: Data returned ",x,f.path);let E=ut(x);typeof x=="object"&&x!=null&&Nn(x,".priority")||(E=E.updatePriority(y.getPriority()));const w=f.currentWriteId,M=Ml(n),L=$m(E,y,M);f.currentOutputSnapshotRaw=E,f.currentOutputSnapshotResolved=L,f.currentWriteId=bh(n),c.splice(c.indexOf(w),1),r=r.concat(Gm(n.serverSyncTree_,f.path,L,f.currentWriteId,f.applyLocally)),r=r.concat(is(n.serverSyncTree_,w,!0))}else g=!0,_="nodata",r=r.concat(is(n.serverSyncTree_,f.currentWriteId,!0))}yn(n.eventQueue_,t,r),r=[],g&&(e[h].status=2,(function(y){setTimeout(y,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?i.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):i.push(()=>e[h].onComplete(new Error(_),!1,null))))}Sh(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)wr(i[h]);xh(n,n.transactionQueueTree_)}function r1(n,e){let t,i=n.transactionQueueTree_;for(t=pe(e);t!==null&&ca(i)===void 0;)i=gh(i,t),e=Ge(e),t=pe(e);return i}function o1(n,e){const t=[];return l1(n,e,t),t.sort((i,r)=>i.order-r.order),t}function l1(n,e,t){const i=ca(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);_h(e,r=>{l1(n,r,t)})}function Sh(n,e){const t=ca(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,eg(e,t.length>0?t:void 0)}_h(e,i=>{Sh(n,i)})}function ag(n,e){const t=wl(r1(n,e)),i=gh(n.transactionQueueTree_,e);return aD(i,r=>{gp(n,r)}),gp(n,i),t1(i,r=>{gp(n,r)}),t}function gp(n,e){const t=ca(e);if(t){const i=[];let r=[],o=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(Y(o===c-1,"All SENT items should be at beginning of queue."),o=c,t[c].status=3,t[c].abortReason="set"):(Y(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(is(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?eg(e,void 0):t.length=o+1,yn(n.eventQueue_,wl(e),r);for(let c=0;c<i.length;c++)wr(i[c])}}function OD(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function ND(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Nt(`Invalid query segment '${t}' in query '${n}'`)}return e}const H0=function(n,e){const t=kD(n),i=t.namespace;t.domain==="firebase.com"&&bi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&bi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||UO();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new vE(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new ze(t.pathString)}},kD=function(n){let e="",t="",i="",r="",o="",c=!0,h="https",f=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(h=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");g===-1&&(g=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(g,_)),g<_&&(r=OD(n.substring(g,_)));const y=ND(n.substring(Math.min(n.length,_)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")t="localhost";else if(x.split(".").length<=2)t=x;else{const E=e.indexOf(".");i=e.substring(0,E).toLowerCase(),t=e.substring(E+1),o=i}"ns"in y&&(o=y.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};const F0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",DD=(function(){let n=0;const e=[];return function(t){const i=t===n;n=t;let r;const o=new Array(8);for(r=7;r>=0;r--)o[r]=F0.charAt(t%64),t=Math.floor(t/64);Y(t===0,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)c+=F0.charAt(e[r]);return Y(c.length===20,"nextPushId: Length should be 20."),c}})();class ID{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gt(this.snapshot.exportVal())}}class LD{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class zD{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Rr{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return me(this._path)?null:Om(this._path)}get ref(){return new Ei(this._repo,this._path)}get _queryIdentifier(){const e=w0(this._queryParams),t=wm(e);return t==="{}"?"default":t}get _queryObject(){return w0(this._queryParams)}isEqual(e){if(e=_t(e),!(e instanceof Rr))return!1;const t=this._repo===e._repo,i=Nm(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+EN(this._path)}}function PD(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function rg(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Qs){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ea)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ps)throw new Error(i);if(typeof t!="string")throw new Error(r)}}else if(n.getIndex()===Xe){if(e!=null&&!Wu(e)||t!=null&&!Wu(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Y(n.getIndex()instanceof Im||n.getIndex()===LE,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function c1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ei extends Rr{constructor(e,t){super(e,t,new zm,!1)}get parent(){const e=RE(this._path);return e===null?null:new Ei(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class fl{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ze(e),i=dl(this.ref,e);return new fl(this._node.getChild(t),i,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new fl(r,dl(this.ref,i),Xe)))}hasChild(e){const t=new ze(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Bn(n,e){return n=_t(n),n._checkNotDeleted("ref"),e!==void 0?dl(n._root,e):n._root}function dl(n,e){return n=_t(n),pe(n._path)===null?fD("child","path",e):ng("child","path",e),new Ei(n._repo,et(n._path,e))}function jD(n,e){n=_t(n),yh("push",n._path),Al("push",e,n._path,!0);const t=a1(n._repo),i=DD(t),r=dl(n,i),o=dl(n,i);let c;return e!=null?c=og(o,e).then(()=>o):c=Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}function u1(n){return yh("remove",n._path),og(n,null)}function og(n,e){n=_t(n),yh("set",n._path),Al("set",e,n._path,!1);const t=new Sr;return xD(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function BD(n,e){hD("update",e,n._path);const t=new Sr;return SD(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class lg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new ID("value",this,new fl(e.snapshotNode,new Ei(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new LD(this,e,t):null}matches(e){return e instanceof lg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function UD(n,e,t,i,r){const o=new zD(t,void 0),c=new lg(o);return TD(n._repo,n,c),()=>CD(n._repo,n,c)}function dr(n,e,t,i){return UD(n,"value",e)}class Eh{}class HD extends Eh{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Al("endAt",this._value,e._path,!0);const t=YN(e._queryParams,this._value,this._key);if(c1(t),rg(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rr(e._repo,e._path,t,e._orderByCalled)}}class FD extends Eh{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Al("startAt",this._value,e._path,!0);const t=WN(e._queryParams,this._value,this._key);if(c1(t),rg(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Rr(e._repo,e._path,t,e._orderByCalled)}}class VD extends Eh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){PD(e,"orderByChild");const t=new ze(this._path);if(me(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Im(t),r=KN(e._queryParams,i);return rg(r),new Rr(e._repo,e._path,r,!0)}}function qD(n){return ng("orderByChild","path",n),new VD(n)}class GD extends Eh{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Al("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new HD(this._value,this._key)._apply(new FD(this._value,this._key)._apply(e))}}function WD(n,e){return new GD(n,e)}function YD(n,...e){let t=_t(n);for(const i of e)t=i._apply(t);return t}zk(Ei);Fk(Ei);const KD="FIREBASE_DATABASE_EMULATOR_HOST",em={};let QD=!1;function XD(n,e,t,i){const r=e.lastIndexOf(":"),o=e.substring(0,r),c=Er(o);n.repoInfo_=new vE(e,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function $D(n,e,t,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||bi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Et("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=H0(o,r),h=c.repoInfo,f;typeof process<"u"&&l0&&(f=l0[KD]),f?(o=`http://${f}?ns=${h.namespace}`,c=H0(o,r),h=c.repoInfo):c.repoInfo.secure;const p=new $O(n.name,n.options,e);dD("Invalid Firebase Database URL",c),me(c.path)||bi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=JD(h,n,p,new XO(n,t));return new e2(g,n)}function ZD(n,e){const t=em[e];(!t||t[n.key]!==n)&&bi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),wD(n),delete t[n.key]}function JD(n,e,t,i){let r=em[e.name];r||(r={},em[e.name]=r);let o=r[n.toURLString()];return o&&bi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new yD(n,QD,t,i),r[n.toURLString()]=o,o}class e2{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ei(this._repo,Ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&bi("Cannot call "+e+" on a deleted database.")}}function t2(n=tE(),e){const t=Tm(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=aM("database");i&&n2(t,...i)}return t}function n2(n,e,t,i={}){n=_t(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&Zs(i,o.repoInfo_.emulatorOptions))return;bi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&bi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new bu(bu.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:rM(i.mockUserToken,n.app.options.projectId);c=new bu(h)}Er(e)&&(KS(e),QS("Database",!0)),XD(o,r,i,c)}function i2(n){LO(Cr),lr(new Js("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return $D(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),cs(c0,u0,n),cs(c0,u0,"esm2020")}class s2{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function a2(n,e,t){if(n=_t(n),yh("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=!0,r=new Sr,o=(h,f,p)=>{let g=null;h?r.reject(h):(g=new fl(p,new Ei(n._repo,n._path),Xe),r.resolve(new s2(f,g)))},c=dr(n,()=>{});return AD(n._repo,n._path,e,o,c,i),r.promise}gi.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};gi.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};i2();function h1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r2=h1,f1=new Sl("auth","Firebase",h1());const Yu=new Sm("@firebase/auth");function o2(n,...e){Yu.logLevel<=Ue.WARN&&Yu.warn(`Auth (${Cr}): ${n}`,...e)}function xu(n,...e){Yu.logLevel<=Ue.ERROR&&Yu.error(`Auth (${Cr}): ${n}`,...e)}function On(n,...e){throw cg(n,...e)}function Hn(n,...e){return cg(n,...e)}function d1(n,e,t){const i={...r2(),[e]:t};return new Sl("auth","Firebase",i).create(e,{appName:n.name})}function _i(n){return d1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return f1.create(n,...e)}function ae(n,e,...t){if(!n)throw cg(e,...t)}function di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xu(e),new Error(e)}function xi(n,e){n||di(e)}function tm(){return typeof self<"u"&&self.location?.href||""}function l2(){return V0()==="http:"||V0()==="https:"}function V0(){return typeof self<"u"&&self.location?.protocol||null}function c2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l2()||uM()||"connection"in navigator)?navigator.onLine:!0}function u2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Nl{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=xm()||XS()}get(){return c2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ug(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class p1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const f2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d2=new Nl(3e4,6e4);function vs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ti(n,e,t,i,r={}){return m1(n,r,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=Tr({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...o};return cM()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Er(n.emulatorConfig.host)&&(p.credentials="include"),p1.fetch()(await g1(n,n.config.apiHost,t,h),p)})}async function m1(n,e,t){n._canInitEmulator=!1;const i={...h2,...e};try{const r=new m2(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw iu(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw iu(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw iu(n,"user-disabled",c);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw d1(n,g,p);On(n,g)}}catch(r){if(r instanceof ys)throw r;On(n,"network-request-failed",{message:String(r)})}}async function kl(n,e,t,i,r={}){const o=await Ti(n,e,t,i,r);return"mfaPendingCredential"in o&&On(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function g1(n,e,t,i){const r=`${e}${t}?${i}`,o=n,c=o.config.emulator?ug(n.config,r):`${n.config.apiScheme}://${r}`;return f2.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function p2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Hn(this.auth,"network-request-failed")),d2.get())})}}function iu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Hn(n,e,i);return r.customData._tokenResponse=t,r}function q0(n){return n!==void 0&&n.enterprise!==void 0}class g2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return p2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _2(n,e){return Ti(n,"GET","/v2/recaptchaConfig",vs(n,e))}async function y2(n,e){return Ti(n,"POST","/v1/accounts:delete",e)}async function Ku(n,e){return Ti(n,"POST","/v1/accounts:lookup",e)}function Zo(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v2(n,e=!1){const t=_t(n),i=await t.getIdToken(e),r=hg(i);ae(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Zo(_p(r.auth_time)),issuedAtTime:Zo(_p(r.iat)),expirationTime:Zo(_p(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function _p(n){return Number(n)*1e3}function hg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Nu(t);return r?JSON.parse(r):(xu("Failed to decode base64 JWT payload"),null)}catch(r){return xu("Caught error parsing JWT payload as JSON",r?.toString()),null}}function G0(n){const e=hg(n);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pr(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ys&&b2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function b2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class x2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zo(this.lastLoginAt),this.creationTime=Zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qu(n){const e=n.auth,t=await n.getIdToken(),i=await pr(n,Ku(e,{idToken:t}));ae(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?_1(r.providerUserInfo):[],c=E2(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,p=h?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new nm(r.createdAt,r.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function S2(n){const e=_t(n);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E2(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function _1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function T2(n,e){const t=await m1(n,{},async()=>{const i=Tr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await g1(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Er(n.emulatorConfig.host)&&(f.credentials="include"),p1.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function C2(n,e){return Ti(n,"POST","/v2/accounts:revokeToken",vs(n,e))}class ir{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const t=G0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await T2(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,c=new ir;return i&&(ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(ae(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(ae(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ir,this.toJSON())}_performRefresh(){return di("not implemented")}}function Xi(n,e){ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wn{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new nm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await pr(this,this.stsTokenManager.getToken(this.auth,e));return ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return v2(this,e)}reload(){return S2(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Qu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await pr(this,y2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:_,emailVerified:y,isAnonymous:x,providerData:E,stsTokenManager:T}=t;ae(_&&T,e,"internal-error");const w=ir.fromJSON(this.name,T);ae(typeof _=="string",e,"internal-error"),Xi(i,e.name),Xi(r,e.name),ae(typeof y=="boolean",e,"internal-error"),ae(typeof x=="boolean",e,"internal-error"),Xi(o,e.name),Xi(c,e.name),Xi(h,e.name),Xi(f,e.name),Xi(p,e.name),Xi(g,e.name);const M=new wn({uid:_,auth:e,email:r,emailVerified:y,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:w,createdAt:p,lastLoginAt:g});return E&&Array.isArray(E)&&(M.providerData=E.map(L=>({...L}))),f&&(M._redirectEventId=f),M}static async _fromIdTokenResponse(e,t,i=!1){const r=new ir;r.updateFromServerResponse(t);const o=new wn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Qu(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];ae(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?_1(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new ir;h.updateFromIdToken(i);const f=new wn({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new nm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,p),f}}const W0=new Map;function pi(n){xi(n instanceof Function,"Expected a class definition");let e=W0.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,W0.set(n,e),e)}class y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}y1.type="NONE";const Y0=y1;function Su(n,e,t){return`firebase:${n}:${e}:${t}`}class sr{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Su(this.userKey,r.apiKey,o),this.fullPersistenceKey=Su("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ku(this.auth,{idToken:e}).catch(()=>{});return t?wn._fromGetAccountInfoResponse(this.auth,t,e):null}return wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new sr(pi(Y0),e,i);const r=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=r[0]||pi(Y0);const c=Su(i,e.config.apiKey,e.name);let h=null;for(const p of t)try{const g=await p._get(c);if(g){let _;if(typeof g=="string"){const y=await Ku(e,{idToken:g}).catch(()=>{});if(!y)break;_=await wn._fromGetAccountInfoResponse(e,y,g)}else _=wn._fromJSON(e,g);p!==o&&(h=_),o=p;break}}catch{}const f=r.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new sr(o,e,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new sr(o,e,i))}}function K0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T1(e))return"Blackberry";if(C1(e))return"Webos";if(b1(e))return"Safari";if((e.includes("chrome/")||x1(e))&&!e.includes("edge/"))return"Chrome";if(E1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function v1(n=kt()){return/firefox\//i.test(n)}function b1(n=kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x1(n=kt()){return/crios\//i.test(n)}function S1(n=kt()){return/iemobile/i.test(n)}function E1(n=kt()){return/android/i.test(n)}function T1(n=kt()){return/blackberry/i.test(n)}function C1(n=kt()){return/webos/i.test(n)}function fg(n=kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function w2(n=kt()){return fg(n)&&!!window.navigator?.standalone}function A2(){return hM()&&document.documentMode===10}function w1(n=kt()){return fg(n)||E1(n)||C1(n)||T1(n)||/windows phone/i.test(n)||S1(n)}function A1(n,e=[]){let t;switch(n){case"Browser":t=K0(kt());break;case"Worker":t=`${K0(kt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cr}/${i}`}class R2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,h)=>{try{const f=e(o);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function M2(n,e={}){return Ti(n,"GET","/v2/passwordPolicy",vs(n,e))}const O2=6;class N2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??O2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class k2{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new R2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ku(this,{idToken:e}),i=await wn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(_i(this));const t=e?_t(e):null;return t&&ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M2(this),t=new N2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await C2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pi(e)||this._popupRedirectResolver;ae(t,this,"argument-error"),this.redirectPersistenceManager=await sr.create(this,[pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,r);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&o2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(n){return _t(n)}class Q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=xM(t=>this.observer=t)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D2(n){Th=n}function R1(n){return Th.loadJS(n)}function I2(){return Th.recaptchaEnterpriseScript}function L2(){return Th.gapiScript}function z2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class P2{constructor(){this.enterprise=new j2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class j2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const B2="recaptcha-enterprise",M1="NO_RECAPTCHA";class U2{constructor(e){this.type=B2,this.auth=ua(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{_2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new g2(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;q0(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(M1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new P2().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!t&&q0(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=I2();f.length!==0&&(f+=h),R1(f).then(()=>{r(h,o,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function X0(n,e,t,i=!1,r=!1){const o=new U2(n);let c;if(r)c=M1;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function im(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await X0(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await X0(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function H2(n,e){const t=Tm(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(Zs(o,e??{}))return r;On(r,"already-initialized")}return t.initialize({options:e})}function F2(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(pi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function V2(n,e,t){const i=ua(n);ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=O1(e),{host:c,port:h}=q2(e),f=h===null?"":`:${h}`,p={url:`${o}//${c}${f}/`},g=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ae(Zs(p,i.config.emulator)&&Zs(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Er(c)?(KS(`${o}//${c}${f}`),QS("Auth",!0)):G2()}function O1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function q2(n){const e=O1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:$0(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:$0(c)}}}function $0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function G2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class dg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function W2(n,e){return Ti(n,"POST","/v1/accounts:signUp",e)}async function Y2(n,e){return kl(n,"POST","/v1/accounts:signInWithPassword",vs(n,e))}async function K2(n,e){return kl(n,"POST","/v1/accounts:signInWithEmailLink",vs(n,e))}async function Q2(n,e){return kl(n,"POST","/v1/accounts:signInWithEmailLink",vs(n,e))}class pl extends dg{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new pl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new pl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,t,"signInWithPassword",Y2);case"emailLink":return K2(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,i,"signUpPassword",W2);case"emailLink":return Q2(e,{idToken:t,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ar(n,e){return kl(n,"POST","/v1/accounts:signInWithIdp",vs(n,e))}const X2="http://localhost";class sa extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):On("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...o}=t;if(!i||!r)return null;const c=new sa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ar(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ar(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ar(e,t)}buildRequest(){const e={requestUri:X2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tr(t)}return e}}function $2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z2(n){const e=Ho(Fo(n)).link,t=e?Ho(Fo(e)).deep_link_id:null,i=Ho(Fo(n)).deep_link_id;return(i?Ho(Fo(i)).link:null)||i||t||e||n}class pg{constructor(e){const t=Ho(Fo(e)),i=t.apiKey??null,r=t.oobCode??null,o=$2(t.mode??null);ae(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Z2(e);try{return new pg(t)}catch{return null}}}class Mr{constructor(){this.providerId=Mr.PROVIDER_ID}static credential(e,t){return pl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=pg.parseLink(t);return ae(i,"argument-error"),pl._fromEmailAndCode(e,i.code,i.tenantId)}}Mr.PROVIDER_ID="password";Mr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class N1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dl extends N1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zi extends Dl{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";class Ji extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sa._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ji.credential(t,i)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class es extends Dl{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends Dl{constructor(){super("twitter.com")}static credential(e,t){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ts.credential(t,i)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";async function J2(n,e){return kl(n,"POST","/v1/accounts:signUp",vs(n,e))}class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await wn._fromIdTokenResponse(e,i,r),c=Z0(i);return new aa({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=Z0(i);return new aa({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function Z0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Xu extends ys{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Xu(e,t,i,r)}}function k1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(n,o,e,i):o})}async function eI(n,e,t=!1){const i=await pr(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return aa._forOperation(n,"link",i)}async function tI(n,e,t=!1){const{auth:i}=n;if(pn(i.app))return Promise.reject(_i(i));const r="reauthenticate";try{const o=await pr(n,k1(i,r,e,n),t);ae(o.idToken,i,"internal-error");const c=hg(o.idToken);ae(c,i,"internal-error");const{sub:h}=c;return ae(n.uid===h,i,"user-mismatch"),aa._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&On(i,"user-mismatch"),o}}async function D1(n,e,t=!1){if(pn(n.app))return Promise.reject(_i(n));const i="signIn",r=await k1(n,i,e),o=await aa._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function nI(n,e){return D1(ua(n),e)}async function I1(n){const e=ua(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iI(n,e,t){if(pn(n.app))return Promise.reject(_i(n));const i=ua(n),c=await im(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&I1(n),f}),h=await aa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function sI(n,e,t){return pn(n.app)?Promise.reject(_i(n)):nI(_t(n),Mr.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&I1(n),i})}async function aI(n,e){return Ti(n,"POST","/v1/accounts:update",e)}async function rI(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=_t(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await pr(i,aI(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function oI(n,e,t,i){return _t(n).onIdTokenChanged(e,t,i)}function lI(n,e,t){return _t(n).beforeAuthStateChanged(e,t)}function cI(n,e,t,i){return _t(n).onAuthStateChanged(e,t,i)}function uI(n){return _t(n).signOut()}const $u="__sak";class L1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hI=1e3,fI=10;class z1 extends L1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);A2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,fI):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},hI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}z1.type="LOCAL";const dI=z1;class P1 extends L1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}P1.type="SESSION";const j1=P1;function pI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Ch(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,c=this.handlersMap[r];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async p=>p(t.origin,o)),f=await pI(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function mg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class mI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const p=mg("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const y=_;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(y.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Fn(){return window}function gI(n){Fn().location.href=n}function B1(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function _I(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yI(){return navigator?.serviceWorker?.controller||null}function vI(){return B1()?self:null}const U1="firebaseLocalStorageDb",bI=1,Zu="firebaseLocalStorage",H1="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wh(n,e){return n.transaction([Zu],e?"readwrite":"readonly").objectStore(Zu)}function xI(){const n=indexedDB.deleteDatabase(U1);return new Il(n).toPromise()}function sm(){const n=indexedDB.open(U1,bI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zu,{keyPath:H1})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Zu)?e(i):(i.close(),await xI(),e(await sm()))})})}async function J0(n,e,t){const i=wh(n,!0).put({[H1]:e,value:t});return new Il(i).toPromise()}async function SI(n,e){const t=wh(n,!1).get(e),i=await new Il(t).toPromise();return i===void 0?null:i.value}function ex(n,e){const t=wh(n,!0).delete(e);return new Il(t).toPromise()}const EI=800,TI=3;class F1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>TI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(vI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _I(),!this.activeServiceWorker)return;this.sender=new mI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await J0(e,$u,"1"),await ex(e,$u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>J0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>SI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ex(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=wh(r,!1).getAll();return new Il(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F1.type="LOCAL";const CI=F1;new Nl(3e4,6e4);function wI(n,e){return e?pi(e):(ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class gg extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ar(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ar(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ar(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AI(n){return D1(n.auth,new gg(n),n.bypassAuthState)}function RI(n){const{auth:e,user:t}=n;return ae(t,e,"internal-error"),tI(t,new gg(n),n.bypassAuthState)}async function MI(n){const{auth:e,user:t}=n;return ae(t,e,"internal-error"),eI(t,new gg(n),n.bypassAuthState)}class V1{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AI;case"linkViaPopup":case"linkViaRedirect":return MI;case"reauthViaPopup":case"reauthViaRedirect":return RI;default:On(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OI=new Nl(2e3,1e4);class Ja extends V1{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OI.get())};e()}}Ja.currentPopupAction=null;const NI="pendingRedirect",Eu=new Map;class kI extends V1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Eu.get(this.auth._key());if(!e){try{const i=await DI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Eu.set(this.auth._key(),e)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DI(n,e){const t=zI(e),i=LI(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function II(n,e){Eu.set(n._key(),e)}function LI(n){return pi(n._redirectPersistence)}function zI(n){return Su(NI,n.config.apiKey,n.name)}async function PI(n,e,t=!1){if(pn(n.app))return Promise.reject(_i(n));const i=ua(n),r=wI(i,e),c=await new kI(i,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const jI=600*1e3;class BI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!q1(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Hn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jI&&this.cachedEventUids.clear(),this.cachedEventUids.has(tx(e))}saveEventToCache(e){this.cachedEventUids.add(tx(e)),this.lastProcessedEventTime=Date.now()}}function tx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function q1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function UI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q1(n);default:return!1}}async function HI(n,e={}){return Ti(n,"GET","/v1/projects",e)}const FI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VI=/^https?/;async function qI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await HI(n);for(const t of e)try{if(GI(t))return}catch{}On(n,"unauthorized-domain")}function GI(n){const e=tm(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!VI.test(t))return!1;if(FI.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const WI=new Nl(3e4,6e4);function nx(){const n=Fn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function YI(n){return new Promise((e,t)=>{function i(){nx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nx(),t(Hn(n,"network-request-failed"))},timeout:WI.get()})}if(Fn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fn().gapi?.load)i();else{const r=z2("iframefcb");return Fn()[r]=()=>{gapi.load?i():t(Hn(n,"network-request-failed"))},R1(`${L2()}?onload=${r}`).catch(o=>t(o))}}).catch(e=>{throw Tu=null,e})}let Tu=null;function KI(n){return Tu=Tu||YI(n),Tu}const QI=new Nl(5e3,15e3),XI="__/auth/iframe",$I="emulator/auth/iframe",ZI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eL(n){const e=n.config;ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ug(e,$I):`https://${n.config.authDomain}/${XI}`,i={apiKey:e.apiKey,appName:n.name,v:Cr},r=JI.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Tr(i).slice(1)}`}async function tL(n){const e=await KI(n),t=Fn().gapi;return ae(t,n,"internal-error"),e.open({where:document.body,url:eL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZI,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Hn(n,"network-request-failed"),h=Fn().setTimeout(()=>{o(c)},QI.get());function f(){Fn().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}const nL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iL=500,sL=600,aL="_blank",rL="http://localhost";class ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oL(n,e,t,i=iL,r=sL){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...nL,width:i.toString(),height:r.toString(),top:o,left:c},p=kt().toLowerCase();t&&(h=x1(p)?aL:t),v1(p)&&(e=e||rL,f.scrollbars="yes");const g=Object.entries(f).reduce((y,[x,E])=>`${y}${x}=${E},`,"");if(w2(p)&&h!=="_self")return lL(e||"",h),new ix(null);const _=window.open(e||"",h,g);ae(_,n,"popup-blocked");try{_.focus()}catch{}return new ix(_)}function lL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const cL="__/auth/handler",uL="emulator/auth/handler",hL=encodeURIComponent("fac");async function sx(n,e,t,i,r,o){ae(n.config.authDomain,n,"auth-domain-config-required"),ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Cr,eventId:r};if(e instanceof N1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Lp(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))c[g]=_}if(e instanceof Dl){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),p=f?`#${hL}=${encodeURIComponent(f)}`:"";return`${fL(n)}?${Tr(h).slice(1)}${p}`}function fL({config:n}){return n.emulator?ug(n,uL):`https://${n.authDomain}/${cL}`}const yp="webStorageSupport";class dL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j1,this._completeRedirectFn=PI,this._overrideRedirectResult=II}async _openPopup(e,t,i,r){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await sx(e,t,i,tm(),r);return oL(e,o,mg())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await sx(e,t,i,tm(),r);return gI(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(xi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await tL(e),i=new BI(e);return t.register("authEvent",r=>(ae(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yp,{type:yp},r=>{const o=r?.[0]?.[yp];o!==void 0&&t(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return w1()||b1()||fg()}}const pL=dL;var ax="@firebase/auth",rx="1.12.0";class mL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _L(n){lr(new Js("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A1(n)},p=new k2(i,r,o,f);return F2(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),lr(new Js("auth-internal",e=>{const t=ua(e.getProvider("auth").getImmediate());return(i=>new mL(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(ax,rx,gL(n)),cs(ax,rx,"esm2020")}const yL=300,vL=YS("authIdTokenMaxAge")||yL;let ox=null;const bL=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>vL)return;const r=t?.token;ox!==r&&(ox=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function xL(n=tE()){const e=Tm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=H2(n,{popupRedirectResolver:pL,persistence:[CI,dI,j1]}),i=YS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=bL(o.toString());lI(t,c,()=>c(t.currentUser)),oI(t,h=>c(h))}}const r=GS("auth");return r&&V2(t,`http://${r}`),t}function SL(){return document.getElementsByTagName("head")?.[0]??document}D2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Hn("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",SL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_L("Browser");const EL={apiKey:"AIzaSyCy8RnpwpL0RdjfaU690j7mKAzr1fiWFXk",authDomain:"timos-barista-bar.firebaseapp.com",databaseURL:"https://timos-barista-bar-default-rtdb.europe-west1.firebasedatabase.app",projectId:"timos-barista-bar",storageBucket:"timos-barista-bar.firebasestorage.app",messagingSenderId:"94308664114",appId:"1:94308664114:web:13ace1464e7b3db9054d2b"},G1=eE(EL),Un=t2(G1),mr=xL(G1);function TL({isOpen:n,onClose:e}){if(!n)return null;const[t,i]=N.useState(!1),[r,o]=N.useState(""),[c,h]=N.useState(""),[f,p]=N.useState(""),[g,_]=N.useState(""),y=async x=>{x.preventDefault(),_("");try{if(t){if(!f){_("Bitte einen Namen eingeben!");return}const E=await iI(mr,r,c);await rI(E.user,{displayName:f}),e()}else await sI(mr,r,c),e()}catch(E){console.error(E),E.code==="auth/invalid-credential"?_("Falsches Passwort oder Email."):E.code==="auth/email-already-in-use"?_("Email wird schon benutzt."):E.code==="auth/weak-password"?_("Passwort muss mind. 6 Zeichen haben."):_(E.message)}};return b.jsx("div",{className:"modal-overlay show",style:{display:"flex",zIndex:1e4},children:b.jsxs("div",{className:"modal-box",children:[b.jsx("h2",{className:"modal-title",children:t?"Konto erstellen":"Einloggen"}),b.jsxs("form",{onSubmit:y,style:{display:"flex",flexDirection:"column",gap:"15px"},children:[t&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Dein Name"}),b.jsx("input",{type:"text",className:"modal-input",placeholder:"z.B. Timo",value:f,onChange:x=>p(x.target.value)})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsx("input",{type:"email",className:"modal-input",placeholder:"name@beispiel.de",value:r,onChange:x=>o(x.target.value),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Passwort"}),b.jsx("input",{type:"password",className:"modal-input",placeholder:"******",value:c,onChange:x=>h(x.target.value),required:!0})]}),g&&b.jsxs("div",{style:{color:"#ef4444",fontSize:"0.9rem"},children:[" ",g]}),b.jsx("button",{type:"submit",className:"modal-btn",children:t?"Registrieren":"Anmelden"})]}),b.jsx("div",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#a09085",cursor:"pointer",textDecoration:"underline"},onClick:()=>{i(!t),_("")},children:t?"Zurck zum Login":"Noch kein Konto? Jetzt registrieren!"}),b.jsx("div",{style:{marginTop:"15px",fontSize:"0.8rem",color:"#666",cursor:"pointer"},onClick:e,children:"Abbrechen"})]})})}function CL({isOpen:n,onClose:e,onOpenReceipt:t}){const[i,r]=N.useState([]),[o,c]=N.useState(!0);return N.useEffect(()=>{if(n&&mr.currentUser){c(!0);const h=Bn(Un,"orders"),f=YD(h,qD("uid"),WD(mr.currentUser.uid)),p=dr(f,g=>{const _=g.val();if(_){const y=Object.entries(_).map(([x,E])=>({id:x,...E})).sort((x,E)=>E.timestamp-x.timestamp);r(y)}else r([]);c(!1)});return()=>p()}},[n]),n?b.jsx("div",{className:"modal-overlay show",style:{display:"flex"},children:b.jsxs("div",{className:"modal-box",style:{maxHeight:"80vh",overflowY:"auto"},children:[b.jsx("h2",{className:"modal-title",children:"Deine Bestellungen"}),b.jsx("div",{className:"history-container",children:o?b.jsx("div",{style:{textAlign:"center",color:"#888"},children:"Lade..."}):i.length===0?b.jsx("div",{style:{textAlign:"center",color:"#888"},children:"Noch keine Bestellungen. "}):i.map(h=>b.jsxs("div",{className:"menu-item",onClick:()=>t(h),style:{display:"flex",justifyContent:"space-between",background:"rgba(255,255,255,0.05)",margin:"5px 0",padding:"10px",borderRadius:"8px",border:"none",cursor:"pointer"},children:[b.jsxs("div",{children:[b.jsx("div",{style:{fontWeight:"bold",color:"#fff"},children:h.coffee}),b.jsx("div",{style:{fontSize:"0.75rem",color:"#888"},children:h.dateString}),b.jsx("div",{style:{fontSize:"0.7rem",color:"#d4b483"},children:h.details&&h.details.join(", ")})]}),b.jsx("div",{style:{alignSelf:"center",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"10px"},children:b.jsx("span",{style:{fontSize:"1.5rem"},children:""})})]},h.id))}),b.jsx("button",{className:"modal-btn",onClick:e,style:{marginTop:"20px",background:"#444"},children:"Schlieen"})]})}):null}var vp,lx;function wL(){if(lx)return vp;lx=1;var n={linear:function(e,t,i,r){var o=i-t;return o*e/r+t},easeInQuad:function(e,t,i,r){var o=i-t;return o*(e/=r)*e+t},easeOutQuad:function(e,t,i,r){var o=i-t;return-o*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,i,r){var o=i-t;return(e/=r/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,r){var o=i-t;return o*(e/=r)*e*e+t},easeOutCubic:function(e,t,i,r){var o=i-t;return o*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,r){var o=i-t;return(e/=r/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,r){var o=i-t;return o*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,i,r){var o=i-t;return-o*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,r){var o=i-t;return(e/=r/2)<1?o/2*e*e*e*e+t:-o/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,r){var o=i-t;return o*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,i,r){var o=i-t;return o*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,r){var o=i-t;return(e/=r/2)<1?o/2*e*e*e*e*e+t:o/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,r){var o=i-t;return-o*Math.cos(e/r*(Math.PI/2))+o+t},easeOutSine:function(e,t,i,r){var o=i-t;return o*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,i,r){var o=i-t;return-o/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,i,r){var o=i-t;return e==0?t:o*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,i,r){var o=i-t;return e==r?t+o:o*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,i,r){var o=i-t;return e===0?t:e===r?t+o:(e/=r/2)<1?o/2*Math.pow(2,10*(e-1))+t:o/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,i,r){var o=i-t;return-o*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,i,r){var o=i-t;return o*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,i,r){var o=i-t;return(e/=r/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+t:o/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,r){var o=i-t,c,h,f;return f=1.70158,h=0,c=o,e===0?t:(e/=r)===1?t+o:(h||(h=r*.3),c<Math.abs(o)?(c=o,f=h/4):f=h/(2*Math.PI)*Math.asin(o/c),-(c*Math.pow(2,10*(e-=1))*Math.sin((e*r-f)*(2*Math.PI)/h))+t)},easeOutElastic:function(e,t,i,r){var o=i-t,c,h,f;return f=1.70158,h=0,c=o,e===0?t:(e/=r)===1?t+o:(h||(h=r*.3),c<Math.abs(o)?(c=o,f=h/4):f=h/(2*Math.PI)*Math.asin(o/c),c*Math.pow(2,-10*e)*Math.sin((e*r-f)*(2*Math.PI)/h)+o+t)},easeInOutElastic:function(e,t,i,r){var o=i-t,c,h,f;return f=1.70158,h=0,c=o,e===0?t:(e/=r/2)===2?t+o:(h||(h=r*(.3*1.5)),c<Math.abs(o)?(c=o,f=h/4):f=h/(2*Math.PI)*Math.asin(o/c),e<1?-.5*(c*Math.pow(2,10*(e-=1))*Math.sin((e*r-f)*(2*Math.PI)/h))+t:c*Math.pow(2,-10*(e-=1))*Math.sin((e*r-f)*(2*Math.PI)/h)*.5+o+t)},easeInBack:function(e,t,i,r,o){var c=i-t;return o===void 0&&(o=1.70158),c*(e/=r)*e*((o+1)*e-o)+t},easeOutBack:function(e,t,i,r,o){var c=i-t;return o===void 0&&(o=1.70158),c*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInOutBack:function(e,t,i,r,o){var c=i-t;return o===void 0&&(o=1.70158),(e/=r/2)<1?c/2*(e*e*(((o*=1.525)+1)*e-o))+t:c/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+t},easeInBounce:function(e,t,i,r){var o=i-t,c;return c=n.easeOutBounce(r-e,0,o,r),o-c+t},easeOutBounce:function(e,t,i,r){var o=i-t;return(e/=r)<1/2.75?o*(7.5625*e*e)+t:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+t:o*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,i,r){var o=i-t,c;return e<r/2?(c=n.easeInBounce(e*2,0,o,r),c*.5+t):(c=n.easeOutBounce(e*2-r,0,o,r),c*.5+o*.5+t)}};return vp=n,vp}var AL=wL();function RL(n){return n*Math.PI/180}function en(n,e){return n+Math.random()*(e-n)}function ML(n,e){return Math.floor(n+Math.random()*(e-n+1))}var Jo;(function(n){n[n.Circle=0]="Circle",n[n.Square=1]="Square",n[n.Strip=2]="Strip"})(Jo||(Jo={}));var $i;(function(n){n[n.Positive=1]="Positive",n[n.Negative=-1]="Negative"})($i||($i={}));const OL=1e3/60;class NL{constructor(e,t,i,r){this.getOptions=t;const{colors:o,initialVelocityX:c,initialVelocityY:h}=this.getOptions();this.context=e,this.x=i,this.y=r,this.w=en(5,20),this.h=en(5,20),this.radius=en(5,10),this.vx=typeof c=="number"?en(-c,c):en(c.min,c.max),this.vy=typeof h=="number"?en(-h,0):en(h.min,h.max),this.shape=ML(0,2),this.angle=RL(en(0,360)),this.angularSpin=en(-.2,.2),this.color=o[Math.floor(Math.random()*o.length)],this.rotateY=en(0,1),this.rotationDirection=en(0,1)?$i.Positive:$i.Negative}update(e){const{gravity:t,wind:i,friction:r,opacity:o,drawShape:c}=this.getOptions(),h=e/OL;this.x+=this.vx*h,this.y+=this.vy*h,this.vy+=t*h,this.vx+=i*h,this.vx*=r**h,this.vy*=r**h,this.rotateY>=1&&this.rotationDirection===$i.Positive?this.rotationDirection=$i.Negative:this.rotateY<=-1&&this.rotationDirection===$i.Negative&&(this.rotationDirection=$i.Positive);const f=.1*this.rotationDirection*h;if(this.rotateY+=f,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,c&&typeof c=="function")c.call(this,this.context);else switch(this.shape){case Jo.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Jo.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Jo.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class kL{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=r=>{this.particles.splice(r,1)},this.getParticle=()=>{const r=en(this.x,this.w+this.x),o=en(this.y,this.h+this.y);return new NL(this.context,this.getOptions,r,o)},this.animate=r=>{const{canvas:o,context:c,particlesGenerated:h,lastNumberOfPieces:f}=this,{run:p,recycle:g,numberOfPieces:_,debug:y,tweenFunction:x,tweenDuration:E}=this.getOptions();if(!p)return!1;const T=this.particles.length,w=g?T:h;if(w<_){f!==_&&(this.tweenProgress=0,this.tweenFrom=w,this.lastNumberOfPieces=_),this.tweenProgress=Math.min(E,Math.max(0,this.tweenProgress+r));const M=x(this.tweenProgress,this.tweenFrom,_,E),L=Math.round(M-w);for(let B=0;B<L;B++)this.particles.push(this.getParticle());this.particlesGenerated+=L}y&&(c.font="12px sans-serif",c.fillStyle="#333",c.textAlign="right",c.fillText(`Particles: ${T}`,o.width-10,o.height-20));for(let M=this.particles.length-1;M>=0;M--){const L=this.particles[M];L.update(r),(L.y>o.height||L.y<-100||L.x>o.width+100||L.x<-100)&&(g&&w<=_?this.particles[M]=this.getParticle():this.removeParticleAt(M))}return T>0||w<_},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=t}}const _g={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:AL.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class DL{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=r=>{const o={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...o,..._g,...r},Object.assign(this,r.confettiSource)},this.update=(r=0)=>{const{options:{run:o,onConfettiComplete:c,frameRate:h},canvas:f,context:p}=this,g=Math.min(r-this.lastFrameTime,50);if(h&&g<1e3/h){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=r-(h?g%h:0),o&&(p.fillStyle="white",p.clearRect(0,0,f.width,f.height)),this.generator.animate(g)?this.rafId=requestAnimationFrame(this.update):(c&&typeof c=="function"&&this.generator.particlesGenerated>0&&c.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new kL(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){const t=this._options?.run,i=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&t===!1&&this.update()}}const IL=Ru.createRef();class yg extends Ru.Component{constructor(e){super(e),this.canvas=Ru.createRef(),this.canvas=e.canvasRef||IL}componentDidMount(){if(this.canvas.current){const e=bp(this.props)[0];this.confetti=new DL(this.canvas.current,e)}}componentDidUpdate(){const e=bp(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=bp(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return b.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:i})}}yg.defaultProps={..._g};yg.displayName="ReactConfetti";function bp(n){const e={},t={},i={},r=[...Object.keys(_g),"confettiSource","drawShape","onConfettiComplete","frameRate"],o=["canvasRef"];for(const c in n){const h=n[c];r.includes(c)?e[c]=h:o.includes(c)?o[c]=h:i[c]=h}return[e,i,t]}const LL=Ru.forwardRef((n,e)=>b.jsx(yg,{canvasRef:e,...n}));function zL({isOpen:n,onClose:e}){if(!n)return null;const[t,i]=N.useState({width:window.innerWidth,height:window.innerHeight});return N.useEffect(()=>{const r=()=>i({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),b.jsxs("div",{className:"modal-overlay show",style:{display:"flex",zIndex:99999},children:[b.jsx(LL,{width:t.width,height:t.height,recycle:!1,numberOfPieces:500}),b.jsxs("div",{className:"modal-box",style:{borderColor:"gold",boxShadow:"0 0 50px rgba(255, 215, 0, 0.3)"},children:[b.jsx("div",{style:{fontSize:"4rem"},children:""}),b.jsx("h2",{className:"modal-title",style:{color:"gold"},children:"Glckwunsch!"}),b.jsxs("p",{className:"modal-text",children:["Du hast deine Stempelkarte voll! ",b.jsx("br",{}),"Als Dankeschn gibt es zur nchsten Bestellung einen ",b.jsx("b",{children:"Gratis-Keks"}),". "]}),b.jsx("button",{className:"modal-btn",onClick:e,style:{background:"gold",color:"#000",fontWeight:"bold"},children:"Juhu!"})]})]})}function PL({isOpen:n,onClose:e}){const[t,i]=N.useState([]);N.useEffect(()=>{if(n){const o=Bn(Un,"orders"),c=dr(o,h=>{const f=h.val();if(f){const p=Object.entries(f).map(([g,_])=>({id:g,..._})).filter(g=>g.status!=="archived").sort((g,_)=>g.timestamp-_.timestamp);i(p)}else i([])});return()=>c()}},[n]);const r=(o,c)=>{BD(Bn(Un,`orders/${o}`),{status:c})};return n?b.jsx("div",{className:"modal-overlay show",style:{display:"flex",background:"rgba(0,0,0,0.9)"},children:b.jsxs("div",{className:"modal-box",style:{width:"90%",maxWidth:"600px",height:"90vh",overflowY:"auto",border:"2px solid #ef4444"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("h2",{className:"modal-title",style:{color:"#ef4444"},children:" Kchen-Display"}),b.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid #666",padding:"5px 10px"},children:"Schlieen"})]}),b.jsx("div",{className:"kitchen-list",style:{marginTop:"20px"},children:t.length===0?b.jsx("div",{style:{textAlign:"center",padding:"50px",color:"#888"},children:"Alles ruhig in der Kche. "}):t.map(o=>b.jsxs("div",{className:"kitchen-card",style:{background:o.status==="completed"?"#065f46":"#333",padding:"15px",marginBottom:"15px",borderRadius:"8px",borderLeft:`5px solid ${o.status==="new"?"#ef4444":o.status==="completed"?"#10b981":"#f59e0b"}`},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[b.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:o.coffee}),b.jsx("span",{style:{color:"#ccc",fontSize:"0.8rem"},children:new Date(o.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),b.jsxs("div",{style:{color:"#d4b483",margin:"5px 0"},children:[" ",o.user]}),o.details&&o.details.length>0&&b.jsx("div",{style:{background:"rgba(0,0,0,0.2)",padding:"5px",borderRadius:"4px",fontSize:"0.9rem",marginBottom:"10px"},children:o.details.join(", ")}),o.comment&&b.jsxs("div",{style:{color:"#fca5a5",fontStyle:"italic",marginBottom:"10px"},children:['" ',o.comment,' "']}),b.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[o.status==="new"&&b.jsx("button",{onClick:()=>r(o.id,"processing"),style:{flex:1,background:"#f59e0b",border:"none",padding:"8px",borderRadius:"5px",cursor:"pointer",color:"#000",fontWeight:"bold"},children:"In Arbeit "}),o.status==="processing"&&b.jsx("button",{onClick:()=>r(o.id,"completed"),style:{flex:1,background:"#10b981",border:"none",padding:"8px",borderRadius:"5px",cursor:"pointer",color:"#fff",fontWeight:"bold"},children:"Fertig "}),o.status==="completed"&&b.jsx("button",{onClick:()=>r(o.id,"archived"),style:{flex:1,background:"#374151",border:"none",padding:"8px",borderRadius:"5px",cursor:"pointer",color:"#ccc"},children:"Archivieren "})]})]},o.id))})]})}):null}function jL({onOpenMenu:n,currentUser:e,onLogin:t}){return b.jsxs(b.Fragment,{children:[b.jsx("h1",{children:"Timo's"}),b.jsx("div",{className:"subtitle",children:"Barista Bar"}),!e&&b.jsx("button",{onClick:t,className:"btn-primary",style:{position:"absolute",top:"20px",right:"20px",padding:"5px 10px",fontSize:"0.8rem",width:"auto"},children:"Login "}),e&&b.jsx("div",{className:"hamburger-btn",onClick:n,children:e.photoURL?b.jsx("img",{src:e.photoURL,alt:"User",style:{width:"30px",borderRadius:"50%"}}):""})]})}function BL({orderId:n,onClose:e}){const[t,i]=N.useState(null);N.useEffect(()=>{if(!n)return;const o=Bn(Un,`orders/${n}`),c=dr(o,h=>{const f=h.val();if(!f){i(null),e();return}f.status==="completed"&&t?.status!=="completed"&&new Audio("/assets/audio/ding.mp3").play().catch(()=>{}),i(f)});return()=>c()},[n]);const r=()=>{window.confirm("Mchtest du die Bestellung wirklich stornieren?")&&u1(Bn(Un,`orders/${n}`)).then(()=>e()).catch(o=>alert(o.message))};return t?t.status==="new"?b.jsxs("div",{className:"order-toast",children:[b.jsx("div",{style:{fontSize:"2rem"},children:""}),b.jsx("h3",{children:"Bestellung eingegangen"}),b.jsxs("p",{children:["Dein ",t.coffee," wartet in der Schlange."]}),b.jsx("button",{onClick:r,className:"cancel-btn",children:"Bestellung stornieren "})]}):t.status==="processing"?b.jsxs("div",{className:"order-toast processing",children:[b.jsx("div",{className:"pulse-icon",children:""}),b.jsx("h3",{children:"Wird zubereitet..."}),b.jsx("p",{children:"Der Barista ist am Werk!"})]}):t.status==="completed"?b.jsxs("div",{className:"order-toast completed",children:[b.jsx("div",{style:{fontSize:"2rem"},children:""}),b.jsx("h3",{children:"Kaffee ist fertig!"}),b.jsx("p",{children:"Bitte abholen und genieen."}),b.jsx("button",{onClick:e,className:"ok-btn",children:"Alles klar, danke!"})]}):null:null}function UL({totalCount:n}){const e=n%10,t=10-e,i=Math.floor(n/10),r=Array.from({length:10},(o,c)=>c+1);return b.jsxs("div",{className:"stamp-card scroll-reveal visible",style:{marginTop:"20px"},children:[b.jsxs("div",{className:"stamp-header",children:[b.jsx("span",{children:" Deine Treuekarte"}),b.jsxs("span",{style:{color:"#d4b483"},children:[e," / 10"]})]}),b.jsx("div",{className:"stamp-grid",children:r.map(o=>b.jsx("div",{className:`stamp-circle ${o<=e?"active":""}`,children:o<=e?"":o},o))}),b.jsx("div",{className:"stamp-footer",children:e===0&&i>0?b.jsx("span",{children:"Neue Karte, neues Glck! "}):e===10?b.jsx("b",{children:"VOLL! Dein nchster Kaffee bringt einen Keks! "}):b.jsxs("span",{children:["Noch ",t," Kaffees bis zum Gratis-Keks! "]})})]})}function cx({coffee:n,isFav:e,onOrder:t,onToggleFav:i}){const r=o=>{if(o===0)return null;let c=[];for(let h=1;h<=5;h++)c.push(b.jsx("span",{className:h<=o?"dot-filled":"dot-empty",children:""},h));return b.jsxs("div",{className:"strength-container",children:["STRKE ",b.jsx("span",{className:"dots",children:c})]})};return b.jsxs("div",{className:"coffee-card scroll-reveal visible",onClick:()=>t(n),children:[b.jsx("div",{className:`fav-btn ${e?"fav-active":""}`,onClick:o=>{o.stopPropagation(),i(n.name)},children:e?"":""}),b.jsx("div",{className:"name",children:n.name}),b.jsx("div",{className:"desc",children:n.desc}),r(n.strength)]})}function HL(){return b.jsx(ns,{to:"/bohnen",style:{textDecoration:"none"},children:b.jsxs("div",{style:{background:"linear-gradient(145deg, #2c1e16 0%, #1a120b 100%)",border:"1px solid rgba(212, 180, 131, 0.3)",borderRadius:"12px",padding:"20px",width:"100%",maxWidth:"450x",margin:"20px auto",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.5)",cursor:"pointer",position:"relative",overflow:"hidden"},children:[b.jsx("div",{style:{color:"#d4b483",fontSize:"0.65rem",letterSpacing:"2px",textTransform:"uppercase",marginBottom:"5px",opacity:.8},children:"Aktuelle Rstung"}),b.jsx("h3",{style:{color:"#fff",fontSize:"1.4rem",margin:"5px 0",fontFamily:"serif",fontWeight:"normal"},children:"Tchibo Barista Espresso"}),b.jsx("div",{style:{color:"#888",fontSize:"0.85rem",fontStyle:"italic",marginBottom:"15px"},children:"Trommelrstung  100% Arabica"}),b.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[b.jsx("span",{style:{color:"#d4b483",fontSize:"0.75rem",fontWeight:"bold",letterSpacing:"1px"},children:"INTENSITT 5/6"}),b.jsx("div",{style:{width:"80px",height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",overflow:"hidden"},children:b.jsx("div",{style:{width:"83%",height:"100%",background:"#d4b483"}})})]}),b.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",width:"4px",height:"4px",background:"#555",borderRadius:"50%"}}),b.jsx("div",{style:{position:"absolute",bottom:"20px",left:"20px",width:"6px",height:"6px",background:"#444",borderRadius:"50%"}})]})})}function FL({currentUser:n,coffeeCount:e,favorites:t,handleOrderClick:i,handleToggleFav:r,KAFFEE_SORTEN:o}){return b.jsxs(b.Fragment,{children:[b.jsx(HL,{}),n&&b.jsx("div",{style:{padding:"0 20px"},children:b.jsx(UL,{totalCount:e})}),Object.keys(t).length>0&&b.jsxs("div",{className:"menu-list",style:{marginBottom:"0px",paddingBottom:"0px"},children:[b.jsx("div",{className:"section-title",style:{padding:"10px 20px",color:"#d4b483",fontWeight:"bold"},children:" Deine Lieblinge"}),o.filter(c=>t[c.name]).map(c=>b.jsx(cx,{coffee:c,isFav:!0,onOrder:i,onToggleFav:r},"fav-"+c.name)),b.jsx("div",{style:{borderBottom:"1px dashed rgba(255,255,255,0.1)",margin:"20px"}})]}),b.jsx("div",{className:"section-title",style:{padding:"10px 20px",color:"#fff",opacity:.6},children:"Alle Kaffees"}),b.jsx("div",{className:"menu-list",id:"menu-container",style:{paddingBottom:"100px"},children:o.map(c=>b.jsx(cx,{coffee:c,isFav:t[c.name],onOrder:i,onToggleFav:r},c.name))})]})}function VL(){return b.jsxs("div",{className:"page-content",style:{padding:"20px",paddingBottom:"100px",color:"#fff",maxWidth:"800px",margin:"0 auto"},children:[b.jsxs("h2",{className:"machine-title",style:{marginTop:"20px",fontSize:"1.8rem",textAlign:"center"},children:["Philips 5500 Series ",b.jsx("span",{className:"highlight-badge",style:{background:"gold",color:"#000",padding:"2px 8px",borderRadius:"5px",fontSize:"1rem",verticalAlign:"middle"},children:"LatteGo"})]}),b.jsx("p",{className:"machine-desc",style:{textAlign:"center",opacity:.8,marginBottom:"20px"},children:"Das Herzstck der Barista Bar. Dieser Vollautomat sorgt mit 15 Bar Druck und einem High-Tech Keramikmahlwerk fr das perfekte Aroma in jeder Tasse."}),b.jsx("div",{className:"machine-img-wrapper",style:{display:"flex",justifyContent:"center",marginBottom:"30px"},children:b.jsx("img",{src:"/assets/img/maschine.jpg",alt:"Philips EP5447/90",className:"machine-img",style:{width:"100%",maxWidth:"400px",borderRadius:"15px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)"}})}),b.jsx("div",{className:"specs-title",style:{borderBottom:"1px solid #444",paddingBottom:"5px",marginBottom:"15px",color:"#d4b483",textTransform:"uppercase",letterSpacing:"2px"},children:"Technische Highlights"}),b.jsxs("div",{className:"specs-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px",marginBottom:"30px"},children:[b.jsx(Xa,{label:"Mahlwerk",value:"100% Keramik"}),b.jsx(Xa,{label:"Pumpendruck",value:"15 Bar"}),b.jsx(Xa,{label:"Milchsystem",value:"LatteGo"}),b.jsx(Xa,{label:"Temperatur",value:"90C - 98C"}),b.jsx(Xa,{label:"Mahlgrade",value:"12 Stufen"}),b.jsx(Xa,{label:"Wasserfilter",value:"AquaClean"})]}),b.jsx("div",{className:"specs-title",style:{borderBottom:"1px solid #444",paddingBottom:"5px",marginBottom:"15px",color:"#d4b483",textTransform:"uppercase",letterSpacing:"2px"},children:"Features"}),b.jsxs("div",{className:"machine-desc",style:{textAlign:"left",fontSize:"0.9rem",lineHeight:"1.6",background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"10px"},children:[b.jsxs("p",{style:{marginBottom:"10px"},children:[" ",b.jsx("b",{style:{color:"#d4b483"},children:"Aroma Extract System:"})," Hlt die Wassertemperatur optimal zwischen 90 und 98C fr die perfekte Extraktion."]}),b.jsxs("p",{style:{marginBottom:"10px"},children:[" ",b.jsx("b",{style:{color:"#d4b483"},children:"Extra Shot Funktion:"})," Fr die Tage, an denen man einen doppelten Wachmacher braucht  ohne Bitterkeit."]}),b.jsxs("p",{children:[" ",b.jsx("b",{style:{color:"#d4b483"},children:"LatteGo:"})," Erzeugt samtig-cremigen Milchschaum ohne Schluche, direkt in die Tasse."]})]})]})}function Xa({label:n,value:e}){return b.jsxs("div",{className:"spec-item",style:{background:"#3e2c22",padding:"15px",borderRadius:"10px",textAlign:"center"},children:[b.jsx("span",{className:"spec-label",style:{display:"block",fontSize:"0.8rem",color:"#aaa",marginBottom:"5px"},children:n}),b.jsx("span",{className:"spec-value",style:{display:"block",fontSize:"1rem",fontWeight:"bold",color:"#fff"},children:e})]})}function Ll(n){return n+.5|0}const ss=(n,e,t)=>Math.max(Math.min(n,t),e);function Vo(n){return ss(Ll(n*2.55),0,255)}function hs(n){return ss(Ll(n*255),0,255)}function hi(n){return ss(Ll(n/2.55)/100,0,1)}function ux(n){return ss(Ll(n*100),0,100)}const dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},am=[..."0123456789ABCDEF"],qL=n=>am[n&15],GL=n=>am[(n&240)>>4]+am[n&15],su=n=>(n&240)>>4===(n&15),WL=n=>su(n.r)&&su(n.g)&&su(n.b)&&su(n.a);function YL(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&dn[n[1]]*17,g:255&dn[n[2]]*17,b:255&dn[n[3]]*17,a:e===5?dn[n[4]]*17:255}:(e===7||e===9)&&(t={r:dn[n[1]]<<4|dn[n[2]],g:dn[n[3]]<<4|dn[n[4]],b:dn[n[5]]<<4|dn[n[6]],a:e===9?dn[n[7]]<<4|dn[n[8]]:255})),t}const KL=(n,e)=>n<255?e(n):"";function QL(n){var e=WL(n)?qL:GL;return n?"#"+e(n.r)+e(n.g)+e(n.b)+KL(n.a,e):void 0}const XL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function W1(n,e,t){const i=e*Math.min(t,1-t),r=(o,c=(o+n/30)%12)=>t-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function $L(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function ZL(n,e,t){const i=W1(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function JL(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function vg(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),c=Math.min(t,i,r),h=(o+c)/2;let f,p,g;return o!==c&&(g=o-c,p=h>.5?g/(2-o-c):g/(o+c),f=JL(t,i,r,g,o),f=f*60+.5),[f|0,p||0,h]}function bg(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(hs)}function xg(n,e,t){return bg(W1,n,e,t)}function e3(n,e,t){return bg(ZL,n,e,t)}function t3(n,e,t){return bg($L,n,e,t)}function Y1(n){return(n%360+360)%360}function n3(n){const e=XL.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Vo(+e[5]):hs(+e[5]));const r=Y1(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=e3(r,o,c):e[1]==="hsv"?i=t3(r,o,c):i=xg(r,o,c),{r:i[0],g:i[1],b:i[2],a:t}}function i3(n,e){var t=vg(n);t[0]=Y1(t[0]+e),t=xg(t),n.r=t[0],n.g=t[1],n.b=t[2]}function s3(n){if(!n)return;const e=vg(n),t=e[0],i=ux(e[1]),r=ux(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${hi(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const hx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function a3(){const n={},e=Object.keys(fx),t=Object.keys(hx);let i,r,o,c,h;for(i=0;i<e.length;i++){for(c=h=e[i],r=0;r<t.length;r++)o=t[r],h=h.replace(o,hx[o]);o=parseInt(fx[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let au;function r3(n){au||(au=a3(),au.transparent=[0,0,0,0]);const e=au[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const o3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function l3(n){const e=o3.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const c=+e[7];t=e[8]?Vo(c):ss(c*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?Vo(i):ss(i,0,255)),r=255&(e[4]?Vo(r):ss(r,0,255)),o=255&(e[6]?Vo(o):ss(o,0,255)),{r:i,g:r,b:o,a:t}}}function c3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${hi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const xp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,$a=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function u3(n,e,t){const i=$a(hi(n.r)),r=$a(hi(n.g)),o=$a(hi(n.b));return{r:hs(xp(i+t*($a(hi(e.r))-i))),g:hs(xp(r+t*($a(hi(e.g))-r))),b:hs(xp(o+t*($a(hi(e.b))-o))),a:n.a+t*(e.a-n.a)}}function ru(n,e,t){if(n){let i=vg(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=xg(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function K1(n,e){return n&&Object.assign(e||{},n)}function dx(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=hs(n[3]))):(e=K1(n,{r:0,g:0,b:0,a:1}),e.a=hs(e.a)),e}function h3(n){return n.charAt(0)==="r"?l3(n):n3(n)}class ml{constructor(e){if(e instanceof ml)return e;const t=typeof e;let i;t==="object"?i=dx(e):t==="string"&&(i=YL(e)||r3(e)||h3(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=K1(this._rgb);return e&&(e.a=hi(e.a)),e}set rgb(e){this._rgb=dx(e)}rgbString(){return this._valid?c3(this._rgb):void 0}hexString(){return this._valid?QL(this._rgb):void 0}hslString(){return this._valid?s3(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const c=t===o?.5:t,h=2*c-1,f=i.a-r.a,p=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-p,i.r=255&p*i.r+o*r.r+.5,i.g=255&p*i.g+o*r.g+.5,i.b=255&p*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=u3(this._rgb,e._rgb,t)),this}clone(){return new ml(this.rgb)}alpha(e){return this._rgb.a=hs(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ll(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ru(this._rgb,2,e),this}darken(e){return ru(this._rgb,2,-e),this}saturate(e){return ru(this._rgb,1,e),this}desaturate(e){return ru(this._rgb,1,-e),this}rotate(e){return i3(this._rgb,e),this}}function li(){}const f3=(()=>{let n=0;return()=>n++})();function Ve(n){return n==null}function ht(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Re(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function vn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function zn(n,e){return vn(n)?n:e}function Oe(n,e){return typeof n>"u"?e:n}const d3=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ke(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Le(n,e,t,i){let r,o,c;if(ht(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(Re(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)e.call(t,n[c[r]],c[r])}function Ju(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function eh(n){if(ht(n))return n.map(eh);if(Re(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=eh(n[t[r]]);return e}return n}function Q1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function p3(n,e,t,i){if(!Q1(n))return;const r=e[n],o=t[n];Re(r)&&Re(o)?gl(r,o,i):e[n]=eh(o)}function gl(n,e,t){const i=ht(e)?e:[e],r=i.length;if(!Re(n))return n;t=t||{};const o=t.merger||p3;let c;for(let h=0;h<r;++h){if(c=i[h],!Re(c))continue;const f=Object.keys(c);for(let p=0,g=f.length;p<g;++p)o(f[p],n,c,t)}return n}function el(n,e){return gl(n,e,{merger:m3})}function m3(n,e,t){if(!Q1(n))return;const i=e[n],r=t[n];Re(i)&&Re(r)?el(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=eh(r))}const px={"":n=>n,x:n=>n.x,y:n=>n.y};function g3(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function _3(n){const e=g3(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function gr(n,e){return(px[e]||(px[e]=_3(e)))(n)}function Sg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const _l=n=>typeof n<"u",_s=n=>typeof n=="function",mx=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function y3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Rt=Math.PI,fs=2*Rt,th=Number.POSITIVE_INFINITY,v3=Rt/180,An=Rt/2,Bs=Rt/4,gx=Rt*2/3,X1=Math.log10,ds=Math.sign;function Cu(n,e,t){return Math.abs(n-e)<t}function _x(n){const e=Math.round(n);n=Cu(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(X1(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function b3(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function x3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function nh(n){return!x3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function S3(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function E3(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ks(n){return n*(Rt/180)}function T3(n){return n*(180/Rt)}function yx(n){if(!vn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function C3(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*Rt&&(o+=fs),{angle:o,distance:r}}function w3(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Us(n){return(n%fs+fs)%fs}function A3(n,e,t,i){const r=Us(n),o=Us(e),c=Us(t),h=Us(o-r),f=Us(c-r),p=Us(r-o),g=Us(r-c);return r===o||r===c||i||h>f&&p<g}function Rn(n,e,t){return Math.max(e,Math.min(t,n))}function R3(n){return Rn(n,-32768,32767)}function er(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Eg(n,e,t){t=t||(c=>n[c]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const rm=(n,e,t,i)=>Eg(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),M3=(n,e,t)=>Eg(n,t,i=>n[i][e]>=t);function O3(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const $1=["push","pop","shift","splice","unshift"];function N3(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$1.forEach(t=>{const i="_onData"+Sg(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function vx(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&($1.forEach(o=>{delete n[o]}),delete n._chartjs)}function Z1(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const J1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function eT(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,J1.call(window,()=>{i=!1,n.apply(e,t)}))}}function k3(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Tg=n=>n==="start"?"left":n==="end"?"right":"center",wt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,D3=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,ou=n=>n===0||n===1,bx=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*fs/t)),xx=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*fs/t)+1,tl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*An)+1,easeOutSine:n=>Math.sin(n*An),easeInOutSine:n=>-.5*(Math.cos(Rt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ou(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ou(n)?n:bx(n,.075,.3),easeOutElastic:n=>ou(n)?n:xx(n,.075,.3),easeInOutElastic(n){return ou(n)?n:n<.5?.5*bx(n*2,.1125,.45):.5+.5*xx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-tl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?tl.easeInBounce(n*2)*.5:tl.easeOutBounce(n*2-1)*.5+.5};function tT(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Sx(n){return tT(n)?n:new ml(n)}function Sp(n){return tT(n)?n:new ml(n).saturate(.5).darken(.1).hexString()}const I3=["x","y","borderWidth","radius","tension"],L3=["color","borderColor","backgroundColor"];function z3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:L3},numbers:{type:"number",properties:I3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function P3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ex=new Map;function j3(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Ex.get(t);return i||(i=new Intl.NumberFormat(n,e),Ex.set(t,i)),i}function nT(n,e,t){return j3(e,t).format(n)}const B3={values(n){return ht(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),o=U3(n,t)}const c=X1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),nT(n,i,f)}};function U3(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var iT={formatters:B3};function H3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:iT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ra=Object.create(null),om=Object.create(null);function nl(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Ep(n,e,t){return typeof e=="string"?gl(nl(n,e),t):gl(nl(n,""),e)}class F3{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Sp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Sp(r.borderColor),this.hoverColor=(i,r)=>Sp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ep(this,e,t)}get(e){return nl(this,e)}describe(e,t){return Ep(om,e,t)}override(e,t){return Ep(ra,e,t)}route(e,t,i,r){const o=nl(this,e),c=nl(this,i),h="_"+t;Object.defineProperties(o,{[h]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[h],p=c[r];return Re(f)?Object.assign({},p,f):Oe(f,p)},set(f){this[h]=f}}})}apply(e){e.forEach(t=>t(this))}}var st=new F3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[z3,P3,H3]);function V3(n){return!n||Ve(n.size)||Ve(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Tx(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function Hs(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function Cx(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function wx(n,e,t,i){sT(n,e,t,i,null)}function sT(n,e,t,i,r){let o,c,h,f,p,g,_,y;const x=e.pointStyle,E=e.rotation,T=e.radius;let w=(E||0)*v3;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(w),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),x){default:r?n.ellipse(t,i,r/2,T,0,0,fs):n.arc(t,i,T,0,fs),n.closePath();break;case"triangle":g=r?r/2:T,n.moveTo(t+Math.sin(w)*g,i-Math.cos(w)*T),w+=gx,n.lineTo(t+Math.sin(w)*g,i-Math.cos(w)*T),w+=gx,n.lineTo(t+Math.sin(w)*g,i-Math.cos(w)*T),n.closePath();break;case"rectRounded":p=T*.516,f=T-p,c=Math.cos(w+Bs)*f,_=Math.cos(w+Bs)*(r?r/2-p:f),h=Math.sin(w+Bs)*f,y=Math.sin(w+Bs)*(r?r/2-p:f),n.arc(t-_,i-h,p,w-Rt,w-An),n.arc(t+y,i-c,p,w-An,w),n.arc(t+_,i+h,p,w,w+An),n.arc(t-y,i+c,p,w+An,w+Rt),n.closePath();break;case"rect":if(!E){f=Math.SQRT1_2*T,g=r?r/2:f,n.rect(t-g,i-f,2*g,2*f);break}w+=Bs;case"rectRot":_=Math.cos(w)*(r?r/2:T),c=Math.cos(w)*T,h=Math.sin(w)*T,y=Math.sin(w)*(r?r/2:T),n.moveTo(t-_,i-h),n.lineTo(t+y,i-c),n.lineTo(t+_,i+h),n.lineTo(t-y,i+c),n.closePath();break;case"crossRot":w+=Bs;case"cross":_=Math.cos(w)*(r?r/2:T),c=Math.cos(w)*T,h=Math.sin(w)*T,y=Math.sin(w)*(r?r/2:T),n.moveTo(t-_,i-h),n.lineTo(t+_,i+h),n.moveTo(t+y,i-c),n.lineTo(t-y,i+c);break;case"star":_=Math.cos(w)*(r?r/2:T),c=Math.cos(w)*T,h=Math.sin(w)*T,y=Math.sin(w)*(r?r/2:T),n.moveTo(t-_,i-h),n.lineTo(t+_,i+h),n.moveTo(t+y,i-c),n.lineTo(t-y,i+c),w+=Bs,_=Math.cos(w)*(r?r/2:T),c=Math.cos(w)*T,h=Math.sin(w)*T,y=Math.sin(w)*(r?r/2:T),n.moveTo(t-_,i-h),n.lineTo(t+_,i+h),n.moveTo(t+y,i-c),n.lineTo(t-y,i+c);break;case"line":c=r?r/2:Math.cos(w)*T,h=Math.sin(w)*T,n.moveTo(t-c,i-h),n.lineTo(t+c,i+h);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(w)*(r?r/2:T),i+Math.sin(w)*T);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function aT(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Cg(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function wg(n){n.restore()}function q3(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ve(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function G3(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,f=t-o.actualBoundingBoxAscent,p=t+o.actualBoundingBoxDescent,g=r.strikethrough?(f+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,g),n.lineTo(h,g),n.stroke()}}function W3(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function yl(n,e,t,i,r,o={}){const c=ht(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let f,p;for(n.save(),n.font=r.string,q3(n,o),f=0;f<c.length;++f)p=c[f],o.backdrop&&W3(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ve(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,t,i,o.maxWidth)),n.fillText(p,t,i,o.maxWidth),G3(n,t,i,p,o),i+=Number(r.lineHeight);n.restore()}function ih(n,e){const{x:t,y:i,w:r,h:o,radius:c}=e;n.arc(t+c.topLeft,i+c.topLeft,c.topLeft,1.5*Rt,Rt,!0),n.lineTo(t,i+o-c.bottomLeft),n.arc(t+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Rt,An,!0),n.lineTo(t+r-c.bottomRight,i+o),n.arc(t+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,An,0,!0),n.lineTo(t+r,i+c.topRight),n.arc(t+r-c.topRight,i+c.topRight,c.topRight,0,-An,!0),n.lineTo(t+c.topLeft,i)}const Y3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,K3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Q3(n,e){const t=(""+n).match(Y3);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const X3=n=>+n||0;function rT(n,e){const t={},i=Re(e),r=i?Object.keys(e):e,o=Re(n)?i?c=>Oe(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of r)t[c]=X3(o(c));return t}function oT(n){return rT(n,{top:"y",right:"x",bottom:"y",left:"x"})}function rr(n){return rT(n,["topLeft","topRight","bottomLeft","bottomRight"])}function bn(n){const e=oT(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function At(n,e){n=n||{},e=e||st.font;let t=Oe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Oe(n.style,e.style);i&&!(""+i).match(K3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Oe(n.family,e.family),lineHeight:Q3(Oe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Oe(n.weight,e.weight),string:""};return r.string=V3(r),r}function lu(n,e,t,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function $3(n,e,t){const{min:i,max:r}=n,o=d3(e,(r-i)/2),c=(h,f)=>t&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Or(n,e){return Object.assign(Object.create(n),e)}function Ag(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=hT("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>Ag([h,...n],e,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return cT(h,f,()=>a5(f,e,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return Rx(h).includes(f)},ownKeys(h){return Rx(h)},set(h,f,p){const g=h._storage||(h._storage=r());return h[f]=g[f]=p,delete h._keys,!0}})}function _r(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:lT(n,i),setContext:o=>_r(n,o,t,i),override:o=>_r(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return cT(o,c,()=>J3(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function lT(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:_s(t)?t:()=>t,isIndexable:_s(i)?i:()=>i}}const Z3=(n,e)=>n?n+Sg(e):e,Rg=(n,e)=>Re(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function cT(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function J3(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[e];return _s(h)&&c.isScriptable(e)&&(h=e5(e,h,n,t)),ht(h)&&h.length&&(h=t5(e,h,n,c.isIndexable)),Rg(e,h)&&(h=_r(h,r,o&&o[e],c)),h}function e5(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=t;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=e(o,c||i);return h.delete(n),Rg(n,f)&&(f=Mg(r._scopes,r,n,f)),f}function t5(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Re(e[0])){const f=e,p=r._scopes.filter(g=>g!==f);e=[];for(const g of f){const _=Mg(p,r,n,g);e.push(_r(_,o,c&&c[n],h))}}return e}function uT(n,e,t){return _s(n)?n(e,t):n}const n5=(n,e)=>n===!0?e:typeof n=="string"?gr(e,n):void 0;function i5(n,e,t,i,r){for(const o of e){const c=n5(t,o);if(c){n.add(c);const h=uT(c._fallback,t,r);if(typeof h<"u"&&h!==t&&h!==i)return h}else if(c===!1&&typeof i<"u"&&t!==i)return null}return!1}function Mg(n,e,t,i){const r=e._rootScopes,o=uT(e._fallback,t,i),c=[...n,...r],h=new Set;h.add(i);let f=Ax(h,c,t,o||t,i);return f===null||typeof o<"u"&&o!==t&&(f=Ax(h,c,o,f,i),f===null)?!1:Ag(Array.from(h),[""],r,o,()=>s5(e,t,i))}function Ax(n,e,t,i,r){for(;t;)t=i5(n,e,t,i,r);return t}function s5(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return ht(r)&&Re(t)?t:r||{}}function a5(n,e,t,i){let r;for(const o of e)if(r=hT(Z3(o,n),t),typeof r<"u")return Rg(n,r)?Mg(t,i,n,r):r}function hT(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Rx(n){let e=n._keys;return e||(e=n._keys=r5(n._scopes)),e}function r5(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Og(){return typeof window<"u"&&typeof document<"u"}function Ng(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sh(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Ah=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function o5(n,e){return Ah(n).getPropertyValue(e)}const l5=["top","right","bottom","left"];function Xs(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=l5[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const c5=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function u5(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(c5(r,o,n.target))h=r,f=o;else{const p=e.getBoundingClientRect();h=i.clientX-p.left,f=i.clientY-p.top,c=!0}return{x:h,y:f,box:c}}function Ws(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Ah(t),o=r.boxSizing==="border-box",c=Xs(r,"padding"),h=Xs(r,"border","width"),{x:f,y:p,box:g}=u5(n,t),_=c.left+(g&&h.left),y=c.top+(g&&h.top);let{width:x,height:E}=e;return o&&(x-=c.width+h.width,E-=c.height+h.height),{x:Math.round((f-_)/x*t.width/i),y:Math.round((p-y)/E*t.height/i)}}function h5(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&Ng(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Ah(o),f=Xs(h,"border","width"),p=Xs(h,"padding");e=c.width-p.width-f.width,t=c.height-p.height-f.height,i=sh(h.maxWidth,o,"clientWidth"),r=sh(h.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||th,maxHeight:r||th}}const as=n=>Math.round(n*10)/10;function f5(n,e,t,i){const r=Ah(n),o=Xs(r,"margin"),c=sh(r.maxWidth,n,"clientWidth")||th,h=sh(r.maxHeight,n,"clientHeight")||th,f=h5(n,e,t);let{width:p,height:g}=f;if(r.boxSizing==="content-box"){const y=Xs(r,"border","width"),x=Xs(r,"padding");p-=x.width+y.width,g-=x.height+y.height}return p=Math.max(0,p-o.width),g=Math.max(0,i?p/i:g-o.height),p=as(Math.min(p,c,f.maxWidth)),g=as(Math.min(g,h,f.maxHeight)),p&&!g&&(g=as(p/2)),(e!==void 0||t!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,p=as(Math.floor(g*i))),{width:p,height:g}}function Mx(n,e,t){const i=e||1,r=as(n.height*i),o=as(n.width*i);n.height=as(n.height),n.width=as(n.width);const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const d5=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Og()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Ox(n,e){const t=o5(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const p5=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},m5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function or(n,e,t){return n?p5(e,t):m5()}function fT(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function dT(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function cu(n,e,t){return n.options.clip?n[t]:e[t]}function g5(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:cu(t,e,"left"),right:cu(t,e,"right"),top:cu(i,e,"top"),bottom:cu(i,e,"bottom")}:e}function _5(n,e){const t=e._clip;if(t.disabled)return!1;const i=g5(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class y5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],c=t.duration;o.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(i-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=J1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ci=new y5;const Nx="transparent",v5={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Sx(n||Nx),r=i.valid&&Sx(e||Nx);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class b5{constructor(e,t,i,r){const o=t[i];r=lu([e.to,r,o,e.from]);const c=lu([e.from,o,r]);this._active=!0,this._fn=e.fn||v5[e.type||typeof c],this._easing=tl[e.easing]||tl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=lu([e.to,t,r,e.from]),this._from=lu([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||t<i),!this._active){this._target[r]=h,this._notify(!0);return}if(t<0){this._target[r]=o;return}f=t/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class pT{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Re(e))return;const t=Object.keys(st.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Re(o))return;const c={};for(const h of t)c[h]=o[h];(ht(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(e,t){const i=t.options,r=S5(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&x5(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const p=c[f];if(p.charAt(0)==="$")continue;if(p==="options"){r.push(...this._animateOptions(e,t));continue}const g=t[p];let _=o[p];const y=i.get(p);if(_)if(y&&_.active()){_.update(y,g,h);continue}else _.cancel();if(!y||!y.duration){e[p]=g;continue}o[p]=_=new b5(y,e,p,g),r.push(_)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return ci.add(this._chart,i),!0}}function x5(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function S5(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function kx(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function E5(n,e,t){if(t===!1)return!1;const i=kx(n,t),r=kx(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function T5(n){let e,t,i,r;return Re(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function mT(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function Dx(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,p;if(e===null)return;let g=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===t){if(g=!0,i.all)continue;break}p=n.values[f],vn(p)&&(o||e===0||ds(e)===ds(p))&&(e+=p)}return!g&&!i.all?0:e}function C5(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,p,g;for(f=0,p=c.length;f<p;++f)g=c[f],h[f]={[r]:g,[o]:n[g]};return h}function Tp(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function w5(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function A5(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function R5(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Ix(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function Lx(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,p=c.axis,g=w5(o,c,i),_=e.length;let y;for(let x=0;x<_;++x){const E=e[x],{[f]:T,[p]:w}=E,M=E._stacks||(E._stacks={});y=M[p]=R5(r,g,T),y[h]=w,y._top=Ix(y,c,!0,i.type),y._bottom=Ix(y,c,!1,i.type);const L=y._visualValues||(y._visualValues={});L[h]=w}}function Cp(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function M5(n,e){return Or(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function O5(n,e,t){return Or(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Io(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const wp=n=>n==="reset"||n==="none",zx=(n,e)=>e?n:Object.assign({},n),N5=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:mT(t,!0),values:null};class gT{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Tp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Io(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(_,y,x,E)=>_==="x"?y:_==="r"?E:x,o=t.xAxisID=Oe(i.xAxisID,Cp(e,"x")),c=t.yAxisID=Oe(i.yAxisID,Cp(e,"y")),h=t.rAxisID=Oe(i.rAxisID,Cp(e,"r")),f=t.indexAxis,p=t.iAxisID=r(f,o,c,h),g=t.vAxisID=r(f,c,o,h);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vx(this._data,this),e._stacked&&Io(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Re(t)){const r=this._cachedMeta;this._data=C5(t,r)}else if(i!==t){if(i){vx(i,this);const r=this._cachedMeta;Io(r),r._parsed=[]}t&&Object.isExtensible(t)&&N3(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=Tp(t.vScale,t),t.stack!==i.stack&&(r=!0,Io(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(Lx(this,t._parsed),t._stacked=Tp(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=e===0&&t===r.length?!0:i._sorted,p=e>0&&i._parsed[e-1],g,_,y;if(this._parsing===!1)i._parsed=r,i._sorted=!0,y=r;else{ht(r[e])?y=this.parseArrayData(i,r,e,t):Re(r[e])?y=this.parseObjectData(i,r,e,t):y=this.parsePrimitiveData(i,r,e,t);const x=()=>_[h]===null||p&&_[h]<p[h];for(g=0;g<t;++g)i._parsed[g+e]=_=y[g],f&&(x()&&(f=!1),p=_);i._sorted=f}c&&Lx(this,y)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:c}=e,h=o.axis,f=c.axis,p=o.getLabels(),g=o===c,_=new Array(r);let y,x,E;for(y=0,x=r;y<x;++y)E=y+i,_[y]={[h]:g||o.parse(p[E],E),[f]:c.parse(t[E],E)};return _}parseArrayData(e,t,i,r){const{xScale:o,yScale:c}=e,h=new Array(r);let f,p,g,_;for(f=0,p=r;f<p;++f)g=f+i,_=t[g],h[f]={x:o.parse(_[0],g),y:c.parse(_[1],g)};return h}parseObjectData(e,t,i,r){const{xScale:o,yScale:c}=e,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,p=new Array(r);let g,_,y,x;for(g=0,_=r;g<_;++g)y=g+i,x=t[y],p[g]={x:o.parse(gr(x,h),y),y:c.parse(gr(x,f),y)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,c=t[e.axis],h={keys:mT(r,!0),values:t._stacks[e.axis]._visualValues};return Dx(h,c,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let c=o===null?NaN:o;const h=r&&i._stacks[t.axis];r&&h&&(r.values=h,c=Dx(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,c=r.length,h=this._getOtherScale(e),f=N5(t,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:_}=A5(h);let y,x;function E(){x=r[y];const T=x[h.axis];return!vn(x[e.axis])||g>T||_<T}for(y=0;y<c&&!(!E()&&(this.updateRangeFromParsed(p,e,x,f),o));++y);if(o){for(y=c-1;y>=0;--y)if(!E()){this.updateRangeFromParsed(p,e,x,f);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=t.length;r<o;++r)c=t[r][e.axis],vn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=T5(Oe(this.options.clip,E5(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,p=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,o,h,f),g=h;g<h+f;++g){const _=r[g];_.hidden||(_.active&&p?c.push(_):_.draw(e,o))}for(g=0;g<c.length;++g)c[g].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=O5(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=M5(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,c=e+"-"+t,h=o[c],f=this.enableOptionSharing&&_l(i);if(h)return zx(h,f);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,e),_=r?[`${e}Hover`,"hover",e,""]:[e,""],y=p.getOptionScopes(this.getDataset(),g),x=Object.keys(st.elements[e]),E=()=>this.getContext(i,r,t),T=p.resolveNamedOptions(y,x,E,_);return T.$shared&&(T.$shared=f,o[c]=Object.freeze(zx(T,f))),T}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const g=this.chart.config,_=g.datasetAnimationScopeKeys(this._type,t),y=g.getOptionScopes(this.getDataset(),_);f=g.createResolver(y,this.getContext(e,i,t))}const p=new pT(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||wp(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:c}}updateElement(e,t,i,r){wp(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!wp(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[h,f,p]of this._syncList)this[h](f,p);this._syncList=[];const r=i.length,o=t.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,c=e+t;let h;const f=p=>{for(p.length+=t,h=p.length-1;h>=c;h--)p[h]=p[h-t]};for(f(o),h=e;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Io(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function k5(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=Z1(i.sort((r,o)=>r-o))}return n._cache.$bar}function D5(n){const e=n.iScale,t=k5(e,n.type);let i=e._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(_l(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=t.length;r<o;++r)c=e.getPixelForValue(t[r]),f();for(h=void 0,r=0,o=e.ticks.length;r<o;++r)c=e.getPixelForTick(r),f();return i}function I5(n,e,t,i){const r=t.barThickness;let o,c;return Ve(r)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:e.pixels[n]-o/2}}function L5(n,e,t,i){const r=e.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=t.categoryPercentage;c===null&&(c=o-(h===null?e.end-e.start:h-o)),h===null&&(h=o+o-c);const p=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:t.barPercentage,start:p}}function z5(n,e,t,i){const r=t.parse(n[0],i),o=t.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,p=h;Math.abs(c)>Math.abs(h)&&(f=h,p=c),e[t.axis]=p,e._custom={barStart:f,barEnd:p,start:r,end:o,min:c,max:h}}function _T(n,e,t,i){return ht(n)?z5(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Px(n,e,t,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let p,g,_,y;for(p=t,g=t+i;p<g;++p)y=e[p],_={},_[r.axis]=h||r.parse(c[p],p),f.push(_T(y,_,o,p));return f}function Ap(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function P5(n,e,t){return n!==0?ds(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function j5(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function B5(n,e,t,i){let r=e.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:p,bottom:g}=j5(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=p:(t._bottom||0)===i?r=g:(o[jx(g,c,h,f)]=!0,r=p)),o[jx(r,c,h,f)]=!0,n.borderSkipped=o}function jx(n,e,t,i){return i?(n=U5(n,e,t),n=Bx(n,t,e)):n=Bx(n,e,t),n}function U5(n,e,t){return n===e?t:n===t?e:n}function Bx(n,e,t){return n==="start"?e:n==="end"?t:n}function H5(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class F5 extends gT{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,r){return Px(e,t,i,r)}parseArrayData(e,t,i,r){return Px(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:o,vScale:c}=e,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,p=o.axis==="x"?h:f,g=c.axis==="x"?h:f,_=[];let y,x,E,T;for(y=i,x=i+r;y<x;++y)T=t[y],E={},E[o.axis]=o.parse(gr(T,p),y),_.push(_T(gr(T,g),E,c,y));return _}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,o=this.getParsed(e),c=o._custom,h=Ap(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),p=h.isHorizontal(),g=this._getRuler(),{sharedOptions:_,includeOptions:y}=this._getSharedOptions(t,r);for(let x=t;x<t+i;x++){const E=this.getParsed(x),T=o||Ve(E[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(x),w=this._calculateBarIndexPixels(x,g),M=(E._stacks||{})[h.axis],L={horizontal:p,base:T.base,enableBorderRadius:!M||Ap(E._custom)||c===M._top||c===M._bottom,x:p?T.head:w.center,y:p?w.center:T.head,height:p?w.size:Math.abs(T.size),width:p?Math.abs(T.size):w.size};y&&(L.options=_||this.resolveDataElementOptions(x,e[x].active?"active":r));const B=L.options||e[x].options;B5(L,B,M,c),H5(L,B,g.ratio),this.updateElement(e[x],x,L,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),f=h&&h[i.axis],p=g=>{const _=g._parsed.find(x=>x[i.axis]===f),y=_&&_[g.vScale.axis];if(Ve(y)||isNaN(y))return!0};for(const g of r)if(!(t!==void 0&&p(g))&&((o===!1||c.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let o,c;for(o=0,c=t.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=e.barThickness;return{min:h||D5(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(e),p=f._custom,g=Ap(p);let _=f[t.axis],y=0,x=i?this.applyStack(t,f,i):_,E,T;x!==_&&(y=x-_,x=_),g&&(_=p.barStart,x=p.barEnd-p.barStart,_!==0&&ds(_)!==ds(p.barEnd)&&(y=0),y+=_);const w=!Ve(o)&&!g?o:y;let M=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?E=t.getPixelForValue(y+x):E=M,T=E-M,Math.abs(T)<c){T=P5(T,t,h)*c,_===h&&(M-=T/2);const L=t.getPixelForDecimal(0),B=t.getPixelForDecimal(1),K=Math.min(L,B),q=Math.max(L,B);M=Math.max(Math.min(M,q),K),E=M+T,i&&!g&&(f._stacks[t.axis]._visualValues[r]=t.getValueForPixel(E)-t.getValueForPixel(M))}if(M===t.getPixelForValue(h)){const L=ds(T)*t.getLineWidthForValue(h)/2;M+=L,T-=L}return{size:T,base:M,head:E,center:E+T/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,o=r.skipNull,c=Oe(r.maxBarThickness,1/0);let h,f;const p=this._getAxisCount();if(t.grouped){const g=o?this._getStackCount(e):t.stackCount,_=r.barThickness==="flex"?L5(e,t,r,g*p):I5(e,t,r,g*p),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Oe(y,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+x;h=_.start+_.chunk*E+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(c,t.min*t.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function Fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kg{static override(e){Object.assign(kg.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Fs()}parse(){return Fs()}format(){return Fs()}add(){return Fs()}diff(){return Fs()}startOf(){return Fs()}endOf(){return Fs()}}var V5={_date:kg};function q5(n,e,t,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&o.length){const p=h._reversePixels?M3:rm;if(i){if(r._sharedOptions){const g=o[0],_=typeof g.getRange=="function"&&g.getRange(e);if(_){const y=p(o,e,t-_),x=p(o,e,t+_);return{lo:y.lo,hi:x.hi}}}}else{const g=p(o,e,t);if(f){const{vScale:_}=r._cachedMeta,{_parsed:y}=n,x=y.slice(0,g.lo+1).reverse().findIndex(T=>!Ve(T[_.axis]));g.lo-=Math.max(0,x);const E=y.slice(g.hi).findIndex(T=>!Ve(T[_.axis]));g.hi+=Math.max(0,E)}return g}}return{lo:0,hi:o.length-1}}function Rh(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,f=o.length;h<f;++h){const{index:p,data:g}=o[h],{lo:_,hi:y}=q5(o[h],e,c,r);for(let x=_;x<=y;++x){const E=g[x];E.skip||i(E,p,x)}}}function G5(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,c=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Rp(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||Rh(n,t,e,function(h,f,p){!r&&!aT(h,n.chartArea,0)||h.inRange(e.x,e.y,i)&&o.push({element:h,datasetIndex:f,index:p})},!0),o}function W5(n,e,t,i){let r=[];function o(c,h,f){const{startAngle:p,endAngle:g}=c.getProps(["startAngle","endAngle"],i),{angle:_}=C3(c,{x:e.x,y:e.y});A3(_,p,g)&&r.push({element:c,datasetIndex:h,index:f})}return Rh(n,t,e,o),r}function Y5(n,e,t,i,r,o){let c=[];const h=G5(t);let f=Number.POSITIVE_INFINITY;function p(g,_,y){const x=g.inRange(e.x,e.y,r);if(i&&!x)return;const E=g.getCenterPoint(r);if(!(!!o||n.isPointInArea(E))&&!x)return;const w=h(e,E);w<f?(c=[{element:g,datasetIndex:_,index:y}],f=w):w===f&&c.push({element:g,datasetIndex:_,index:y})}return Rh(n,t,e,p),c}function Mp(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?W5(n,e,t,r):Y5(n,e,t,i,r,o)}function Ux(n,e,t,i,r){const o=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return Rh(n,t,e,(f,p,g)=>{f[c]&&f[c](e[t],r)&&(o.push({element:f,datasetIndex:p,index:g}),h=h||f.inRange(e.x,e.y,r))}),i&&!h?[]:o}var K5={modes:{index(n,e,t,i){const r=Ws(e,n),o=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?Rp(n,r,o,i,c):Mp(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const g=h[0].index,_=p.data[g];_&&!_.skip&&f.push({element:_,datasetIndex:p.index,index:g})}),f):[]},dataset(n,e,t,i){const r=Ws(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?Rp(n,r,o,i,c):Mp(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,p=n.getDatasetMeta(f).data;h=[];for(let g=0;g<p.length;++g)h.push({element:p[g],datasetIndex:f,index:g})}return h},point(n,e,t,i){const r=Ws(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return Rp(n,r,o,i,c)},nearest(n,e,t,i){const r=Ws(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return Mp(n,r,o,t.intersect,i,c)},x(n,e,t,i){const r=Ws(e,n);return Ux(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=Ws(e,n);return Ux(n,r,"y",t.intersect,i)}}};const yT=["left","top","right","bottom"];function Lo(n,e){return n.filter(t=>t.pos===e)}function Hx(n,e){return n.filter(t=>yT.indexOf(t.pos)===-1&&t.box.axis===e)}function zo(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function Q5(n){const e=[];let t,i,r,o,c,h;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:c,stackWeight:h=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return e}function X5(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!yT.includes(r))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function $5(n,e){const t=X5(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,p=t[h.stack],g=p&&h.stackWeight/p.weight;h.horizontal?(h.width=g?g*i:f&&e.availableWidth,h.height=r):(h.width=i,h.height=g?g*r:f&&e.availableHeight)}return t}function Z5(n){const e=Q5(n),t=zo(e.filter(p=>p.box.fullSize),!0),i=zo(Lo(e,"left"),!0),r=zo(Lo(e,"right")),o=zo(Lo(e,"top"),!0),c=zo(Lo(e,"bottom")),h=Hx(e,"x"),f=Hx(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Lo(e,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function Fx(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function vT(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function J5(n,e,t,i){const{pos:r,box:o}=t,c=n.maxPadding;if(!Re(r)){t.size&&(n[r]-=t.size);const _=i[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?o.height:o.width),t.size=_.size/_.count,n[r]+=t.size}o.getPadding&&vT(c,o.getPadding());const h=Math.max(0,e.outerWidth-Fx(c,n,"left","right")),f=Math.max(0,e.outerHeight-Fx(c,n,"top","bottom")),p=h!==n.w,g=f!==n.h;return n.w=h,n.h=f,t.horizontal?{same:p,other:g}:{same:g,other:p}}function ez(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function tz(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return i(n?["left","right"]:["top","bottom"])}function qo(n,e,t,i){const r=[];let o,c,h,f,p,g;for(o=0,c=n.length,p=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||e.w,h.height||e.h,tz(h.horizontal,e));const{same:_,other:y}=J5(e,t,h,i);p|=_&&r.length,g=g||y,f.fullSize||r.push(h)}return p&&qo(r,e,t,i)||g}function uu(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Vx(n,e,t,i){const r=t.padding;let{x:o,y:c}=e;for(const h of n){const f=h.box,p=i[h.stack]||{placed:0,weight:1},g=h.stackWeight/p.weight||1;if(h.horizontal){const _=e.w*g,y=p.size||f.height;_l(p.start)&&(c=p.start),f.fullSize?uu(f,r.left,c,t.outerWidth-r.right-r.left,y):uu(f,e.left+p.placed,c,_,y),p.start=c,p.placed+=_,c=f.bottom}else{const _=e.h*g,y=p.size||f.width;_l(p.start)&&(o=p.start),f.fullSize?uu(f,o,r.top,y,t.outerHeight-r.bottom-r.top):uu(f,o,e.top+p.placed,y,_),p.start=o,p.placed+=_,o=f.right}}e.x=o,e.y=c}var gn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=bn(n.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(t-r.height,0),h=Z5(n.boxes),f=h.vertical,p=h.horizontal;Le(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const g=f.reduce((T,w)=>w.box.options&&w.box.options.display===!1?T:T+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),y=Object.assign({},r);vT(y,bn(i));const x=Object.assign({maxPadding:y,w:o,h:c,x:r.left,y:r.top},r),E=$5(f.concat(p),_);qo(h.fullSize,x,_,E),qo(f,x,_,E),qo(p,x,_,E)&&qo(f,x,_,E),ez(x),Vx(h.leftAndTop,x,_,E),x.x+=x.w,x.y+=x.h,Vx(h.rightAndBottom,x,_,E),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Le(h.chartArea,T=>{const w=T.box;Object.assign(w,n.chartArea),w.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class bT{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class nz extends bT{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const wu="$chartjs",iz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qx=n=>n===null||n==="";function sz(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[wu]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",qx(r)){const o=Ox(n,"width");o!==void 0&&(n.width=o)}if(qx(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=Ox(n,"height");o!==void 0&&(n.height=o)}return n}const xT=d5?{passive:!0}:!1;function az(n,e,t){n&&n.addEventListener(e,t,xT)}function rz(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,xT)}function oz(n,e){const t=iz[n.type]||n.type,{x:i,y:r}=Ws(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ah(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function lz(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||ah(h.addedNodes,i),c=c&&!ah(h.removedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function cz(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||ah(h.removedNodes,i),c=c&&!ah(h.addedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const vl=new Map;let Gx=0;function ST(){const n=window.devicePixelRatio;n!==Gx&&(Gx=n,vl.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function uz(n,e){vl.size||window.addEventListener("resize",ST),vl.set(n,e)}function hz(n){vl.delete(n),vl.size||window.removeEventListener("resize",ST)}function fz(n,e,t){const i=n.canvas,r=i&&Ng(i);if(!r)return;const o=eT((h,f)=>{const p=r.clientWidth;t(h,f),p<r.clientWidth&&t()},window),c=new ResizeObserver(h=>{const f=h[0],p=f.contentRect.width,g=f.contentRect.height;p===0&&g===0||o(p,g)});return c.observe(r),uz(n,o),c}function Op(n,e,t){t&&t.disconnect(),e==="resize"&&hz(n)}function dz(n,e,t){const i=n.canvas,r=eT(o=>{n.ctx!==null&&t(oz(o,n))},n);return az(i,e,r),r}class pz extends bT{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(sz(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[wu])return!1;const i=t[wu].initial;["height","width"].forEach(o=>{const c=i[o];Ve(c)?t.removeAttribute(o):t.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[wu],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),c={attach:lz,detach:cz,resize:fz}[t]||dz;r[t]=c(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Op,detach:Op,resize:Op}[t]||rz)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return f5(e,t,i,r)}isAttached(e){const t=e&&Ng(e);return!!(t&&t.isConnected)}}function mz(n){return!Og()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?nz:pz}class Nr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return nh(this.x)&&nh(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function gz(n,e){const t=n.options.ticks,i=_z(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?vz(e):[],c=o.length,h=o[0],f=o[c-1],p=[];if(c>r)return bz(e,p,o,c/r),p;const g=yz(o,e,r);if(c>0){let _,y;const x=c>1?Math.round((f-h)/(c-1)):null;for(hu(e,p,g,Ve(x)?0:h-x,h),_=0,y=c-1;_<y;_++)hu(e,p,g,o[_],o[_+1]);return hu(e,p,g,f,Ve(x)?e.length:f+x),p}return hu(e,p,g),p}function _z(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function yz(n,e,t){const i=xz(n),r=e.length/t;if(!i)return Math.max(r,1);const o=b3(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function vz(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function bz(n,e,t,i){let r=0,o=t[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(e.push(n[c]),r++,o=t[r*i])}function hu(n,e,t,i,r){const o=Oe(i,0),c=Math.min(Oe(r,n.length),n.length);let h=0,f,p,g;for(t=Math.ceil(t),r&&(f=r-i,t=f/Math.floor(f/t)),g=o;g<0;)h++,g=Math.round(o+h*t);for(p=Math.max(o,0);p<c;p++)p===g&&(e.push(n[p]),h++,g=Math.round(o+h*t))}function xz(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const Sz=n=>n==="left"?"right":n==="right"?"left":n,Wx=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Yx=(n,e)=>Math.min(e||n,n);function Kx(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function Ez(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),p;if(!(t&&(i===1?p=Math.max(f-o,c-f):e===0?p=(n.getPixelForTick(1)-f)/2:p=(f-n.getPixelForTick(r-1))/2,f+=r<e?p:-p,f<o-h||f>c+h)))return f}function Tz(n,e){Le(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function Po(n){return n.drawTicks?n.tickLength:0}function Qx(n,e){if(!n.display)return 0;const t=At(n.font,e),i=bn(n.padding);return(ht(n.text)?n.text.length:1)*t.lineHeight+i.height}function Cz(n,e){return Or(n,{scale:e,type:"scale"})}function wz(n,e,t){return Or(n,{tick:t,index:e,type:"tick"})}function Az(n,e,t){let i=Tg(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Sz(i)),i}function Rz(n,e,t,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:p,scales:g}=f;let _=0,y,x,E;const T=c-r,w=h-o;if(n.isHorizontal()){if(x=wt(i,o,h),Re(t)){const M=Object.keys(t)[0],L=t[M];E=g[M].getPixelForValue(L)+T-e}else t==="center"?E=(p.bottom+p.top)/2+T-e:E=Wx(n,t,e);y=h-o}else{if(Re(t)){const M=Object.keys(t)[0],L=t[M];x=g[M].getPixelForValue(L)-w+e}else t==="center"?x=(p.left+p.right)/2-w+e:x=Wx(n,t,e);E=wt(i,c,r),_=t==="left"?-An:An}return{titleX:x,titleY:E,maxWidth:y,rotation:_}}class kr extends Nr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=zn(e,Number.POSITIVE_INFINITY),t=zn(t,Number.NEGATIVE_INFINITY),i=zn(i,Number.POSITIVE_INFINITY),r=zn(r,Number.NEGATIVE_INFINITY),{min:zn(e,i),max:zn(t,r),minDefined:vn(e),maxDefined:vn(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:t,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,p=h.length;f<p;++f)c=h[f].controller.getMinMax(this,e),r||(t=Math.min(t,c.min)),o||(i=Math.max(i,c.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:zn(t,zn(i,t)),max:zn(i,zn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ke(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$3(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Kx(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=gz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ke(this.options.afterUpdate,[this])}beforeSetDimensions(){Ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ke(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ke(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=Ke(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Yx(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let c=r,h,f,p;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const g=this._getLabelSizes(),_=g.widest.width,y=g.highest.height,x=Rn(this.chart.width-_,0,this.maxWidth);h=e.offset?this.maxWidth/i:x/(i-1),_+6>h&&(h=x/(i-(e.offset?.5:1)),f=this.maxHeight-Po(e.grid)-t.padding-Qx(e.title,this.chart.options.font),p=Math.sqrt(_*_+y*y),c=T3(Math.min(Math.asin(Rn((g.highest.height+6)/h,-1,1)),Math.asin(Rn(f/p,-1,1))-Math.asin(Rn(y/p,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ke(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=Qx(r,t.options.font);if(h?(e.width=this.maxWidth,e.height=Po(o)+f):(e.height=this.maxHeight,e.width=Po(o)+f),i.display&&this.ticks.length){const{first:p,last:g,widest:_,highest:y}=this._getLabelSizes(),x=i.padding*2,E=Ks(this.labelRotation),T=Math.cos(E),w=Math.sin(E);if(h){const M=i.mirror?0:w*_.width+T*y.height;e.height=Math.min(this.maxHeight,e.height+M+x)}else{const M=i.mirror?0:T*_.width+w*y.height;e.width=Math.min(this.maxWidth,e.width+M+x)}this._calculatePadding(p,g,w,T)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,p=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,x=0;f?p?(y=r*e.width,x=i*t.height):(y=i*e.height,x=r*t.width):o==="start"?x=t.width:o==="end"?y=e.width:o!=="inner"&&(y=e.width/2,x=t.width/2),this.paddingLeft=Math.max((y-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((x-_+c)*this.width/(this.width-_),0)}else{let g=t.height/2,_=e.height/2;o==="start"?(g=0,_=e.height):o==="end"&&(g=t.height,_=0),this.paddingTop=g+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ke(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ve(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Kx(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(t/Yx(t,i));let p=0,g=0,_,y,x,E,T,w,M,L,B,K,q;for(_=0;_<t;_+=f){if(E=e[_].label,T=this._resolveTickFontOptions(_),r.font=w=T.string,M=o[w]=o[w]||{data:{},gc:[]},L=T.lineHeight,B=K=0,!Ve(E)&&!ht(E))B=Tx(r,M.data,M.gc,B,E),K=L;else if(ht(E))for(y=0,x=E.length;y<x;++y)q=E[y],!Ve(q)&&!ht(q)&&(B=Tx(r,M.data,M.gc,B,q),K+=L);c.push(B),h.push(K),p=Math.max(B,p),g=Math.max(K,g)}Tz(o,t);const X=c.indexOf(p),V=h.indexOf(g),$=G=>({width:c[G]||0,height:h[G]||0});return{first:$(0),last:$(t-1),widest:$(X),highest:$(V),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return R3(this._alignToPixels?Hs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=wz(this.getContext(),e,i))}return this.$context||(this.$context=Cz(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ks(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,p=this.isHorizontal(),_=this.ticks.length+(f?1:0),y=Po(o),x=[],E=h.setContext(this.getContext()),T=E.display?E.width:0,w=T/2,M=function(z){return Hs(i,z,T)};let L,B,K,q,X,V,$,G,ce,le,ee,be;if(c==="top")L=M(this.bottom),V=this.bottom-y,G=L-w,le=M(e.top)+w,be=e.bottom;else if(c==="bottom")L=M(this.top),le=e.top,be=M(e.bottom)-w,V=L+w,G=this.top+y;else if(c==="left")L=M(this.right),X=this.right-y,$=L-w,ce=M(e.left)+w,ee=e.right;else if(c==="right")L=M(this.left),ce=e.left,ee=M(e.right)-w,X=L+w,$=this.left+y;else if(t==="x"){if(c==="center")L=M((e.top+e.bottom)/2+.5);else if(Re(c)){const z=Object.keys(c)[0],W=c[z];L=M(this.chart.scales[z].getPixelForValue(W))}le=e.top,be=e.bottom,V=L+w,G=V+y}else if(t==="y"){if(c==="center")L=M((e.left+e.right)/2);else if(Re(c)){const z=Object.keys(c)[0],W=c[z];L=M(this.chart.scales[z].getPixelForValue(W))}X=L-w,$=X-y,ce=e.left,ee=e.right}const He=Oe(r.ticks.maxTicksLimit,_),_e=Math.max(1,Math.ceil(_/He));for(B=0;B<_;B+=_e){const z=this.getContext(B),W=o.setContext(z),ie=h.setContext(z),Ce=W.lineWidth,Te=W.color,R=ie.dash||[],H=ie.dashOffset,Q=W.tickWidth,Z=W.tickColor,oe=W.tickBorderDash||[],ue=W.tickBorderDashOffset;K=Ez(this,B,f),K!==void 0&&(q=Hs(i,K,Ce),p?X=$=ce=ee=q:V=G=le=be=q,x.push({tx1:X,ty1:V,tx2:$,ty2:G,x1:ce,y1:le,x2:ee,y2:be,width:Ce,color:Te,borderDash:R,borderDashOffset:H,tickWidth:Q,tickColor:Z,tickBorderDash:oe,tickBorderDashOffset:ue}))}return this._ticksLength=_,this._borderValue=L,x}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:p,padding:g,mirror:_}=o,y=Po(i.grid),x=y+g,E=_?-g:x,T=-Ks(this.labelRotation),w=[];let M,L,B,K,q,X,V,$,G,ce,le,ee,be="middle";if(r==="top")X=this.bottom-E,V=this._getXAxisLabelAlignment();else if(r==="bottom")X=this.top+E,V=this._getXAxisLabelAlignment();else if(r==="left"){const _e=this._getYAxisLabelAlignment(y);V=_e.textAlign,q=_e.x}else if(r==="right"){const _e=this._getYAxisLabelAlignment(y);V=_e.textAlign,q=_e.x}else if(t==="x"){if(r==="center")X=(e.top+e.bottom)/2+x;else if(Re(r)){const _e=Object.keys(r)[0],z=r[_e];X=this.chart.scales[_e].getPixelForValue(z)+x}V=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")q=(e.left+e.right)/2-x;else if(Re(r)){const _e=Object.keys(r)[0],z=r[_e];q=this.chart.scales[_e].getPixelForValue(z)}V=this._getYAxisLabelAlignment(y).textAlign}t==="y"&&(f==="start"?be="top":f==="end"&&(be="bottom"));const He=this._getLabelSizes();for(M=0,L=h.length;M<L;++M){B=h[M],K=B.label;const _e=o.setContext(this.getContext(M));$=this.getPixelForTick(M)+o.labelOffset,G=this._resolveTickFontOptions(M),ce=G.lineHeight,le=ht(K)?K.length:1;const z=le/2,W=_e.color,ie=_e.textStrokeColor,Ce=_e.textStrokeWidth;let Te=V;c?(q=$,V==="inner"&&(M===L-1?Te=this.options.reverse?"left":"right":M===0?Te=this.options.reverse?"right":"left":Te="center"),r==="top"?p==="near"||T!==0?ee=-le*ce+ce/2:p==="center"?ee=-He.highest.height/2-z*ce+ce:ee=-He.highest.height+ce/2:p==="near"||T!==0?ee=ce/2:p==="center"?ee=He.highest.height/2-z*ce:ee=He.highest.height-le*ce,_&&(ee*=-1),T!==0&&!_e.showLabelBackdrop&&(q+=ce/2*Math.sin(T))):(X=$,ee=(1-le)*ce/2);let R;if(_e.showLabelBackdrop){const H=bn(_e.backdropPadding),Q=He.heights[M],Z=He.widths[M];let oe=ee-H.top,ue=0-H.left;switch(be){case"middle":oe-=Q/2;break;case"bottom":oe-=Q;break}switch(V){case"center":ue-=Z/2;break;case"right":ue-=Z;break;case"inner":M===L-1?ue-=Z:M>0&&(ue-=Z/2);break}R={left:ue,top:oe,width:Z+H.width,height:Q+H.height,color:_e.backdropColor}}w.push({label:K,font:G,textOffset:ee,options:{rotation:T,color:W,strokeColor:ie,strokeWidth:Ce,textAlign:Te,textBaseline:be,translation:[q,X],backdrop:R}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ks(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=e+o,f=c.widest.width;let p,g;return t==="left"?r?(g=this.right+o,i==="near"?p="left":i==="center"?(p="center",g+=f/2):(p="right",g+=f)):(g=this.right-h,i==="near"?p="right":i==="center"?(p="center",g-=f/2):(p="left",g=this.left)):t==="right"?r?(g=this.left+o,i==="near"?p="right":i==="center"?(p="center",g-=f/2):(p="left",g-=f)):(g=this.left+h,i==="near"?p="left":i==="center"?(p="center",g+=f/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const h=(f,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(t.display)for(o=0,c=r.length;o<c;++o){const f=r[o];t.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let p,g,_,y;this.isHorizontal()?(p=Hs(e,this.left,c)-c/2,g=Hs(e,this.right,h)+h/2,_=y=f):(_=Hs(e,this.top,c)-c/2,y=Hs(e,this.bottom,h)+h/2,p=g=f),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(p,_),t.lineTo(g,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Cg(i,r);const o=this.getLabelItems(e);for(const c of o){const h=c.options,f=c.font,p=c.label,g=c.textOffset;yl(i,p,0,g,f,h)}r&&wg(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=At(i.font),c=bn(i.padding),h=i.align;let f=o.lineHeight/2;t==="bottom"||t==="center"||Re(t)?(f+=c.bottom,ht(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:p,titleY:g,maxWidth:_,rotation:y}=Rz(this,f,t,h);yl(e,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:y,textAlign:Az(h,t,r),textBaseline:"middle",translation:[p,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Oe(e.grid&&e.grid.z,-1),r=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==kr.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=t.length;o<c;++o){const h=t[o];h[i]===this.id&&(!e||h.type===e)&&r.push(h)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return At(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fu{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;Nz(t)&&(i=this.register(t));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,Mz(e,c,i),this.override&&st.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in st[r]&&(delete st[r][i],this.override&&delete ra[i])}}function Mz(n,e,t){const i=gl(Object.create(null),[t?st.get(t):{},st.get(e),n.defaults]);st.set(e,i),n.defaultRoutes&&Oz(e,n.defaultRoutes),n.descriptors&&st.describe(e,n.descriptors)}function Oz(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),c=e[t].split("."),h=c.pop(),f=c.join(".");st.route(o,r,f,h)})}function Nz(n){return"id"in n&&"defaults"in n}class kz{constructor(){this.controllers=new fu(gT,"datasets",!0),this.elements=new fu(Nr,"elements"),this.plugins=new fu(Object,"plugins"),this.scales=new fu(kr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Le(r,c=>{const h=i||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,i){const r=Sg(e);Ke(i["before"+r],[],i),t[e](i),Ke(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var jn=new kz;class Dz{constructor(){this._init=void 0}notify(e,t,i,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,t,i,r){r=r||{};for(const o of e){const c=o.plugin,h=c[i],f=[t,r,o.options];if(Ke(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Oe(i.options&&i.options.plugins,{}),o=Iz(i);return r===!1&&!t?[]:zz(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function Iz(n){const e={},t=[],i=Object.keys(jn.plugins.items);for(let o=0;o<i.length;o++)t.push(jn.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function Lz(n,e){return!e&&n===!1?null:n===!0?{}:n}function zz(n,{plugins:e,localIds:t},i,r){const o=[],c=n.getContext();for(const h of e){const f=h.id,p=Lz(i[f],r);p!==null&&o.push({plugin:h,options:Pz(n.config,{plugin:h,local:t[f]},p,c)})}return o}function Pz(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),c=n.getOptionScopes(i,o);return t&&e.defaults&&c.push(e.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lm(n,e){const t=st.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function jz(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function Bz(n,e){return n===e?"_index_":"_value_"}function Xx(n){if(n==="x"||n==="y"||n==="r")return n}function Uz(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function cm(n,...e){if(Xx(n))return n;for(const t of e){const i=t.axis||Uz(t.position)||n.length>1&&Xx(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function $x(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Hz(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return $x(n,"x",t[0])||$x(n,"y",t[0])}return{}}function Fz(n,e){const t=ra[n.type]||{scales:{}},i=e.scales||{},r=lm(n.type,e),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Re(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=cm(c,h,Hz(c,n),st.scales[h.type]),p=Bz(f,r),g=t.scales||{};o[c]=el(Object.create(null),[{axis:f},h,g[f],g[p]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||lm(h,e),g=(ra[h]||{}).scales||{};Object.keys(g).forEach(_=>{const y=jz(_,f),x=c[y+"AxisID"]||y;o[x]=o[x]||Object.create(null),el(o[x],[{axis:y},i[x],g[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];el(h,[st.scales[h.type],st.scale])}),o}function ET(n){const e=n.options||(n.options={});e.plugins=Oe(e.plugins,{}),e.scales=Fz(n,e)}function TT(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Vz(n){return n=n||{},n.data=TT(n.data),ET(n),n}const Zx=new Map,CT=new Set;function du(n,e){let t=Zx.get(n);return t||(t=e(),Zx.set(n,t),CT.add(t)),t}const jo=(n,e,t)=>{const i=gr(e,t);i!==void 0&&n.add(i)};class qz{constructor(e){this._config=Vz(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=TT(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ET(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return du(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return du(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return du(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return du(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,c=this._cachedScopes(e,i),h=c.get(t);if(h)return h;const f=new Set;t.forEach(g=>{e&&(f.add(e),g.forEach(_=>jo(f,e,_))),g.forEach(_=>jo(f,r,_)),g.forEach(_=>jo(f,ra[o]||{},_)),g.forEach(_=>jo(f,st,_)),g.forEach(_=>jo(f,om,_))});const p=Array.from(f);return p.length===0&&p.push(Object.create(null)),CT.has(t)&&c.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,ra[t]||{},st.datasets[t]||{},{type:t},st,om]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Jx(this._resolverCache,e,r);let f=c;if(Wz(c,t)){o.$shared=!1,i=_s(i)?i():i;const p=this.createResolver(e,i,h);f=_r(c,i,p)}for(const p of t)o[p]=f[p];return o}createResolver(e,t,i=[""],r){const{resolver:o}=Jx(this._resolverCache,e,i);return Re(t)?_r(o,t,void 0,r):o}}function Jx(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:Ag(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const Gz=n=>Re(n)&&Object.getOwnPropertyNames(n).some(e=>_s(n[e]));function Wz(n,e){const{isScriptable:t,isIndexable:i}=lT(n);for(const r of e){const o=t(r),c=i(r),h=(c||o)&&n[r];if(o&&(_s(h)||Gz(h))||c&&ht(h))return!0}return!1}var Yz="4.5.1";const Kz=["top","bottom","left","right","chartArea"];function eS(n,e){return n==="top"||n==="bottom"||Kz.indexOf(n)===-1&&e==="x"}function tS(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function nS(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ke(t&&t.onComplete,[n],e)}function Qz(n){const e=n.chart,t=e.options.animation;Ke(t&&t.onProgress,[n],e)}function wT(n){return Og()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Au={},iS=n=>{const e=wT(n);return Object.values(Au).filter(t=>t.canvas===e).pop()};function Xz(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const c=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=c)}}}function $z(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let Mh=class{static defaults=st;static instances=Au;static overrides=ra;static registry=jn;static version=Yz;static getChart=iS;static register(...e){jn.add(...e),sS()}static unregister(...e){jn.remove(...e),sS()}constructor(e,t){const i=this.config=new qz(t),r=wT(e),o=iS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||mz(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,p=f&&f.height,g=f&&f.width;if(this.id=f3(),this.ctx=h,this.canvas=f,this.width=g,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Dz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=k3(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Au[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ci.listen(this,"complete",nS),ci.listen(this,"progress",Qz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return Ve(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Mx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cx(this.canvas,this.ctx),this}stop(){return ci.stop(this),this}resize(e,t){ci.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,t,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Mx(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Ke(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Le(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const h=t[c],f=cm(c,h),p=f==="r",g=f==="x";return{options:h,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),Le(o,c=>{const h=c.options,f=h.id,p=cm(f,h),g=Oe(h.type,c.dtype);(h.position===void 0||eS(h.position,p)!==eS(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===g)_=i[f];else{const y=jn.getScale(g);_=new y({id:f,type:g,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,e)}),Le(r,(c,h)=>{c||delete i[h]}),Le(i,c=>{gn.configure(this,c,c.options),gn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(tS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||lm(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=jn.getController(h),{datasetElementType:p,dataElementType:g}=st.datasets[h];Object.assign(f,{dataElementType:jn.getElement(g),datasetElementType:p&&jn.getElement(p)}),c.controller=new f(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Le(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:_}=this.getDatasetMeta(p),y=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(y),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Le(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tS("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Le(this.scales,e=>{gn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!mx(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const c=i==="_removeElements"?-o:o;Xz(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!mx(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Le(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,_s(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ci.has(this)?this.attached&&!ci.running(this)&&ci.start(this):(this.draw(),nS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=_5(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Cg(t,r),e.controller.draw(),r&&wg(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return aT(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=K5.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Or(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);_l(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ci.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Cx(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Au[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Le(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(f,p)=>{t.addEventListener(this,f,p),e[f]=p},r=(f,p)=>{e[f]&&(t.removeEventListener(this,f,p),delete e[f])},o=(f,p)=>{this.canvas&&this.resize(f,p)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){Le(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Le(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,c,h,f;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=e.length;h<f;++h){c=e[h];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Ju(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(f,p)=>f.filter(g=>!p.some(_=>g.datasetIndex===_.datasetIndex&&g.index===_.index)),c=o(t,e),h=i?e:o(e,t);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,c=t,h=this._getActiveElements(e,r,i,c),f=y3(e),p=$z(e,this._lastEvent,i,f);i&&(this._lastEvent=null,Ke(o.onHover,[e,h,this],this),f&&Ke(o.onClick,[e,h,this],this));const g=!Ju(h,r);return(g||t)&&(this._active=h,this._updateHoverStyles(h,r,t)),this._lastEvent=p,g}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}};function sS(){return Le(Mh.instances,n=>n._plugins.invalidate())}function AT(n,e){const{x:t,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],e);let h,f,p,g,_;return n.horizontal?(_=c/2,h=Math.min(t,r),f=Math.max(t,r),p=i-_,g=i+_):(_=o/2,h=t-_,f=t+_,p=Math.min(i,r),g=Math.max(i,r)),{left:h,top:p,right:f,bottom:g}}function rs(n,e,t,i){return n?0:Rn(e,t,i)}function Zz(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,o=oT(i);return{t:rs(r.top,o.top,0,t),r:rs(r.right,o.right,0,e),b:rs(r.bottom,o.bottom,0,t),l:rs(r.left,o.left,0,e)}}function Jz(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=rr(r),c=Math.min(e,t),h=n.borderSkipped,f=i||Re(r);return{topLeft:rs(!f||h.top||h.left,o.topLeft,0,c),topRight:rs(!f||h.top||h.right,o.topRight,0,c),bottomLeft:rs(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:rs(!f||h.bottom||h.right,o.bottomRight,0,c)}}function e4(n){const e=AT(n),t=e.right-e.left,i=e.bottom-e.top,r=Zz(n,t/2,i/2),o=Jz(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Np(n,e,t,i){const r=e===null,o=t===null,h=n&&!(r&&o)&&AT(n,i);return h&&(r||er(e,h.left,h.right))&&(o||er(t,h.top,h.bottom))}function t4(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function n4(n,e){n.rect(e.x,e.y,e.w,e.h)}function kp(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,c=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class i4 extends Nr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=e4(this),h=t4(c.radius)?ih:n4;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),h(e,kp(c,t,o)),e.clip(),h(e,kp(o,-t,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),h(e,kp(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Np(this,e,t,i)}inXRange(e,t){return Np(this,e,null,t)}inYRange(e,t){return Np(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const aS=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},s4=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class rS extends Nr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ke(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=At(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=aS(i,o);let p,g;t.font=r.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(c,o,h,f)+10):(g=this.maxHeight,p=this._fitCols(c,r,h,f)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],p=this.lineWidths=[0],g=r+h;let _=e;o.textAlign="left",o.textBaseline="middle";let y=-1,x=-g;return this.legendItems.forEach((E,T)=>{const w=i+t/2+o.measureText(E.text).width;(T===0||p[p.length-1]+w+2*h>c)&&(_+=g,p[p.length-(T>0?0:1)]=0,x+=g,y++),f[T]={left:0,top:x,row:y,width:w,height:r},p[p.length-1]+=w+h}),_}_fitCols(e,t,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],p=this.columnSizes=[],g=c-e;let _=h,y=0,x=0,E=0,T=0;return this.legendItems.forEach((w,M)=>{const{itemWidth:L,itemHeight:B}=a4(i,t,o,w,r);M>0&&x+B+2*h>g&&(_+=y+h,p.push({width:y,height:x}),E+=y+h,T++,y=x=0),f[M]={left:E,top:x,col:T,width:L,height:B},y=Math.max(y,L),x+=B+h}),_+=y,p.push({width:y,height:x}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,c=or(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=wt(i,this.left+r,this.right-this.lineWidths[h]);for(const p of t)h!==p.row&&(h=p.row,f=wt(i,this.left+r,this.right-this.lineWidths[h])),p.top+=this.top+e+r,p.left=c.leftForLtr(c.x(f),p.width),f+=p.width+r}else{let h=0,f=wt(i,this.top+e+r,this.bottom-this.columnSizes[h].height);for(const p of t)p.col!==h&&(h=p.col,f=wt(i,this.top+e+r,this.bottom-this.columnSizes[h].height)),p.top=f,p.left+=this.left+r,p.left=c.leftForLtr(c.x(p.left),p.width),f+=p.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Cg(e,this),this._draw(),wg(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:c}=e,h=st.color,f=or(e.rtl,this.left,this.width),p=At(c.font),{padding:g}=c,_=p.size,y=_/2;let x;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:E,boxHeight:T,itemHeight:w}=aS(c,_),M=function(X,V,$){if(isNaN(E)||E<=0||isNaN(T)||T<0)return;r.save();const G=Oe($.lineWidth,1);if(r.fillStyle=Oe($.fillStyle,h),r.lineCap=Oe($.lineCap,"butt"),r.lineDashOffset=Oe($.lineDashOffset,0),r.lineJoin=Oe($.lineJoin,"miter"),r.lineWidth=G,r.strokeStyle=Oe($.strokeStyle,h),r.setLineDash(Oe($.lineDash,[])),c.usePointStyle){const ce={radius:T*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:G},le=f.xPlus(X,E/2),ee=V+y;sT(r,ce,le,ee,c.pointStyleWidth&&E)}else{const ce=V+Math.max((_-T)/2,0),le=f.leftForLtr(X,E),ee=rr($.borderRadius);r.beginPath(),Object.values(ee).some(be=>be!==0)?ih(r,{x:le,y:ce,w:E,h:T,radius:ee}):r.rect(le,ce,E,T),r.fill(),G!==0&&r.stroke()}r.restore()},L=function(X,V,$){yl(r,$.text,X,V+w/2,p,{strikethrough:$.hidden,textAlign:f.textAlign($.textAlign)})},B=this.isHorizontal(),K=this._computeTitleHeight();B?x={x:wt(o,this.left+g,this.right-i[0]),y:this.top+g+K,line:0}:x={x:this.left+g,y:wt(o,this.top+K+g,this.bottom-t[0].height),line:0},fT(this.ctx,e.textDirection);const q=w+g;this.legendItems.forEach((X,V)=>{r.strokeStyle=X.fontColor,r.fillStyle=X.fontColor;const $=r.measureText(X.text).width,G=f.textAlign(X.textAlign||(X.textAlign=c.textAlign)),ce=E+y+$;let le=x.x,ee=x.y;f.setWidth(this.width),B?V>0&&le+ce+g>this.right&&(ee=x.y+=q,x.line++,le=x.x=wt(o,this.left+g,this.right-i[x.line])):V>0&&ee+q>this.bottom&&(le=x.x=le+t[x.line].width+g,x.line++,ee=x.y=wt(o,this.top+K+g,this.bottom-t[x.line].height));const be=f.x(le);if(M(be,ee,X),le=D3(G,le+E+y,B?le+ce:this.right,e.rtl),L(f.x(le),ee,X),B)x.x+=ce+g;else if(typeof X.text!="string"){const He=p.lineHeight;x.y+=RT(X,He)+g}else x.y+=q}),dT(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=At(t.font),r=bn(t.padding);if(!t.display)return;const o=or(e.rtl,this.left,this.width),c=this.ctx,h=t.position,f=i.size/2,p=r.top+f;let g,_=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),g=this.top+p,_=wt(e.align,_,this.right-y);else{const E=this.columnSizes.reduce((T,w)=>Math.max(T,w.height),0);g=p+wt(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const x=wt(h,_,_+y);c.textAlign=o.textAlign(Tg(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=i.string,yl(c,t.text,x,g,i)}_computeTitleHeight(){const e=this.options.title,t=At(e.font),i=bn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(er(e,this.left,this.right)&&er(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],er(e,r.left,r.left+r.width)&&er(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!l4(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=s4(r,i);r&&!o&&Ke(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&Ke(t.onHover,[e,i,this],this)}else i&&Ke(t.onClick,[e,i,this],this)}}function a4(n,e,t,i,r){const o=r4(i,n,e,t),c=o4(r,i,e.lineHeight);return{itemWidth:o,itemHeight:c}}function r4(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+i.measureText(r).width}function o4(n,e,t){let i=n;return typeof e.text!="string"&&(i=RT(e,t)),i}function RT(n,e){const t=n.text?n.text.length:0;return e*t}function l4(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var c4={id:"legend",_element:rS,start(n,e,t){const i=n.legend=new rS({ctx:n.ctx,options:t,chart:n});gn.configure(n,i,t),gn.addBox(n,i)},stop(n){gn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;gn.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const p=f.controller.getStyle(t?0:void 0),g=bn(p.borderWidth);return{text:e[f.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:c&&(h||p.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class MT extends Nr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=ht(i.text)?i.text.length:1;this._padding=bn(i.padding);const o=r*At(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,p,g,_;return this.isHorizontal()?(g=wt(h,i,o),_=t+e,p=o-i):(c.position==="left"?(g=i+e,_=wt(h,r,t),f=Rt*-.5):(g=o-e,_=wt(h,t,r),f=Rt*.5),p=r-t),{titleX:g,titleY:_,maxWidth:p,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=At(t.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:p}=this._drawArgs(o);yl(e,t.text,0,0,i,{color:t.color,maxWidth:f,rotation:p,textAlign:Tg(t.align),textBaseline:"middle",translation:[c,h]})}}function u4(n,e){const t=new MT({ctx:n.ctx,options:e,chart:n});gn.configure(n,t,e),gn.addBox(n,t),n.titleBlock=t}var h4={id:"title",_element:MT,start(n,e,t){u4(n,t)},stop(n){const e=n.titleBlock;gn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;gn.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Go={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const h=n[e].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const p=f.getCenterPoint(),g=w3(e,p);g<r&&(r=g,h=f)}}if(h){const f=h.tooltipPosition();t=f.x,i=f.y}return{x:t,y:i}}};function Pn(n,e){return e&&(ht(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ui(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function f4(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function oS(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=e,f=At(e.bodyFont),p=At(e.titleFont),g=At(e.footerFont),_=o.length,y=r.length,x=i.length,E=bn(e.padding);let T=E.height,w=0,M=i.reduce((K,q)=>K+q.before.length+q.lines.length+q.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,_&&(T+=_*p.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),M){const K=e.displayColors?Math.max(h,f.lineHeight):f.lineHeight;T+=x*K+(M-x)*f.lineHeight+(M-1)*e.bodySpacing}y&&(T+=e.footerMarginTop+y*g.lineHeight+(y-1)*e.footerSpacing);let L=0;const B=function(K){w=Math.max(w,t.measureText(K).width+L)};return t.save(),t.font=p.string,Le(n.title,B),t.font=f.string,Le(n.beforeBody.concat(n.afterBody),B),L=e.displayColors?c+2+e.boxPadding:0,Le(i,K=>{Le(K.before,B),Le(K.lines,B),Le(K.after,B)}),L=0,t.font=g.string,Le(n.footer,B),t.restore(),w+=E.width,{width:w,height:T}}function d4(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function p4(n,e,t,i){const{x:r,width:o}=i,c=t.caretSize+t.caretPadding;if(n==="left"&&r+o+c>e.width||n==="right"&&r-o-c<0)return!0}function m4(n,e,t,i){const{x:r,width:o}=t,{width:c,chartArea:{left:h,right:f}}=n;let p="center";return i==="center"?p=r<=(h+f)/2?"left":"right":r<=o/2?p="left":r>=c-o/2&&(p="right"),p4(p,n,e,t)&&(p="center"),p}function lS(n,e,t){const i=t.yAlign||e.yAlign||d4(n,t);return{xAlign:t.xAlign||e.xAlign||m4(n,e,t,i),yAlign:i}}function g4(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function _4(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function cS(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=t,p=r+o,{topLeft:g,topRight:_,bottomLeft:y,bottomRight:x}=rr(c);let E=g4(e,h);const T=_4(e,f,p);return f==="center"?h==="left"?E+=p:h==="right"&&(E-=p):h==="left"?E-=Math.max(g,y)+r:h==="right"&&(E+=Math.max(_,x)+r),{x:Rn(E,0,i.width-e.width),y:Rn(T,0,i.height-e.height)}}function pu(n,e,t){const i=bn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function uS(n){return Pn([],ui(n))}function y4(n,e,t){return Or(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function hS(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const OT={beforeTitle:li,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:li,beforeBody:li,beforeLabel:li,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ve(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:li,afterBody:li,beforeFooter:li,footer:li,afterFooter:li};function Ut(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?OT[e].call(t,i):r}class fS extends Nr{static positioners=Go;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new pT(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=y4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Ut(i,"beforeTitle",this,e),o=Ut(i,"title",this,e),c=Ut(i,"afterTitle",this,e);let h=[];return h=Pn(h,ui(r)),h=Pn(h,ui(o)),h=Pn(h,ui(c)),h}getBeforeBody(e,t){return uS(Ut(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Le(e,o=>{const c={before:[],lines:[],after:[]},h=hS(i,o);Pn(c.before,ui(Ut(h,"beforeLabel",this,o))),Pn(c.lines,Ut(h,"label",this,o)),Pn(c.after,ui(Ut(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,t){return uS(Ut(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Ut(i,"beforeFooter",this,e),o=Ut(i,"footer",this,e),c=Ut(i,"afterFooter",this,e);let h=[];return h=Pn(h,ui(r)),h=Pn(h,ui(o)),h=Pn(h,ui(c)),h}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,p;for(f=0,p=t.length;f<p;++f)h.push(f4(this.chart,t[f]));return e.filter&&(h=h.filter((g,_,y)=>e.filter(g,_,y,i))),e.itemSort&&(h=h.sort((g,_)=>e.itemSort(g,_,i))),Le(h,g=>{const _=hS(e.callbacks,g);r.push(Ut(_,"labelColor",this,g)),o.push(Ut(_,"labelPointStyle",this,g)),c.push(Ut(_,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Go[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=oS(this,i),p=Object.assign({},h,f),g=lS(this.chart,i,p),_=cS(i,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:_}=rr(h),{x:y,y:x}=e,{width:E,height:T}=t;let w,M,L,B,K,q;return o==="center"?(K=x+T/2,r==="left"?(w=y,M=w-c,B=K+c,q=K-c):(w=y+E,M=w+c,B=K-c,q=K+c),L=w):(r==="left"?M=y+Math.max(f,g)+c:r==="right"?M=y+E-Math.max(p,_)-c:M=this.caretX,o==="top"?(B=x,K=B-c,w=M-c,L=M+c):(B=x+T,K=B+c,w=M+c,L=M-c),q=B),{x1:w,x2:M,x3:L,y1:B,y2:K,y3:q}}drawTitle(e,t,i){const r=this.title,o=r.length;let c,h,f;if(o){const p=or(i.rtl,this.x,this.width);for(e.x=pu(this,i.titleAlign,i),t.textAlign=p.textAlign(i.titleAlign),t.textBaseline="middle",c=At(i.titleFont),h=i.titleSpacing,t.fillStyle=i.titleColor,t.font=c.string,f=0;f<o;++f)t.fillText(r[f],p.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,f+1===o&&(e.y+=i.titleMarginBottom-h)}}_drawColorBox(e,t,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:p}=o,g=At(o.bodyFont),_=pu(this,"left",o),y=r.x(_),x=f<g.lineHeight?(g.lineHeight-f)/2:0,E=t.y+x;if(o.usePointStyle){const T={radius:Math.min(p,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},w=r.leftForLtr(y,p)+p/2,M=E+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,wx(e,T,w,M),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,wx(e,T,w,M)}else{e.lineWidth=Re(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const T=r.leftForLtr(y,p),w=r.leftForLtr(r.xPlus(y,1),p-2),M=rr(c.borderRadius);Object.values(M).some(L=>L!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,ih(e,{x:T,y:E,w:p,h:f,radius:M}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),ih(e,{x:w,y:E+1,w:p-2,h:f-2,radius:M}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(T,E,p,f),e.strokeRect(T,E,p,f),e.fillStyle=c.backgroundColor,e.fillRect(w,E+1,p-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:p,boxPadding:g}=i,_=At(i.bodyFont);let y=_.lineHeight,x=0;const E=or(i.rtl,this.x,this.width),T=function($){t.fillText($,E.x(e.x+x),e.y+y/2),e.y+=y+o},w=E.textAlign(c);let M,L,B,K,q,X,V;for(t.textAlign=c,t.textBaseline="middle",t.font=_.string,e.x=pu(this,w,i),t.fillStyle=i.bodyColor,Le(this.beforeBody,T),x=h&&w!=="right"?c==="center"?p/2+g:p+2+g:0,K=0,X=r.length;K<X;++K){for(M=r[K],L=this.labelTextColors[K],t.fillStyle=L,Le(M.before,T),B=M.lines,h&&B.length&&(this._drawColorBox(t,e,K,E,i),y=Math.max(_.lineHeight,f)),q=0,V=B.length;q<V;++q)T(B[q]),y=_.lineHeight;Le(M.after,T)}x=0,y=_.lineHeight,Le(this.afterBody,T),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let c,h;if(o){const f=or(i.rtl,this.x,this.width);for(e.x=pu(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=f.textAlign(i.footerAlign),t.textBaseline="middle",c=At(i.footerFont),t.fillStyle=i.footerColor,t.font=c.string,h=0;h<o;++h)t.fillText(r[h],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=e,{width:p,height:g}=i,{topLeft:_,topRight:y,bottomLeft:x,bottomRight:E}=rr(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(h+_,f),c==="top"&&this.drawCaret(e,t,i,r),t.lineTo(h+p-y,f),t.quadraticCurveTo(h+p,f,h+p,f+y),c==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(h+p,f+g-E),t.quadraticCurveTo(h+p,f+g,h+p-E,f+g),c==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(h+x,f+g),t.quadraticCurveTo(h,f+g,h,f+g-x),c==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(h,f+_),t.quadraticCurveTo(h,f,h+_,f),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Go[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=oS(this,e),f=Object.assign({},c,this._size),p=lS(t,e,f),g=cS(e,f,p,t);(r._to!==g.x||o._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=bn(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),fT(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),dT(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:h,index:f})=>{const p=this.chart.getDatasetMeta(h);if(!p)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:p.data[f],index:f}}),o=!Ju(i,r),c=this._positionChanged(r,t);(o||c)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,i),h=this._positionChanged(c,e),f=t||!Ju(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),f}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,c=Go[o.position].call(this,e,t);return c!==!1&&(i!==c.x||r!==c.y)}}var v4={id:"tooltip",_element:fS,positioners:Go,afterInit(n,e,t){t&&(n.tooltip=new fS({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:OT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const b4=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function x4(n,e,t,i){const r=n.indexOf(e);if(r===-1)return b4(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const S4=(n,e)=>n===null?null:Rn(Math.round(n),0,e);function dS(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class E4 extends kr{static id="category";static defaults={ticks:{callback:dS}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ve(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:x4(i,e,Oe(t,e),this._addedLabels),S4(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=t;c++)r.push({value:c});return r}getLabelForValue(e){return dS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function T4(n,e){const t=[],{bounds:r,step:o,min:c,max:h,precision:f,count:p,maxTicks:g,maxDigits:_,includeBounds:y}=n,x=o||1,E=g-1,{min:T,max:w}=e,M=!Ve(c),L=!Ve(h),B=!Ve(p),K=(w-T)/(_+1);let q=_x((w-T)/E/x)*x,X,V,$,G;if(q<1e-14&&!M&&!L)return[{value:T},{value:w}];G=Math.ceil(w/q)-Math.floor(T/q),G>E&&(q=_x(G*q/E/x)*x),Ve(f)||(X=Math.pow(10,f),q=Math.ceil(q*X)/X),r==="ticks"?(V=Math.floor(T/q)*q,$=Math.ceil(w/q)*q):(V=T,$=w),M&&L&&o&&S3((h-c)/o,q/1e3)?(G=Math.round(Math.min((h-c)/q,g)),q=(h-c)/G,V=c,$=h):B?(V=M?c:V,$=L?h:$,G=p-1,q=($-V)/G):(G=($-V)/q,Cu(G,Math.round(G),q/1e3)?G=Math.round(G):G=Math.ceil(G));const ce=Math.max(yx(q),yx(V));X=Math.pow(10,Ve(f)?ce:f),V=Math.round(V*X)/X,$=Math.round($*X)/X;let le=0;for(M&&(y&&V!==c?(t.push({value:c}),V<c&&le++,Cu(Math.round((V+le*q)*X)/X,c,pS(c,K,n))&&le++):V<c&&le++);le<G;++le){const ee=Math.round((V+le*q)*X)/X;if(L&&ee>h)break;t.push({value:ee})}return L&&y&&$!==h?t.length&&Cu(t[t.length-1].value,h,pS(h,K,n))?t[t.length-1].value=h:t.push({value:h}):(!L||$===h)&&t.push({value:$}),t}function pS(n,e,{horizontal:t,minRotation:i}){const r=Ks(i),o=(t?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+n).length;return Math.min(e/o,c)}class C4 extends kr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ve(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=t?r:f,h=f=>o=i?o:f;if(e){const f=ds(r),p=ds(o);f<0&&p<0?h(0):f>0&&p>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),e||c(r-f)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,c=T4(r,o);return e.bounds==="ticks"&&E3(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return nT(e,this.chart.options.locale,this.options.ticks.format)}}class w4 extends C4{static id="linear";static defaults={ticks:{callback:iT.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=vn(e)?e:0,this.max=vn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Ks(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Oh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ht=Object.keys(Oh);function mS(n,e){return n-e}function gS(n,e){if(Ve(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),vn(c)||(c=typeof i=="string"?t.parse(c,i):t.parse(c)),c===null?null:(r&&(c=r==="week"&&(nh(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,r)),+c)}function _S(n,e,t,i){const r=Ht.length;for(let o=Ht.indexOf(n);o<r-1;++o){const c=Oh[Ht[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=i)return Ht[o]}return Ht[r-1]}function A4(n,e,t,i,r){for(let o=Ht.length-1;o>=Ht.indexOf(t);o--){const c=Ht[o];if(Oh[c].common&&n._adapter.diff(r,i,c)>=e-1)return c}return Ht[t?Ht.indexOf(t):0]}function R4(n){for(let e=Ht.indexOf(n)+1,t=Ht.length;e<t;++e)if(Oh[Ht[e]].common)return Ht[e]}function yS(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=Eg(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function M4(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),c=e[e.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=t[h],f>=0&&(e[f].major=!0);return e}function vS(n,e,t){const i=[],r={},o=e.length;let c,h;for(c=0;c<o;++c)h=e[c],r[h]=c,i.push({value:h,major:!1});return o===0||!t?i:M4(n,i,r,t)}class bS extends kr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new V5._date(e.adapters.date);r.init(t),el(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:gS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(p){!c&&!isNaN(p.min)&&(r=Math.min(r,p.min)),!h&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!c||!h)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=vn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=vn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=O3(r,o,c);return this._unit=t.unit||(i.autoSkip?_S(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):A4(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:R4(this._unit),this.initOffsets(r),e.reverse&&h.reverse(),vS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=Rn(t,0,c),i=Rn(i,0,c),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||_S(o.minUnit,t,i,this._getLabelCapacity(t)),h=Oe(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,p=nh(f)||f===!0,g={};let _=t,y,x;if(p&&(_=+e.startOf(_,"isoWeek",f)),_=+e.startOf(_,p?"day":c),e.diff(i,t,c)>1e5*h)throw new Error(t+" and "+i+" are too far apart with stepSize of "+h+" "+c);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(y=_,x=0;y<i;y=+e.add(y,h,c),x++)yS(g,y,E);return(y===i||r.bounds==="ticks"||x===1)&&yS(g,y,E),Object.keys(g).sort(mS).map(T=>+T)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,c=t||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,i,r){const o=this.options,c=o.ticks.callback;if(c)return Ke(c,[e,t,i],this);const h=o.time.displayFormats,f=this._unit,p=this._majorUnit,g=f&&h[f],_=p&&h[p],y=i[t],x=p&&_&&y&&y.major;return this._adapter.format(e,r||(x?_:g))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Ks(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,vS(this,[e],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(gS(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Z1(e.sort(mS))}}function mu(n,e,t){let i=0,r=n.length-1,o,c,h,f;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=rm(n,"pos",e)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=rm(n,"time",e)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const p=c-o;return p?h+(f-h)*(e-o)/p:h}class F4 extends bS{static id="timeseries";static defaults=bS.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=mu(t,this.min),this._tableRange=mu(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let c,h,f,p,g;for(c=0,h=e.length;c<h;++c)p=e[c],p>=t&&p<=i&&r.push(p);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)g=r[c+1],f=r[c-1],p=r[c],Math.round((g+f)/2)!==p&&o.push({time:p,pos:c/(h-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(mu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return mu(this._table,i*this._tableRange+this._minPos,!0)}}const NT="label";function xS(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function O4(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function kT(n,e){n.labels=e}function DT(n,e,t=NT){const i=[];n.datasets=e.map(r=>{const o=n.datasets.find(c=>c[t]===r[t]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function N4(n,e=NT){const t={labels:[],datasets:[]};return kT(t,n.labels),DT(t,n.datasets,e),t}function k4(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:p=[],fallbackContent:g,updateMode:_,...y}=n,x=N.useRef(null),E=N.useRef(null),T=()=>{x.current&&(E.current=new Mh(x.current,{type:c,data:N4(h,o),options:f&&{...f},plugins:p}),xS(e,E.current))},w=()=>{xS(e,null),E.current&&(E.current.destroy(),E.current=null)};return N.useEffect(()=>{!r&&E.current&&f&&O4(E.current,f)},[r,f]),N.useEffect(()=>{!r&&E.current&&kT(E.current.config.data,h.labels)},[r,h.labels]),N.useEffect(()=>{!r&&E.current&&h.datasets&&DT(E.current.config.data,h.datasets,o)},[r,h.datasets]),N.useEffect(()=>{E.current&&(r?(w(),setTimeout(T)):E.current.update(_))},[r,f,h.labels,h.datasets,_]),N.useEffect(()=>{E.current&&(w(),setTimeout(T))},[c]),N.useEffect(()=>(T(),()=>w()),[]),b.jsx("canvas",{ref:x,role:"img",height:t,width:i,...y,children:g})}const D4=N.forwardRef(k4);function I4(n,e){return Mh.register(e),N.forwardRef((t,i)=>b.jsx(D4,{...t,ref:i,type:n}))}const L4=I4("bar",F5);Mh.register(E4,w4,i4,h4,v4,c4);function z4({orders:n}){const i={labels:["Espresso","Cappuccino","Latte","Matcha","Holy"],datasets:[{label:"Verkaufte Tassen",data:[12,19,3,5,2],backgroundColor:"rgba(212, 180, 131, 0.6)",borderColor:"rgba(212, 180, 131, 1)",borderWidth:1}]},r={responsive:!0,plugins:{legend:{position:"top",labels:{color:"white"}},title:{display:!0,text:"Top Seller",color:"white"}},scales:{y:{ticks:{color:"white"},grid:{color:"#444"}},x:{ticks:{color:"white"},grid:{color:"#444"}}}};return b.jsxs("div",{className:"page-content",style:{padding:"20px",paddingTop:"80px",color:"white"},children:[b.jsx("h1",{children:"Statistiken "}),b.jsx("div",{style:{background:"rgba(0,0,0,0.5)",padding:"15px",borderRadius:"10px"},children:b.jsx(L4,{options:r,data:i})}),b.jsx("p",{style:{marginTop:"20px"},children:"Hier siehst du bald deine echten Verkaufszahlen!"})]})}function P4(){return b.jsxs("div",{className:"page-content",style:{padding:"20px",paddingBottom:"100px",color:"#fff",maxWidth:"800px",margin:"0 auto"},children:[b.jsx("h2",{className:"bean-title",style:{marginTop:"20px",fontSize:"1.8rem",textAlign:"center",color:"#fff"},children:"Tchibo Barista Espresso"}),b.jsx("div",{className:"bean-sub",style:{textAlign:"center",color:"#d4b483",marginBottom:"30px",textTransform:"uppercase",letterSpacing:"1px",fontSize:"0.9rem"},children:"Traditionelle Trommelrstung"}),b.jsx("div",{className:"product-stage",style:{display:"flex",justifyContent:"center",marginBottom:"30px"},children:b.jsx("img",{src:"/assets/img/bohnen.png",alt:"Tchibo Barista Espresso",className:"product-img",style:{maxHeight:"250px",filter:"drop-shadow(0 10px 15px rgba(0,0,0,0.5))"}})}),b.jsxs("div",{className:"flavor-tags",style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"10px",marginBottom:"30px"},children:[b.jsx(gu,{text:"Intensiv"}),b.jsx(gu,{text:"Nussig"}),b.jsx(gu,{text:"Zartbitter"}),b.jsx(gu,{text:"Surearm"})]}),b.jsxs("div",{className:"ratio-box",style:{background:"rgba(255,255,255,0.05)",padding:"15px",borderRadius:"10px",marginBottom:"30px"},children:[b.jsx("div",{className:"ratio-label",style:{fontSize:"0.8rem",color:"#aaa",marginBottom:"5px"},children:"Bohnenmischung"}),b.jsx("div",{className:"ratio-bar",style:{height:"25px",background:"#333",borderRadius:"5px",overflow:"hidden",display:"flex"},children:b.jsx("div",{className:"arabica-full",style:{width:"100%",background:"#6f4e37",color:"#fff",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"100% Tchibo Arabica"})})]}),b.jsxs("div",{className:"aroma-section",style:{marginBottom:"30px"},children:[b.jsx("div",{className:"ratio-label",style:{textAlign:"left",marginBottom:"15px",color:"#d4b483",fontWeight:"bold"},children:"Aroma Profil"}),b.jsx(_u,{label:"Intensitt",percent:"83%",color:"#d4b483"}),b.jsx(_u,{label:"Krper",percent:"80%",color:"#a09085"}),b.jsx(_u,{label:"Sure",percent:"5%",color:"#a09085"})," ",b.jsx(_u,{label:"Rstung",percent:"100%",color:"#3e2c22"})]}),b.jsxs("div",{className:"bean-text",style:{lineHeight:"1.6",fontSize:"0.95rem",background:"rgba(0,0,0,0.2)",padding:"20px",borderRadius:"10px",marginBottom:"30px"},children:[b.jsxs("p",{style:{marginBottom:"15px"},children:["Mit dem ",b.jsx("b",{children:"Tchibo Barista Espresso"})," erleben wir Kaffee-Handwerk in Perfektion. Die Bohnen werden im traditionellen ",b.jsx("b",{children:"Trommelrster"})," veredelt. Das bedeutet: Sie werden langsamer und schonender gerstet als industrieller Kaffee."]}),b.jsx("p",{children:"Das Ergebnis ist ein charaktervoller, intensiver Espresso mit weichem Krper, goldbrauner Crema und einer feinen Note von Zartbitterschokolade und Nuss."})]}),b.jsxs("div",{className:"data-grid",style:{display:"grid",gridTemplateColumns:"1fr",gap:"10px"},children:[b.jsx(Bo,{label:"Ursprung",value:"Lateinamerika & Asien"}),b.jsx(Bo,{label:"Rstung",value:"Trommelrstung (Dunkel)"}),b.jsx(Bo,{label:"Zertifizierung",value:"Fairtrade"}),b.jsx(Bo,{label:"Hersteller",value:"Tchibo GmbH"}),b.jsx(Bo,{label:"Feature",value:"Aroma-Verschluss"})]})]})}function gu({text:n}){return b.jsx("span",{style:{background:"#3e2c22",color:"#d4b483",padding:"5px 12px",borderRadius:"20px",fontSize:"0.85rem",border:"1px solid #d4b483"},children:n})}function _u({label:n,percent:e,color:t}){return b.jsxs("div",{className:"aroma-row",style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[b.jsx("span",{className:"aroma-name",style:{width:"80px",fontSize:"0.9rem"},children:n}),b.jsx("div",{className:"aroma-bar-bg",style:{flex:1,height:"8px",background:"#333",borderRadius:"4px",overflow:"hidden"},children:b.jsx("div",{className:"aroma-fill",style:{width:e,background:t,height:"100%"}})})]})}function Bo({label:n,value:e}){return b.jsxs("div",{className:"data-row",style:{display:"flex",justifyContent:"space-between",padding:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[b.jsx("span",{className:"data-label",style:{color:"#888",fontSize:"0.9rem"},children:n}),b.jsx("span",{className:"data-val",style:{color:"#fff",fontWeight:"bold",fontSize:"0.9rem"},children:e})]})}function j4(){return b.jsxs("div",{className:"page-content",style:{padding:"20px",paddingBottom:"100px",color:"#fff",maxWidth:"800px",margin:"0 auto"},children:[b.jsx("img",{src:"/assets/img/glaeser-hero.jpg",alt:"Glser Auswahl",className:"glass-hero",style:{width:"100%",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)"}}),b.jsxs("div",{className:"info-card",style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"10px",marginBottom:"30px"},children:[b.jsx("div",{className:"info-title",style:{fontSize:"1.2rem",color:"#d4b483",marginBottom:"10px",fontWeight:"bold"},children:"Das Geheimnis der zwei Wnde"}),b.jsxs("p",{className:"info-text",style:{lineHeight:"1.6",fontSize:"0.95rem"},children:["Jedes Getrnk wird in exklusiven, ",b.jsx("span",{className:"highlight",style:{color:"#d4b483",fontWeight:"bold"},children:"doppelwandigen Thermoglsern"})," serviert. Zwischen den zwei Glasschichten ist eine Vakuumschicht eingeschlossen. Diese sorgt dafr, dass die Hitze von Kaffee, Espresso oder Latte Macchiato nicht nach auen dringen kann.",b.jsx("br",{}),b.jsx("br",{}),b.jsx("b",{children:"Der Effekt:"})," Das uere Glas bleibt angenehm khl, whrend der Inhalt lange hei bleibt. Andersherum bleiben Eiskaffees im Sommer lnger eiskalt."]})]}),b.jsxs("div",{className:"glass-detail-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"30px",alignItems:"center"},children:[b.jsx("div",{children:b.jsx("img",{src:"/assets/img/borosilikat.webp",alt:"Glas Detail",className:"detail-img",style:{width:"100%",borderRadius:"15px",boxShadow:"0 5px 15px rgba(0,0,0,0.3)"}})}),b.jsxs("div",{children:[b.jsx("div",{className:"info-title",style:{fontSize:"1.2rem",color:"#d4b483",marginBottom:"10px",fontWeight:"bold"},children:"High-Tech aus dem Labor"}),b.jsxs("p",{className:"info-text",style:{marginBottom:"15px",lineHeight:"1.6"},children:["Unsere Glser bestehen aus ",b.jsx("span",{className:"highlight",style:{color:"#d4b483",fontWeight:"bold"},children:"Borosilikatglas"}),". Im Vergleich zu normalem Glas enthlt es Bor, was es extrem widerstandsfhig macht."]}),b.jsxs("ul",{className:"feature-list",style:{listStyle:"none",padding:0},children:[b.jsx(Uo,{text:"Hitzebestndig & Robust"}),b.jsx(Uo,{text:"Kein Temperaturschock"}),b.jsx(Uo,{text:"Ultraleichtes Gewicht"}),b.jsx(Uo,{text:"Chemikalienbestndig"}),b.jsx(Uo,{text:"Kristallklare Optik"})]})]})]})]})}function Uo({text:n}){return b.jsxs("li",{style:{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx("span",{style:{color:"#d4b483"},children:""})," ",n]})}function B4({currentUser:n,onLoginClick:e}){const t=pm();N.useEffect(()=>{n&&t("/")},[n,t]);const i={hero:{minHeight:"90vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"40px 20px",position:"relative",zIndex:10}};return b.jsxs("div",{style:{backgroundColor:"#2c1e16",overflowX:"hidden",minHeight:"100vh",color:"#fff"},children:[b.jsx("div",{className:"aurora-blob blob-1"}),b.jsx("div",{className:"aurora-blob blob-2"}),b.jsx("div",{className:"aurora-blob blob-3"}),b.jsxs("section",{style:i.hero,children:[b.jsx("div",{className:"brand-badge",children:"Private Coffee Club"}),b.jsx("div",{className:"logo-container",children:b.jsx("img",{src:"/assets/img/logo.jpg",alt:"Timo's Barista Bar Logo",className:"hero-logo"})}),b.jsx("p",{className:"hero-desc",children:"Willkommen in Timo's Barista Bar. Bestelle deinen Lieblingskaffee per App, sammle Stempel und tracke deinen Koffein-Haushalt. Exklusiv fr Freunde & Familie."}),b.jsxs("div",{className:"cta-group",children:[b.jsx("button",{onClick:e,className:"btn-primary",style:{border:"none",cursor:"pointer",fontSize:"1.1rem",fontFamily:"inherit"},children:"Jetzt bestellen "}),b.jsx("a",{href:"#features",className:"btn-secondary",children:"Mehr erfahren"})]}),b.jsxs("div",{className:"app-mockup",children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"10px"},children:[b.jsx("span",{style:{color:"#d4b483",fontWeight:"bold"},children:"Status:"}),b.jsx("span",{style:{color:"#4ade80"},children:" Barista bereit"})]}),b.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"15px",borderRadius:"10px",display:"flex",alignItems:"center",gap:"15px"},children:[b.jsx("div",{style:{fontSize:"2rem"},children:""}),b.jsxs("div",{style:{textAlign:"left"},children:[b.jsx("div",{style:{color:"#fff",fontWeight:"bold"},children:"Cappuccino"}),b.jsx("div",{style:{color:"#888",fontSize:"0.8rem"},children:"Strke: "})]}),b.jsx("div",{style:{marginLeft:"auto",color:"#d4b483"},children:"+"})]})]})]}),b.jsxs("section",{id:"features",className:"features",children:[b.jsx("h2",{className:"section-title",children:b.jsx("span",{children:"Deine Vorteile"})}),b.jsxs("div",{className:"feature-grid",children:[b.jsxs("div",{className:"feature-card",children:[b.jsx("span",{className:"f-icon",children:""}),b.jsx("div",{className:"f-title",children:"Live Status"}),b.jsx("div",{className:"f-text",children:"Keine kalten Fe mehr. Sieh in Echtzeit, ob die Bar geffnet ist und wie lange deine Zubereitung dauert. Inklusive Push-Benachrichtigung."})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx("span",{className:"f-icon",children:""}),b.jsx("div",{className:"f-title",children:"Stats & Wrapped"}),b.jsx("div",{className:"f-text",children:"Tracke deinen Konsum. Wie viel Geld hast du gegenber Starbucks gespart? Was ist dein Lieblingsgetrnk? Deine persnliche Statistik."})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx("span",{className:"f-icon",children:""}),b.jsx("div",{className:"f-title",children:"Daily Spin & Rewards"}),b.jsx("div",{className:"f-text",children:"Dreh jeden Tag am Glcksrad und gewinne Extras. Sammle Stempel auf deiner digitalen Karte fr Gratis-Kekse."})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx("span",{className:"f-icon",children:""}),b.jsx("div",{className:"f-title",children:"Saisonale Specials"}),b.jsx("div",{className:"f-text",children:"Von Iced Matcha Latte bis zum klassischen Flat White. Entdecke neue Kreationen mit detaillierten Infos zur Zubereitung."})]})]}),b.jsxs("div",{className:"stats-teaser scroll-reveal",children:[b.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:""}),b.jsx("h3",{style:{color:"#d4b483",marginBottom:"10px"},children:"Hall of Fame"}),b.jsxs("p",{style:{color:"#ddd",marginBottom:"20px"},children:["Wer ist der grte Koffein-Junkie der Familie? ",b.jsx("br",{}),"Logge dich ein und kmpfe um Platz 1 im Leaderboard."]}),b.jsx("button",{onClick:e,className:"btn-primary",style:{padding:"10px 30px",fontSize:"1rem",border:"none",cursor:"pointer",fontFamily:"inherit"},children:"Zum Login"})]})]}),b.jsxs("footer",{className:"landing-footer",children:[" 2025 Timo's Barista Bar Web App.",b.jsx("br",{}),"Designed with  & ."]})]})}const SS="deine.email@beispiel.de";function U4(){const[n,e]=N.useState(!1),[t,i]=N.useState(!1),[r,o]=N.useState(!1),[c,h]=N.useState({}),[f,p]=N.useState(null),[g,_]=N.useState(null),[y,x]=N.useState(null),[E,T]=N.useState(0),[w,M]=N.useState(!1),[L,B]=N.useState(!1),[K,q]=N.useState(!1),[X,V]=N.useState(null);N.useEffect(()=>{const ee=cI(mr,be=>{be?(console.log("Eingeloggt als:",be.displayName),x(be),o(!1)):x(null)});return()=>ee()},[]),N.useEffect(()=>{if(y){const ee=Bn(Un,`users/${y.uid}/favorites`),be=dr(ee,He=>{h(He.val()||{})});return()=>be()}else h({})},[y]),N.useEffect(()=>{if(y){const ee=Bn(Un,`users/${y.uid}/coffeeCount`),be=dr(ee,He=>{T(He.val()||0)});return()=>be()}else T(0)},[y]);const $=()=>{uI(mr).then(()=>{alert("Ausgeloggt! "),i(!1)})},G=ee=>p(ee),ce=ee=>{if(!y){o(!0);return}const be=Bn(Un,`users/${y.uid}/favorites/${ee}`);c[ee]?u1(be):og(be,!0)},le=ee=>{const be={user:y?y.displayName:"Gast (React)",uid:y?y.uid:"anonymous",coffee:ee.coffee,details:ee.details,comment:ee.comment,timestamp:Date.now(),dateString:new Date().toLocaleString(),status:"new"},He=jD(Bn(Un,"orders"),be);He.then(()=>{if(y){const _e=Bn(Un,`users/${y.uid}/coffeeCount`);a2(_e,z=>(z||0)+1).then(z=>{const W=z.snapshot.val();W>0&&W%10===0&&(new Audio("/assets/audio/ding.mp3").play().catch(ie=>{}),setTimeout(()=>M(!0),500))})}_(be),p(null),V(He.key),e(!0)}).catch(_e=>alert(_e.message))};return b.jsx(LR,{children:b.jsxs("div",{className:"app-wrapper",children:[b.jsx("div",{className:"aurora-blob blob-1"}),b.jsx("div",{className:"aurora-blob blob-2"}),b.jsx("div",{className:"aurora-blob blob-3"}),b.jsx("div",{id:"snow-container"}),b.jsx(jL,{onOpenMenu:()=>i(!0),currentUser:y,onLogin:()=>o(!0)}),b.jsx(GR,{}),b.jsxs(hR,{children:[b.jsx(Vs,{path:"/",element:y?b.jsx(FL,{currentUser:y,coffeeCount:E,favorites:c,handleOrderClick:G,handleToggleFav:ce,KAFFEE_SORTEN:KR}):b.jsx(B4,{currentUser:y,onLoginClick:()=>o(!0)})}),b.jsx(Vs,{path:"/maschine",element:b.jsx(VL,{})}),b.jsx(Vs,{path:"/bohnen",element:b.jsx(P4,{})}),b.jsx(Vs,{path:"/stats",element:b.jsx(z4,{})}),b.jsx(Vs,{path:"/glaeser",element:b.jsx(j4,{})}),b.jsx(Vs,{path:"*",element:b.jsx(cR,{to:"/"})})]}),b.jsx(TL,{isOpen:r,onClose:()=>o(!1)}),b.jsx(QR,{isOpen:!!f,selectedCoffee:f,onClose:()=>p(null),onSendOrder:le}),b.jsx(YR,{isOpen:n,onClose:()=>e(!1),orderData:g}),b.jsx(zL,{isOpen:w,onClose:()=>M(!1)}),b.jsx(CL,{isOpen:L,onClose:()=>B(!1),onOpenReceipt:ee=>{_(ee),B(!1),e(!0)}}),b.jsx(PL,{isOpen:K,onClose:()=>q(!1)}),!n&&b.jsx(BL,{orderId:X,onClose:()=>V(null)}),t&&b.jsxs("div",{className:"menu-dropdown",children:[b.jsxs("button",{onClick:()=>{i(!1),B(!0)},className:"menu-btn",children:[b.jsx("span",{className:"menu-icon",children:""}),"Meine Bestellungen"]}),b.jsxs(ns,{to:"/stats",onClick:()=>i(!1),className:"menu-btn",children:[b.jsx("span",{className:"menu-icon",children:""}),"Stats & Wrapped"]}),b.jsx("div",{className:"menu-divider"}),y&&y.email===SS&&b.jsxs("button",{onClick:()=>{i(!1),q(!0)},className:"menu-btn",children:[b.jsx("span",{className:"menu-icon",children:""}),"Admin"]}),y&&b.jsxs("button",{onClick:$,className:"menu-btn logout",children:[b.jsx("span",{className:"menu-icon",children:""}),"Logout"]})]}),b.jsxs("footer",{style:{textAlign:"center",padding:"20px",fontSize:"0.8rem",opacity:.7,marginBottom:"80px"},children:[b.jsx("p",{children:" 2025 Timo's Barista Bar"}),y&&y.email===SS&&b.jsx("button",{onClick:()=>q(!0),style:{background:"#ef4444",color:"white",border:"none",padding:"8px 15px",borderRadius:"20px",marginTop:"10px",cursor:"pointer",boxShadow:"0 4px 10px rgba(239, 68, 68, 0.4)"},children:" Kitchen Dashboard ffnen"})]})]})})}dA.createRoot(document.getElementById("root")).render(b.jsx(N.StrictMode,{children:b.jsx(U4,{})}));
